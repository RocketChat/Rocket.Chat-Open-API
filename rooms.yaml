openapi: 3.0.0
info:
  version: 1.0.0
  title: Rooms
#  description: |-
#    Conversations take place in rooms. This section includes the following:
#    * **Groups**: Organize discussions with groups or channels.
#    * **Channels**: Create and manage dedicated [channels](https://docs.rocket.chat/use-rocket.chat/user-guides/rooms/channels) for various topics.
#    * **Rooms**: Manage rooms and modify room settings.
#    * **Teams**: Create and manage [teams](https://docs.rocket.chat/use-rocket.chat/user-guides/rooms/teams) and team members.
#    * **Directory**: Search workspace users, teams, and channels.
servers:
  - url: https://apiexplorer.support.rocket.chat
paths:
  /api/v1/channels.create:
    post:
      tags:
        - Channels
      summary: Create Channel
      description: |-
        Create a public channel. Optionally, include specified users. The channel creator is included as a member by default.
        Channel naming has restraints following the regex filter `[0-9a-zA-Z-_.]+` by default. See <a href="https://docs.rocket.chat/docs/general#utf8" target="_blank">UTF8 Settings</a> to modify regex filter for channel names. Channel names must not allow for any whitespaces.

        ### Changelog

        | Version | Description               |
        | ------- | ------------------------- |
        | 6.4.1   | Added `excludeSelf` param |
        | 0.13.0  | Added                     |
      operationId: post-api-v1-channels.create
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  description: The name of the channel.
                members:
                  type: array
                  description: An array of the users to be added to the channel when it is created.
                  items:
                    type: string
                readOnly:
                  type: boolean
                  description: Set if the channel is read only or not. It is `false` by default.
                excludeSelf:
                  type: boolean
                  description: 'If set to true, the user calling the endpoint is not automatically added as a member of the channel. The default `value` is false.'
                customFields:
                  type: object
                  description: 'If you have defined custom fields for your workspace, you can provide them in this object parameter.'
                extraData:
                  type: object
                  description: |-
                    Enter the following details for the object:
                    - `broadcast`: Whether the channel should be a broadcast group.
                    - `encrypted`: Whether the channel should be encrypted.
                    - `teamId`: Enter the team ID for which you want to create a group.
                    
                    For more information, see <a href='https://docs.rocket.chat/use-rocket.chat/user-guides/rooms/channels#channel-privacy-and-encryption' target='_blank'>Channels</a>
              required:
                - name
            examples:
              Example:
                value:
                  name: channelname
                  members:
                    - rocket.cat
                  readOnly: true
                  excludeSelf: true
                  customFields:
                    type: default
                  extraData:
                    broadcast: true
                    encrypted: false
                    teamId: 658441562dd9f928ad9951aa
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  channel:
                    type: object
                    properties:
                      _id:
                        type: string
                      fname:
                        type: string
                      _updatedAt:
                        type: string
                      customFields:
                        type: object
                      name:
                        type: string
                      t:
                        type: string
                      msgs:
                        type: integer
                      usersCount:
                        type: integer
                      u:
                        type: object
                        properties:
                          _id:
                            type: string
                          username:
                            type: string
                          name:
                            type: string
                      ts:
                        type: string
                      ro:
                        type: boolean
                      default:
                        type: boolean
                      sysMes:
                        type: boolean
                  success:
                    type: boolean
              examples:
                Example:
                  value:
                    channel:
                      _id: ByehQjC44FwMeiLbX
                      name: channelname
                      t: c
                      usernames:
                        - example
                      msgs: 0
                      u:
                        _id: aobEdbYhXfu5hkeqG
                        username: example
                      ts: '2016-05-30T13:42:25.304Z'
                    success: true
        '401':
          $ref: '#/components/responses/authorizationError'
  /api/v1/channels.addAll:
    post:
      tags:
        - Channels
      summary: Add all Users to a Channel
      description: |-
        Adds all users in the workspace to a channel.
        
        ### Changelog
        | Version | Description               |
        | ------- | ------------------------- |
        |0.55.0   | Added `activeUsersOnly` param |
        |0.48.0   | Renamed to `channels.addAll` from `channel.addAll`|
      operationId: post-api-v1-channels.addAll
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                roomId:
                  type: string
                  description: The channel's id.
                activeUsersOnly:
                  type: boolean
                  description: Add only active users. It is `false` by default.
              required:
                - roomId
            examples:
              Example:
                value:
                  roomId: WDuJLFkjwk6L7LdFC
                  activeUsersOnly: true
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  channel:
                    type: object
                    properties:
                      _id:
                        type: string
                      fname:
                        type: string
                      customFields:
                        type: object
                      topic:
                        type: string
                      broadcast:
                        type: boolean
                      encrypted:
                        type: boolean
                      name:
                        type: string
                      t:
                        type: string
                      msgs:
                        type: integer
                      usersCount:
                        type: integer
                      u:
                        type: object
                        properties:
                          _id:
                            type: string
                          username:
                            type: string
                      ts:
                        type: string
                      ro:
                        type: boolean
                      default:
                        type: boolean
                      sysMes:
                        type: boolean
                      _updatedAt:
                        type: string
                      lastMessage:
                        type: object
                        properties:
                          _id:
                            type: string
                          rid:
                            type: string
                          msg:
                            type: string
                          ts:
                            type: string
                          u:
                            type: object
                            properties:
                              _id:
                                type: string
                              username:
                                type: string
                              name:
                                type: string
                          _updatedAt:
                            type: string
                          urls:
                            type: array
                            items:
                              type: object
                          mentions:
                            type: array
                            items:
                              type: object
                          channels:
                            type: array
                            items:
                              type: object
                          md:
                            type: array
                            items:
                              type: object
                              properties:
                                type:
                                  type: string
                                value:
                                  type: array
                                  items:
                                    type: object
                                    properties:
                                      type:
                                        type: string
                                      value:
                                        type: string
                      lm:
                        type: string
                  success:
                    type: boolean
              examples:
                Success:
                  value:
                    channel:
                      _id: ByehQjC44FwMeiLbX
                      name: channelname
                      t: c
                      usernames:
                        - example
                        - rocket.cat
                      msgs: 0
                      u:
                        _id: aobEdbYhXfu5hkeqG
                        username: example
                      ts: '2016-05-30T13:42:25.304Z'
                    success: true
        '401':
          $ref: '#/components/responses/authorizationError'
  /api/v1/channels.addLeader:
    post:
      tags:
        - Channels
      summary: Add Channel Leader
      description: |-
        Assign the role of `leader` to a user in the current channel. 
        
        Permission required: `set-leader`
        ### Changelog
        | Version | Description               |
        | ------- | ------------------------- |
        | 0.75.0   | Added                    |
      operationId: post-api-v1-channels.addLeader
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                roomId:
                  type: string
                  description: The channel's id
                userId:
                  type: string
                  description: The userId of the user to be made leader
              required:
                - roomId
                - userId
            examples:
              Example:
                value:
                  roomId: WDuJLFkjwk6L7LdFC
                  userId: b66oZ8i9pkeSko33v
      responses:
        '200':
          $ref: '#/components/responses/trueSuccess'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  error:
                    type: string
                  errorType:
                    type: string
              examples:
                User is a leader:
                  value:
                    success: false
                    error: 'User is already a leader [error-user-already-leader]'
                    errorType: error-user-already-leader
        '401':
          $ref: '#/components/responses/authorizationError'
  /api/v1/channels.addModerator:
    post:
      tags:
        - Channels
      summary: Add Channel Moderator
      description: |-
        Assign the `moderator` role to a user in a channel. 
        
        Permission required: `set-moderator`
        
        ### Changelog
        | Version | Description               |
        | ------- | ------------------------- |
        | 0.49.4  | Added                     |
      operationId: post-api-v1-channels.addModerator
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                roomId:
                  type: string
                  description: The channel's id
                userId:
                  type: string
                  description: The user ID that you want to set as the moderator.
              required:
                - roomId
                - userId
            examples:
              Example:
                value:
                  roomId: WDuJLFkjwk6L7LdFC
                  userId: b66oZ8i9pkeSko33v
      responses:
        '200':
          $ref: '#/components/responses/trueSuccess'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  error:
                    type: string
                  errorType:
                    type: string
              examples:
                User is already a moderator:
                  value:
                    success: false
                    error: 'User is already a moderator [error-user-already-moderator]'
                    errorType: error-user-already-moderator
        '401':
          $ref: '#/components/responses/authorizationError'
  /api/v1/channels.addOwner:
    post:
      tags:
        - Channels
      summary: Add Channel Owner
      description: |-
        Assign the `owner` role to a user in a channel. 
        
        Permission required:  `set-owner`
        ### Changelog
        | Version | Description               |
        | ------- | ------------------------- |
        | 0.49.4   | Added                    |
      operationId: post-api-v1-channels.addOwner
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                roomId:
                  type: string
                  description: The channel's id
                userId:
                  type: string
                  description: The user ID that you want to set as the channel owner.
              required:
                - roomId
                - userId
            examples:
              Example:
                value:
                  roomId: WDuJLFkjwk6L7LdFC
                  userId: b66oZ8i9pkeSko33v
      responses:
        '200':
          $ref: '#/components/responses/trueSuccess'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  error:
                    type: string
                  errorType:
                    type: string
                  details:
                    type: object
                    properties:
                      method:
                        type: string
              examples:
                User is alrready an owner:
                  value:
                    success: false
                    error: 'User is already an owner [error-user-already-owner]'
                    errorType: error-user-already-owner
                    details:
                      method: addRoomOwner
        '401':
          $ref: '#/components/responses/authorizationError'
  /api/v1/channels.anonymousread:
    get:
      tags:
        - Channels
      summary: Read Channel Messages Anonymously
      description: |-
        Fetch the messages in a public channel to an anonymous user. You must enable `Accounts_AllowAnonymousRead` <a href="https://docs.rocket.chat/docs/accounts" target="_blank">setting</a> in the workspace.

        ### Changelog
        | Version | Description               |
        | ------- | ------------------------- |
        | 1.2.0   | Added                     |
      operationId: get-api-v1-channels.anonymousread
      parameters:
        - $ref: '#/components/parameters/Optional-RoomId'
        - $ref: '#/components/parameters/Optional-RoomName'
        - $ref: '#/components/parameters/offset'
        - $ref: '#/components/parameters/count'
        - $ref: '#/components/parameters/sort'
        - $ref: '#/components/parameters/query'
        - $ref: '#/components/parameters/fields'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  messages:
                    type: array
                    items:
                      type: object
                      properties:
                        _id:
                          type: string
                        t:
                          type: string
                        msg:
                          type: string
                        groupable:
                          type: boolean
                        blocks:
                          type: array
                          items:
                            type: object
                            properties:
                              type:
                                type: string
                              blockId:
                                type: string
                              callId:
                                type: string
                              appId:
                                type: string
                        ts:
                          type: string
                        u:
                          type: object
                          properties:
                            _id:
                              type: string
                            username:
                              type: string
                            name:
                              type: string
                        rid:
                          type: string
                        _updatedAt:
                          type: string
                        urls:
                          type: array
                          items:
                            type: object
                        mentions:
                          type: array
                          items:
                            type: object
                        channels:
                          type: array
                          items:
                            type: object
                        md:
                          type: array
                          items:
                            type: object
                            properties:
                              type:
                                type: string
                              value:
                                type: array
                                items:
                                  type: object
                                  properties:
                                    type:
                                      type: string
                                    value:
                                      type: string
                  count:
                    type: integer
                  offset:
                    type: integer
                  total:
                    type: integer
                  success:
                    type: boolean
              examples:
                Success:
                  value:
                    messages:
                      - _id: xadufzmxzYQp4H9py
                        alias: test
                        msg: Example message
                        attachments: []
                        parseUrls: true
                        bot:
                          i: MnQyfhWt5LqZotyfc
                        groupable: false
                        ts: '2018-10-05T01:10:47.524Z'
                        u:
                          _id: rocket.cat
                          username: rocket.cat
                          name: Rocket.Cat
                        rid: GENERAL
                        _updatedAt: '2018-10-05T13:42:51.163Z'
                        reactions:
                          ':grin:':
                            usernames:
                              - marco.zoo
                        mentions: []
                        channels: []
                        starred:
                          _id: KPkEYwKKBKZnEEPpt
                      - _id: id-1538701845987
                        rid: GENERAL
                        msg: This message was edited via API
                        alias: Gruggy
                        emoji: ':smirk:'
                        avatar: 'http://res.guggy.com/logo_128.png'
                        attachments:
                          - collapsed: false
                            color: '#ff0000'
                            text: Yay for gruggy!
                            ts: '2016-12-09T16:53:06.761Z'
                            message_link: 'https://google.com'
                            thumb_url: 'http://res.guggy.com/logo_128.png'
                            author_name: Bradley Hilton
                            author_link: 'https://rocket.chat/'
                            author_icon: 'https://avatars.githubusercontent.com/u/850391?v=3'
                            title: Attachment Example
                            title_link: 'https://youtube.com'
                            title_link_download: true
                            image_url: 'http://res.guggy.com/logo_128.png'
                            audio_url: 'http://www.w3schools.com/tags/horse.mp3'
                            video_url: 'http://www.w3schools.com/tags/movie.mp4'
                            fields:
                              - short: true
                                title: Test
                                value: Testing out something or other
                              - short: true
                                title: Another Test
                                value: '<a href="https://google.com" target="_blank">Link</a> something and this and that.'
                        ts: '2018-10-05T01:10:45.994Z'
                        u:
                          _id: rocketchat.internal.admin.test
                          username: rocketchat.internal.admin.test
                          name: RocketChat Internal Admin Test
                        _updatedAt: '2018-10-05T01:10:47.064Z'
                        editedBy:
                          _id: rocketchat.internal.admin.test
                          username: rocketchat.internal.admin.test
                        editedAt: '2018-10-05T01:10:46.384Z'
                        reactions:
                          ':smile:':
                            usernames:
                              - rocketchat.internal.admin.test
                          ':squid:':
                            usernames:
                              - rocketchat.internal.admin.test
                          ':bee:':
                            usernames:
                              - rocketchat.internal.admin.test
                          ':ant:':
                            usernames:
                              - rocketchat.internal.admin.test
                        mentions: []
                        channels: []
                        urls: []
                    count: 2
                    offset: 0
                    total: 2
                    success: true
  /api/v1/channels.archive:
    post:
      tags:
        - Channels
      summary: Archive Channel
      description: |-
        Archive a channel.
        ### Changelog
        | Version | Description               |
        | ------- | ------------------------- |
        | 0.48.0  | Added                    |
      operationId: post-api-v1-channels.archive
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                roomId:
                  type: string
                  description: The channel ID that you want to archive.
              required:
                - roomId
            examples:
              Example:
                value:
                  roomId: ByehQjC44FwMeiLbX
      responses:
        '200':
          $ref: '#/components/responses/trueSuccess'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  error:
                    type: string
                  errorType:
                    type: string
              examples:
                Channel is already archived:
                  value:
                    success: false
                    error: 'The channel, add-room-websocket, is archived [error-room-archived]'
                    errorType: error-room-archived
        '401':
          $ref: '#/components/responses/authorizationError'
  /api/v1/channels.close:
    post:
      tags:
        - Channels
      summary: Close Channel
      description: |-
        Remove a channel from the authenticated user's list of channels.
        ### Changelog
        | Version | Description               |
        | ------- | ------------------------- |
        | 0.48.0  | Added                     |
      operationId: post-api-v1-channels.close
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                roomId:
                  type: string
                  description: The channel ID that you want to close from your list.
              required:
                - roomId
            examples:
              Example:
                value:
                  roomId: ByehQjC44FwMeiLbX
      responses:
        '200':
          $ref: '#/components/responses/trueSuccess'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  error:
                    type: string
              examples:
                Channel is already closed:
                  value:
                    success: false
                    error: 'The channel, dlp, is already closed to the sender'
        '401':
          $ref: '#/components/responses/authorizationError'
  /api/v1/channels.counters:
    get:
      tags:
        - Channels
      summary: Get Channel Counters
      description: |-
        Gets channel counter for the authenticated user.
        
        Permission required: `view-room-administration`
        ### Changelog
        | Version | Description               |
        | ------- | ------------------------- |
        | 0.65.0  | Added                     |
      operationId: get-api-v1-channels.counters
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
        - $ref: '#/components/parameters/Optional-RoomId'
        - $ref: '#/components/parameters/Optional-RoomName'
        - name: userId
          in: query
          description: The user ID.
          schema:
            type: string
            example: RtycPC29hqLJfT9xj
      responses:
        '200':
          description: |-
            OK
            
            **Note** 
            - `joined` boolean flag whether the user has joined the room or not.
            - `members` is the count of current room members.
            - `unreads` is the count of unread messages for the specified user (for the calling user or the provided user ID).
            - `unreadsFrom` is the start date-time of unread interval for the specified user.
            - `msgs` is the count of messages in the room.
            - `latest` is the end date-time of unread interval for the specified user (or date-time of last posted message).
            - `userMentions` is the count of user mentions in messages.
          content:
            application/json:
              schema:
                type: object
                properties:
                  joined:
                    type: boolean
                  members:
                    type: integer
                  unreads:
                    type: integer
                  unreadsFrom:
                    type: string
                  msgs:
                    type: integer
                  latest:
                    type: string
                  userMentions:
                    type: integer
                  success:
                    type: boolean
              examples:
                Example:
                  value:
                    joined: true
                    members: 23
                    unreads: 2
                    unreadsFrom: '2023-09-12T16:33:11.644Z'
                    msgs: 7345
                    latest: '2023-09-25T22:50:07.979Z'
                    userMentions: 0
                    success: true
  /api/v1/channels.delete:
    post:
      tags:
        - Channels
      summary: Delete Channel
      description: |-
        Delete a channel.
        
        ### Changelog
        
        | Version | Description               |
        | ------- | ------------------------- |
        | 0.71.0  | Removed `channel` property|
        | 0.49.0  | Added                     |
      operationId: post-api-v1-channels.delete
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                roomId:
                  type: string
                  example: ByehQjC44FwMeiLbX
                  description: Enter the room ID. This parameter is required if no `roomName` is provided.
                roomName:
                  type: string
                  example: general
                  description: Enter the room name. This parameter is required if no `roomId` is provided.
      responses:
        '200':
          $ref: '#/components/responses/trueSuccess'
  /api/v1/channels.files:
    get:
      tags:
        - Channels
      summary: Get Channel Files
      description: |-
        Retrieves all the files from a channel.
        
        ### Changelog
        | Version | Description               |
        | ------- | ------------------------- |
        | 0.64.0 | Change userId to user object in response                    |
        | 0.59.0  | Added                  |
      operationId: get-api-v1-channels.files
      parameters:
        - $ref: '#/components/parameters/UserId'
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/Optional-RoomId'
        - $ref: '#/components/parameters/Optional-RoomName'
        - $ref: '#/components/parameters/fields'
        - $ref: '#/components/parameters/query'
        - $ref: '#/components/parameters/sort'
        - $ref: '#/components/parameters/count'
        - $ref: '#/components/parameters/offset'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  files:
                    type: array
                    items:
                      type: object
                      properties:
                        _id:
                          type: string
                        name:
                          type: string
                        size:
                          type: integer
                        type:
                          type: string
                        rid:
                          type: string
                        userId:
                          type: string
                        store:
                          type: string
                        _updatedAt:
                          type: string
                        identify:
                          type: object
                          properties:
                            format:
                              type: string
                            size:
                              type: object
                              properties:
                                width:
                                  type: integer
                                height:
                                  type: integer
                        complete:
                          type: boolean
                        etag:
                          type: string
                        path:
                          type: string
                        progress:
                          type: integer
                        token:
                          type: string
                        uploadedAt:
                          type: string
                        uploading:
                          type: boolean
                        url:
                          type: string
                        typeGroup:
                          type: string
                        user:
                          type: object
                          properties:
                            _id:
                              type: string
                            username:
                              type: string
                            name:
                              type: string
                  count:
                    type: integer
                  offset:
                    type: integer
                  total:
                    type: integer
                  success:
                    type: boolean
              examples:
                Example:
                  value:
                    files:
                      - _id: 651227bea2f73c7460e18c63
                        name: Screenshot (317).png
                        size: 288727
                        type: image/png
                        rid: siyr2oWQJBjQjhLwr
                        userId: rbAXPnMktTFbNpwtJ
                        store: 'GridFS:Uploads'
                        _updatedAt: '2023-09-26T00:37:19.598Z'
                        identify:
                          format: png
                          size:
                            width: 1920
                            height: 1080
                        complete: true
                        etag: 2Q2D8hSxCdhQLzcpx
                        path: '/ufs/GridFS:Uploads/651227bea2f73c7460e18c63/Screenshot%20(317).png'
                        progress: 1
                        token: da2aCAf88a
                        uploadedAt: '2023-09-26T00:37:18.168Z'
                        uploading: false
                        url: 'http://localhost:3000/ufs/GridFS:Uploads/651227bea2f73c7460e18c63/Screenshot%20(317).png'
                        typeGroup: image
                        user:
                          _id: rbAXPnMktTFbNpwtJ
                          username: roxie
                          name: test test
                      - _id: 64b589e6aa5ad4273bfc4db6
                        name: eicar.zip
                        size: 266
                        type: application/x-zip-compressed
                        rid: siyr2oWQJBjQjhLwr
                        userId: rbAXPnMktTFbNpwtJ
                        store: 'GridFS:Uploads'
                        _updatedAt: '2023-07-17T18:35:18.242Z'
                        complete: true
                        etag: JYaAzzFQSnxYQ7rWW
                        path: '/ufs/GridFS:Uploads/64b589e6aa5ad4273bfc4db6/eicar.zip'
                        progress: 1
                        token: 7a1A38Cb5a
                        uploadedAt: '2023-07-17T18:35:18.216Z'
                        uploading: false
                        url: 'http://localhost:3000/ufs/GridFS:Uploads/64b589e6aa5ad4273bfc4db6/eicar.zip'
                        typeGroup: application
                        user:
                          _id: rbAXPnMktTFbNpwtJ
                          username: roxie
                          name: test test
                    count: 2
                    offset: 0
                    total: 2
                    success: true
  /api/v1/channels.history:
    get:
      tags:
        - Channels
      summary: Get Channel History
      description: |-
        Retrieves the history of a channel.
        
        ### Changelog
        | Version | Description               |
        | ------- | ------------------------- |
        | 0.75.0 | Added offset property      |
        | 0.47.0  | Added                     |
      operationId: get-api-v1-channels.history
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
        - $ref: '#/components/parameters/Optional-RoomId'
        - $ref: '#/components/parameters/Optional-RoomName'
        - $ref: '#/components/parameters/sort'
        - $ref: '#/components/parameters/count'
        - $ref: '#/components/parameters/offset'
        - name: latest
          in: query
          description: The end of time range of messages to retrieve. The default value is the current date and time.
          schema:
            type: string
          example: '2016-09-30T13:42:25.304Z'
        - name: oldest
          in: query
          description: The start of the time range of messages to retrieve
          schema:
            type: string
          example: '2016-05-30T13:42:25.304Z'
        - name: inclusive
          in: query
          description: Whether messages which land on the latest and oldest dates should be included. The default value is false.
          schema:
            type: boolean
          example: true
        - name: showThreadMessages
          in: query
          description: 'Whether thread messages should be included in the response'
          schema:
            type: boolean 
          example: true
        - name: unreads
          in: query
          description: Whether the number of unread messages should be included. The default value is false.
          schema:
            type: boolean
          example: false
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  files:
                    type: array
                    items:
                      type: object
                      properties:
                        _id:
                          type: string
                        name:
                          type: string
                        size:
                          type: integer
                        type:
                          type: string
                        rid:
                          type: string
                        userId:
                          type: string
                        store:
                          type: string
                        _updatedAt:
                          type: string
                        identify:
                          type: object
                          properties:
                            format:
                              type: string
                            size:
                              type: object
                              properties:
                                width:
                                  type: integer
                                height:
                                  type: integer
                        complete:
                          type: boolean
                        etag:
                          type: string
                        path:
                          type: string
                        progress:
                          type: integer
                        token:
                          type: string
                        uploadedAt:
                          type: string
                        uploading:
                          type: boolean
                        url:
                          type: string
                        typeGroup:
                          type: string
                        user:
                          type: object
                          properties:
                            _id:
                              type: string
                            username:
                              type: string
                            name:
                              type: string
                  count:
                    type: integer
                  offset:
                    type: integer
                  total:
                    type: integer
                  success:
                    type: boolean
              examples:
                Example:
                  value:
                    messages:
                      - _id: AkzpHAvZpdnuchw2a
                        rid: ByehQjC44FwMeiLbX
                        msg: hi
                        ts: '2016-12-09T12:50:51.555Z'
                        u:
                          _id: y65tAmHs93aDChMWu
                          username: testing
                        _updatedAt: '2016-12-09T12:50:51.562Z'
                      - _id: vkLMxcctR4MuTxreF
                        t: uj
                        rid: ByehQjC44FwMeiLbX
                        ts: '2016-12-08T15:41:37.730Z'
                        msg: testing2
                        u:
                          _id: bRtgdhzM6PD9F8pSx
                          username: testing2
                        groupable: false
                        _updatedAt: '2016-12-08T16:03:25.235Z'
                      - _id: bfRW658nEyEBg75rc
                        t: uj
                        rid: ByehQjC44FwMeiLbX
                        ts: '2016-12-07T15:47:49.099Z'
                        msg: testing
                        u:
                          _id: nSYqWzZ4GsKTX4dyK
                          username: testing1
                        groupable: false
                        _updatedAt: '2016-12-07T15:47:49.099Z'
                      - _id: pbuFiGadhRZTKouhB
                        t: uj
                        rid: ByehQjC44FwMeiLbX
                        ts: '2016-12-06T17:57:38.635Z'
                        msg: testing
                        u:
                          _id: y65tAmHs93aDChMWu
                          username: testing
                        groupable: false
                        _updatedAt: '2016-12-06T17:57:38.635Z'
                    success: true
  /api/v1/channels.info:
    get:
      tags:
        - Channels
      summary: Get Channel Information
      description: |-
        Retrieves the information about the channel. This does not include archived channels.
        ### Changelog
        | Version | Description               |
        | ------- | ------------------------- |
        | 0.48.0  | Added                  |
      operationId: get-api-v1-channels.info
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
        - $ref: '#/components/parameters/Optional-RoomId'
        - $ref: '#/components/parameters/Optional-RoomName'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  channel:
                    type: object
                    properties:
                      _id:
                        type: string
                      fname:
                        type: string
                      customFields:
                        type: object
                      topic:
                        type: string
                      broadcast:
                        type: boolean
                      encrypted:
                        type: boolean
                      name:
                        type: string
                      t:
                        type: string
                      msgs:
                        type: integer
                      usersCount:
                        type: integer
                      u:
                        type: object
                        properties:
                          _id:
                            type: string
                          username:
                            type: string
                      ts:
                        type: string
                      ro:
                        type: boolean
                      default:
                        type: boolean
                      sysMes:
                        type: boolean
                      _updatedAt:
                        type: string
                      lastMessage:
                        type: object
                        properties:
                          _id:
                            type: string
                          rid:
                            type: string
                          msg:
                            type: string
                          ts:
                            type: string
                          u:
                            type: object
                            properties:
                              _id:
                                type: string
                              username:
                                type: string
                              name:
                                type: string
                          _updatedAt:
                            type: string
                          urls:
                            type: array
                            items:
                              type: object
                          mentions:
                            type: array
                            items:
                              type: object
                          channels:
                            type: array
                            items:
                              type: object
                          md:
                            type: array
                            items:
                              type: object
                              properties:
                                type:
                                  type: string
                                value:
                                  type: array
                                  items:
                                    type: object
                                    properties:
                                      type:
                                        type: string
                                      value:
                                        type: string
                      lm:
                        type: string
                  success:
                    type: boolean
              examples:
                Example:
                  value:
                    channel:
                      _id: ByehQjC44FwMeiLbX
                      name: testing
                      fname: testing
                      t: c
                      msgs: 0
                      usersCount: 2
                      u:
                        _id: HKKPmF8rZh45GMHWH
                        username: marcos.defendi
                      customFields: {}
                      broadcast: false
                      encrypted: false
                      ts: '2020-05-21T13:14:07.070Z'
                      ro: false
                      default: false
                      sysMes: true
                      _updatedAt: '2020-05-21T13:14:07.096Z'
                    success: true
  /api/v1/channels.invite:
    post:
      tags:
        - Channels
      summary: Add Users to Channel
      description: |-
        Add a user or bulk users to a channel.

        For a user to invite other users, they must match at least one of the following premises:
        - The user is part of a room of any type and has the `add-user-to-joined-room` permission.
        - The user is part of a public room `(t: 'c')` and has the `add-user-to-any-c-room` permission.
        - The user is part of a private room `(t: 'p')` and has the `add-user-to-any-p-room` permission.

        ### Changelog

        | Version | Description               |
        | ------- | ------------------------- |
        | 0.48.0  | Added                  |
      operationId: post-api-v1-channels.invite
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              oneOf:
                - type: object
                  properties:
                    roomId:
                      type: string
                      description: The channel's ID.
                      example: nSYqWzZ4GsKTX4dyK
                    userId:
                      type: string
                      description: The user id to be invited.
                      example: ByehQjC44FwMeiLbX
                  required:
                    - roomId
                    - userId
                - type: object
                  properties:
                    roomId:
                      type: string
                      description: The channel's id
                      example: nSYqWzZ4GsKTX4dyK
                    userIds:
                      type: array
                      description: An array of the userId of users to be invited
                      items:
                        type: object
                        properties:
                          type:
                            type: string
                          value:
                            type: string
                  required:
                    - roomId
                    - userIds
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  channel:
                    type: object
                    properties:
                      _id:
                        type: string
                      fname:
                        type: string
                      customFields:
                        type: object
                      description:
                        type: string
                      broadcast:
                        type: boolean
                      encrypted:
                        type: boolean
                      federated:
                        type: boolean
                      name:
                        type: string
                      t:
                        type: string
                      msgs:
                        type: integer
                      usersCount:
                        type: integer
                      u:
                        type: object
                        properties:
                          _id:
                            type: string
                          username:
                            type: string
                      ts:
                        type: string
                      ro:
                        type: boolean
                      default:
                        type: boolean
                      sysMes:
                        type: boolean
                      _updatedAt:
                        type: string
                      lm:
                        type: string
                      lastMessage:
                        type: object
                        properties:
                          _id:
                            type: string
                          t:
                            type: string
                          msg:
                            type: string
                          groupable:
                            type: boolean
                          blocks:
                            type: array
                            items:
                              type: object
                              properties:
                                type:
                                  type: string
                                blockId:
                                  type: string
                                callId:
                                  type: string
                                appId:
                                  type: string
                          ts:
                            type: string
                          u:
                            type: object
                            properties:
                              _id:
                                type: string
                              username:
                                type: string
                              name:
                                type: string
                          rid:
                            type: string
                          _updatedAt:
                            type: string
                          urls:
                            type: array
                            items:
                              type: object
                          mentions:
                            type: array
                            items:
                              type: object
                          channels:
                            type: array
                            items:
                              type: object
                  success:
                    type: boolean
              examples:
                Add bulk users:
                  value:
                    channel:
                      _id: ByehQjC44FwMeiLbX
                      ts: '2016-11-30T21:23:04.737Z'
                      t: c
                      name: testing
                      usernames:
                        - testing
                        - testing1
                      msgs: 1
                      _updatedAt: '2016-12-09T12:50:51.575Z'
                      lm: '2016-12-09T12:50:51.555Z'
                    success: true
                Add a user:
                  value:
                    channel:
                      _id: ByehQjC44FwMeiLbX
                      ts: '2016-11-30T21:23:04.737Z'
                      t: c
                      name: testing
                      usernames: testing
                      msgs: 1
                      _updatedAt: '2016-12-09T12:50:51.575Z'
                      lm: '2016-12-09T12:50:51.555Z'
                    success: true
  /api/v1/channels.join:
    post:
      tags:
        - Channels
      summary: Join a Channel
      description: |-
        Join a channel.
        
        ### Changelog
        | Version | Description               |
        | ------- | ------------------------- |
        | 0.49.0  | Added                  |
      operationId: post-api-v1-channels.join
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                roomId:
                  type: string
                  description: The channel's id.
                joinCode:
                  type: string
                  description: The join code of the room. The join code isn't needed if the user has the `join-without-join-code` permission.
              required:
                - roomId
            examples:
              Example:
                value:
                  roomId: ByehQjC44FwMeiLbX
                  joinCode: '1234'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  channel:
                    type: object
                    properties:
                      _id:
                        type: string
                      fname:
                        type: string
                      customFields:
                        type: object
                      topic:
                        type: string
                      broadcast:
                        type: boolean
                      encrypted:
                        type: boolean
                      name:
                        type: string
                      t:
                        type: string
                      msgs:
                        type: integer
                      usersCount:
                        type: integer
                      u:
                        type: object
                        properties:
                          _id:
                            type: string
                          username:
                            type: string
                      ts:
                        type: string
                      ro:
                        type: boolean
                      default:
                        type: boolean
                      sysMes:
                        type: boolean
                      _updatedAt:
                        type: string
                      lastMessage:
                        type: object
                        properties:
                          _id:
                            type: string
                          rid:
                            type: string
                          msg:
                            type: string
                          ts:
                            type: string
                          u:
                            type: object
                            properties:
                              _id:
                                type: string
                              username:
                                type: string
                              name:
                                type: string
                          _updatedAt:
                            type: string
                          urls:
                            type: array
                            items:
                              type: object
                          mentions:
                            type: array
                            items:
                              type: object
                          channels:
                            type: array
                            items:
                              type: object
                          md:
                            type: array
                            items:
                              type: object
                              properties:
                                type:
                                  type: string
                                value:
                                  type: array
                                  items:
                                    type: object
                                    properties:
                                      type:
                                        type: string
                                      value:
                                        type: string
                      lm:
                        type: string
                  success:
                    type: boolean
              examples:
                Example:
                  value:
                    channel:
                      _id: nxXKHF2o2nzKYtFMM
                      name: test
                      fname: test
                      t: c
                      msgs: 8
                      usersCount: 2
                      u:
                        _id: rocketchat.internal.admin.test
                        username: rocketchat.internal.admin.test
                      customFields: {}
                      broadcast: false
                      encrypted: false
                      ts: '2019-01-16T12:00:04.783Z'
                      ro: false
                      sysMes: true
                      default: false
                      _updatedAt: '2019-01-16T12:06:30.426Z'
                      joinCodeRequired: true
                    success: true

  /api/v1/channels.kick:
    post:
      tags:
        - Channels
      summary: Remove User from Channel
      description: |-
        Remove a user from the channel.
        
        ### Changelog
        | Version | Description               |
        | ------- | ------------------------- |
        | 0.48.0  | Added                     |
      operationId: post-api-v1-channels.kick
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                roomId:
                  type: string
                  description: The channel's id
                userId:
                  type: string
                  description: The id of the user to be removed.
              required:
                - roomId
                - userId
            examples:
              Example:
                value:
                  roomId: WDuJLFkjwk6L7LdFC
                  userId: rYhzFRd2QZjNwAAXX
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  channel:
                    type: object
                    properties:
                      _id:
                        type: string
                      fname:
                        type: string
                      customFields:
                        type: object
                      topic:
                        type: string
                      broadcast:
                        type: boolean
                      encrypted:
                        type: boolean
                      name:
                        type: string
                      t:
                        type: string
                      msgs:
                        type: integer
                      usersCount:
                        type: integer
                      u:
                        type: object
                        properties:
                          _id:
                            type: string
                          username:
                            type: string
                      ts:
                        type: string
                      ro:
                        type: boolean
                      default:
                        type: boolean
                      sysMes:
                        type: boolean
                      _updatedAt:
                        type: string
                      lastMessage:
                        type: object
                        properties:
                          _id:
                            type: string
                          rid:
                            type: string
                          msg:
                            type: string
                          ts:
                            type: string
                          u:
                            type: object
                            properties:
                              _id:
                                type: string
                              username:
                                type: string
                              name:
                                type: string
                          _updatedAt:
                            type: string
                          urls:
                            type: array
                            items:
                              type: object
                          mentions:
                            type: array
                            items:
                              type: object
                          channels:
                            type: array
                            items:
                              type: object
                          md:
                            type: array
                            items:
                              type: object
                              properties:
                                type:
                                  type: string
                                value:
                                  type: array
                                  items:
                                    type: object
                                    properties:
                                      type:
                                        type: string
                                      value:
                                        type: string
                      lm:
                        type: string
                  success:
                    type: boolean
              examples:
                Example:
                  value:
                    channel:
                      _id: ByehQjC44FwMeiLbX
                      name: invite-me
                      t: c
                      usernames:
                        - testing1
                      msgs: 0
                      u:
                        _id: aobEdbYhXfu5hkeqG
                        username: testing1
                      ts: '2016-12-09T15:08:58.042Z'
                      ro: false
                      sysMes: true
                      _updatedAt: '2016-12-09T15:22:40.656Z'
                    success: true
  /api/v1/channels.leave:
    post:
      tags:
        - Channels
      summary: Leave  Channel
      description: |-
        Leave a channel.
        ### Changelog
        | Version | Description               |
        | ------- | ------------------------- |
        | 0.48.0  | Added                  |
      operationId: post-api-v1-channels.leave
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                roomId:
                  type: string
                  example: ByehQjC44FwMeiLbX
                  description: The channel ID that you want to leave.
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  channel:
                    type: object
                    properties:
                      _id:
                        type: string
                      name:
                        type: string
                      t:
                        type: string
                      usernames:
                        type: array
                        items:
                          type: string
                      msgs:
                        type: integer
                      u:
                        type: object
                        properties:
                          _id:
                            type: string
                          username:
                            type: string
                      ts:
                        type: string
                      ro:
                        type: boolean
                      sysMes:
                        type: boolean
                      _updatedAt:
                        type: string
                  success:
                    type: boolean
              examples:
                Example:
                  value:
                    channel:
                      _id: ByehQjC44FwMeiLbX
                      name: invite-me
                      t: c
                      usernames:
                        - testing2
                      msgs: 0
                      u:
                        _id: aobEdbYhXfu5hkeqG
                        username: testing1
                      ts: '2016-12-09T15:08:58.042Z'
                      ro: false
                      sysMes: true
                      _updatedAt: '2016-12-09T15:22:40.656Z'
                    success: true
  /api/v1/channels.list.joined:
    get:
      tags:
        - Channels
      summary: Get List of Joined Channels
      description: |-
        Lists all the channels the authenticated user has joined. 
        ### Changelog
        | Version | Description                                  |
        | ------- | -------------------------------------------- |
        | 0.62.0  | Add `query` parameter support.               |
        | 0.49.0  | Count and offset query parameters supported. |
        | 0.48.0  | Added                                        |
      operationId: get-api-v1-channels.list.joined
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
        - $ref: '#/components/parameters/offset'
        - $ref: '#/components/parameters/count'
        - $ref: '#/components/parameters/sort'
        - $ref: '#/components/parameters/query'
        - $ref: '#/components/parameters/fields'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  channels:
                    type: array
                    items:
                      type: object
                      properties:
                        _id:
                          type: string
                        fname:
                          type: string
                        customFields:
                          type: object
                        description:
                          type: string
                        broadcast:
                          type: boolean
                        encrypted:
                          type: boolean
                        federated:
                          type: boolean
                        name:
                          type: string
                        t:
                          type: string
                        msgs:
                          type: integer
                        usersCount:
                          type: integer
                        u:
                          type: object
                          properties:
                            _id:
                              type: string
                            username:
                              type: string
                        ts:
                          type: string
                        ro:
                          type: boolean
                        default:
                          type: boolean
                        sysMes:
                          type: boolean
                        _updatedAt:
                          type: string
                        lm:
                          type: string
                        lastMessage:
                          type: object
                          properties:
                            _id:
                              type: string
                            t:
                              type: string
                            msg:
                              type: string
                            groupable:
                              type: boolean
                            blocks:
                              type: array
                              items:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  blockId:
                                    type: string
                                  callId:
                                    type: string
                                  appId:
                                    type: string
                            ts:
                              type: string
                            u:
                              type: object
                              properties:
                                _id:
                                  type: string
                                username:
                                  type: string
                                name:
                                  type: string
                            rid:
                              type: string
                            _updatedAt:
                              type: string
                            urls:
                              type: array
                              items:
                                type: object
                            mentions:
                              type: array
                              items:
                                type: object
                            channels:
                              type: array
                              items:
                                type: object
                            md:
                              type: array
                              items:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  value:
                                    type: array
                                    items:
                                      type: object
                                      properties:
                                        type:
                                          type: string
                                        value:
                                          type: string
                        topic:
                          type: string
                        muted:
                          type: array
                          items:
                            type: object
                        unmuted:
                          type: array
                          items:
                            type: string
                  offset:
                    type: integer
                  count:
                    type: integer
                  total:
                    type: integer
                  success:
                    type: boolean
              examples:
                Example:
                  value:
                    channels:
                      - _id: ByehQjC44FwMeiLbX
                        name: invite-me
                        t: c
                        usernames:
                          - testing1
                        msgs: 0
                        u:
                          _id: aobEdbYhXfu5hkeqG
                          username: testing1
                        ts: '2016-12-09T15:08:58.042Z'
                        ro: false
                        sysMes: true
                        _updatedAt: '2016-12-09T15:22:40.656Z'
                    success: true
  /api/v1/channels.list:
    get:
      tags:
        - Channels
      summary: Get Channel List
      description: |-
        Lists all of the channels on the workspace.
        
        ### Changelog
        | Version | Description                                  |
        | ------- | -------------------------------------------- |
        | 0.49.0  | Count and offset query parameters supported. |
        | 0.48.0  | Added                                        |
      operationId: get-api-v1-channels.list
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
        - $ref: '#/components/parameters/offset'
        - $ref: '#/components/parameters/count'
        - $ref: '#/components/parameters/sort'
        - $ref: '#/components/parameters/query'
        - $ref: '#/components/parameters/fields'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  channels:
                    type: array
                    items:
                      type: object
                      properties:
                        _id:
                          type: string
                        fname:
                          type: string
                        customFields:
                          type: object
                        topic:
                          type: string
                        broadcast:
                          type: boolean
                        encrypted:
                          type: boolean
                        name:
                          type: string
                        t:
                          type: string
                        msgs:
                          type: integer
                        usersCount:
                          type: integer
                        u:
                          type: object
                          properties:
                            _id:
                              type: string
                            username:
                              type: string
                        ts:
                          type: string
                        ro:
                          type: boolean
                        default:
                          type: boolean
                        sysMes:
                          type: boolean
                        _updatedAt:
                          type: string
                        lastMessage:
                          type: object
                          properties:
                            _id:
                              type: string
                            rid:
                              type: string
                            msg:
                              type: string
                            ts:
                              type: string
                            u:
                              type: object
                              properties:
                                _id:
                                  type: string
                                username:
                                  type: string
                                name:
                                  type: string
                            _updatedAt:
                              type: string
                            urls:
                              type: array
                              items:
                                type: object
                            mentions:
                              type: array
                              items:
                                type: object
                            channels:
                              type: array
                              items:
                                type: object
                            md:
                              type: array
                              items:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  value:
                                    type: array
                                    items:
                                      type: object
                                      properties:
                                        type:
                                          type: string
                                        value:
                                          type: string
                            groupable:
                              type: boolean
                            blocks:
                              type: array
                              items:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  text:
                                    type: object
                                    properties:
                                      type:
                                        type: string
                                      text:
                                        type: string
                                  blockId:
                                    type: string
                                  appId:
                                    type: string
                                  elements:
                                    type: array
                                    items:
                                      type: object
                                      properties:
                                        type:
                                          type: string
                                        text:
                                          type: string
                                        emoji:
                                          type: boolean
                            editedAt:
                              type: string
                            editedBy:
                              type: object
                              properties:
                                _id:
                                  type: string
                                username:
                                  type: string
                        lm:
                          type: string
                        description:
                          type: string
                        federated:
                          type: boolean
                  count:
                    type: integer
                  offset:
                    type: integer
                  total:
                    type: integer
                  success:
                    type: boolean
              examples:
                Success:
                  value:
                    channels:
                      - _id: GENERAL
                        ts: '2024-02-14T14:34:49.365Z'
                        t: c
                        name: general
                        usernames: []
                        msgs: 6
                        usersCount: 6
                        _updatedAt: '2024-03-26T17:40:18.321Z'
                        u:
                          _id: rocket.cat
                          username: rocket.cat
                          name: Rocket.Cat
                        default: true
                      - _id: 65fd8a6bf581e473b56471ba
                        fname: test-channel
                        _updatedAt: '2024-03-22T13:40:59.620Z'
                        customFields: {}
                        topic: ''
                        broadcast: false
                        encrypted: false
                        name: test-channel
                        t: c
                        msgs: 0
                        usersCount: 1
                        u:
                          _id: GdEsNbLxzoBgG8XoQ
                          username: apiadmin
                          name: apiadmin
                        ts: '2024-03-22T13:40:59.577Z'
                        ro: false
                        default: false
                        sysMes: true
                    count: 2
                    offset: 0
                    total: 3
                    success: true
        '401':
          $ref: '#/components/responses/authorizationError'                    
  /api/v1/channels.members:
    get:
      tags:
        - Channels
      summary: Get Members of a Channel
      description: |-
        Lists all channel users. The list of elements a user can use to sort the list is limited. The current sortable element is:`username`
        
        ### Changelog
        | Version | Description                                  |
        | ------- | -------------------------------------------- |
        | 0.59.0  | Added                                        |
      operationId: get-api-v1-channels.members
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
        - $ref: '#/components/parameters/Optional-RoomId'
        - $ref: '#/components/parameters/Optional-RoomName'
        - name: status
          in: query
          description: The user's status (search filter).
          schema:
            type: array
            items:
              type: string
            example: '[''online'', ''away'']'
        - name: filter
          in: query
          description: Extra search filters to be applied to the fields defined in the `Accounts_SearchFields`setting.
          schema:
            type: string
            example: my-nickname
        - $ref: '#/components/parameters/sort'
        - $ref: '#/components/parameters/count'
        - $ref: '#/components/parameters/offset'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  members:
                    type: array
                    items:
                      type: object
                      properties:
                        _id:
                          type: string
                        username:
                          type: string
                        status:
                          type: string
                        _updatedAt:
                          type: string
                        name:
                          type: string
                        nickname:
                          type: string
                        avatarETag:
                          type: string
                  count:
                    type: integer
                  offset:
                    type: integer
                  total:
                    type: integer
                  success:
                    type: boolean
              examples:
                Success:
                  value:
                    members:
                      - _id: rbAXPnMktTFbNpwtJ
                        username: roxie
                        status: offline
                        _updatedAt: '2023-09-24T22:27:33.610Z'
                        name: test test
                        nickname: baby girl
                      - _id: 5fRTXMt7DMJbpPJfh
                        username: test.test
                        status: offline
                        _updatedAt: '2023-09-16T08:33:38.123Z'
                        name: Testtest
                        avatarETag: GFoEi6wv3uAxnzDcD
                        nickname: test.test
                    count: 2
                    offset: 0
                    total: 2
                    success: true
  /api/v1/channels.membersByHighestRole:
    get:
      tags:
        - Channels
      summary: List Channel Members By Highest Role
      description: |-
        Lists all channel users sorted by their room scoped roles. 
        
        Room members are sorted by their most important role in the room. The following hierarchy is used: **Owner > Moderator > Other roles**. The information related to each user's highest role is returned in the `highestRole` object within each of them.
        
        The `highestRole` object contains a numeric `level` field which ranges from 0 to 2. Level 0 stands for room owners, while level 1 is assigned to moderators (that are not room owners) and level 2 is assigned to all other team members regardless of their room scoped roles.
        
        The `highestRole` object also contains a `role` field, which has three possile values: `owner`, `moderator` or `member`, which are assigned to levels 0, 1 and 2, respectively.
        The list of elements a user can use to sort the list is limited. The current sortable element is:`username`
        
        ### Changelog
        | Version | Description |
        | ------- | ----------- |
        |6.5.0  | Added         |
      operationId: get-channels.membersByHighestRole
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
        - name: status
          in: query
          description: The user's status (search filter).
          schema:
            type: array
            items:
              type: string
            example: '[''online'', ''away'']'
        - $ref: '#/components/parameters/Optional-RoomId'
        - $ref: '#/components/parameters/Optional-RoomName'
        - name: filter
          in: query
          description: Extra search filters to be applied to the fields defined in the `Accounts_SearchFields` setting.
          schema:
            type: string
        - $ref: '#/components/parameters/count'
        - $ref: '#/components/parameters/sort'
        - $ref: '#/components/parameters/offset'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  members:
                    type: array
                    items:
                      type: object
                      properties:
                        _id:
                          type: string
                        status:
                          type: string
                        _updatedAt:
                          type: string
                        name:
                          type: string
                        statusConnection:
                          type: string
                        username:
                          type: string
                        avatarETag:
                          type: string
                        highestRole:
                          type: object
                          properties:
                            role:
                              type: string
                            level:
                              type: integer
                  count:
                    type: integer
                  offset:
                    type: integer
                  total:
                    type: integer
                  success:
                    type: boolean
              examples:
                Example:
                  value:
                    members:
                      - _id: JmR3T4TFfppJCfmq9
                        status: offline
                        _updatedAt: '2023-07-20T20:43:05.895Z'
                        name: Matheus Barbosa Silva
                        statusConnection: offline
                        username: matheus.barbosa
                        avatarETag: fdJn5SqCwg4ZwbywD
                        highestRole:
                          role: owner
                          level: 0
                      - _id: edjvbnb7pGC3MZNSP
                        status: offline
                        _updatedAt: '2023-07-17T21:42:31.845Z'
                        username: john
                        name: John
                        statusConnection: offline
                        highestRole:
                          role: member
                          level: 2
                    count: 2
                    offset: 0
                    total: 35
                    success: true
  /api/v1/channels.messages:
    get:
      tags:
        - Channels
      summary: Get Channel Messages
      description: |-
        Lists all of the specific channel messages. 
        ### Changelog
        
        | Version | Description                                  |
        | ------- | -------------------------------------------- |
        | 0.59.0  | Added                                        |
        
      operationId: get-api-v1-channels.messages
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
        - $ref: '#/components/parameters/RoomId'
        - $ref: '#/components/parameters/count'
        - $ref: '#/components/parameters/sort'
        - $ref: '#/components/parameters/query'
        - $ref: '#/components/parameters/offset'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  messages:
                    type: array
                    items:
                      type: object
                      properties:
                        _id:
                          type: string
                        rid:
                          type: string
                        msg:
                          type: string
                        ts:
                          type: string
                        u:
                          type: object
                          properties:
                            _id:
                              type: string
                            username:
                              type: string
                            name:
                              type: string
                        _updatedAt:
                          type: string
                        urls:
                          type: array
                          items:
                            type: object
                        mentions:
                          type: array
                          items:
                            type: object
                        channels:
                          type: array
                          items:
                            type: object
                        md:
                          type: array
                          items:
                            type: object
                            properties:
                              type:
                                type: string
                              value:
                                type: array
                                items:
                                  type: object
                                  properties:
                                    type:
                                      type: string
                                    value:
                                      type: string
                        replies:
                          type: array
                          items:
                            type: string
                        tcount:
                          type: integer
                        tlm:
                          type: string
                        attachments:
                          type: array
                          items:
                            type: object
                        editedAt:
                          type: string
                        editedBy:
                          type: object
                          properties:
                            _id:
                              type: string
                            username:
                              type: string
                        reactions:
                          type: object
                        t:
                          type: string
                        _hidden:
                          type: boolean
                        parent:
                          type: string
                  count:
                    type: integer
                  offset:
                    type: integer
                  total:
                    type: integer
                  success:
                    type: boolean
              examples:
                Success:
                  value:
                    messages:
                      - _id: uASTuwBEu7SBDAxxh
                        rid: 6513afeda2f73c7460e18c86
                        msg: threaads produced links
                        ts: '2023-09-27T04:36:47.522Z'
                        u:
                          _id: rbAXPnMktTFbNpwtJ
                          username: roxie
                          name: test test
                        _updatedAt: '2023-09-27T04:36:47.698Z'
                        urls: []
                        mentions: []
                        channels: []
                        md:
                          - type: PARAGRAPH
                            value:
                              - type: PLAIN_TEXT
                                value: threaads produced links
                      - _id: B7Yms4bCvgJsitrBq
                        rid: 6513afeda2f73c7460e18c86
                        msg: always do
                        ts: '2023-09-27T04:34:38.818Z'
                        u:
                          _id: rbAXPnMktTFbNpwtJ
                          username: roxie
                          name: test test
                        _updatedAt: '2023-09-27T04:34:38.900Z'
                        urls: []
                        mentions: []
                        channels: []
                        md:
                          - type: PARAGRAPH
                            value:
                              - type: PLAIN_TEXT
                                value: always do
                      - _id: 3rfQYmS8MzCKnQbcu
                        rid: 6513afeda2f73c7460e18c86
                        msg: ''
                        ts: '2023-09-27T04:34:34.259Z'
                        u:
                          _id: rbAXPnMktTFbNpwtJ
                          username: roxie
                          name: test test
                        _updatedAt: '2023-09-27T04:36:38.258Z'
                        urls: []
                        mentions: []
                        channels: []
                        replies:
                          - rbAXPnMktTFbNpwtJ
                        tcount: 0
                        tlm: '2023-09-27T04:34:50.746Z'
                        attachments: []
                        editedAt: '2023-09-27T04:36:19.494Z'
                        editedBy:
                          _id: rbAXPnMktTFbNpwtJ
                          username: roxie
                        reactions: {}
                        t: rm
                      - _id: 6513b143a2f73c7460e18c88
                        rid: 6513afeda2f73c7460e18c86
                        msg: test messages
                        ts: '2023-09-27T04:34:34.259Z'
                        u:
                          _id: rbAXPnMktTFbNpwtJ
                          username: roxie
                          name: test test
                        _updatedAt: '2023-09-27T04:36:19.486Z'
                        urls: []
                        mentions: []
                        channels: []
                        md:
                          - type: PARAGRAPH
                            value:
                              - type: PLAIN_TEXT
                                value: test messages
                        replies:
                          - rbAXPnMktTFbNpwtJ
                        tcount: 1
                        tlm: '2023-09-27T04:34:50.746Z'
                        _hidden: true
                        parent: 3rfQYmS8MzCKnQbcu
                        editedAt: '2023-09-27T04:36:19.485Z'
                        editedBy:
                          _id: rbAXPnMktTFbNpwtJ
                          username: roxie
                    count: 4
                    offset: 0
                    total: 4
                    success: true
        '401':
          $ref: '#/components/responses/authorizationError'
  /api/v1/channels.moderators:
    get:
      tags:
        - Channels
      summary: Get Channel Moderators
      description: |-
        
        List all the moderators in a channel.
        
        ### Changelog
        | Version | Description |
        | ------- | ----------- |
        | 0.70.0 | Added        |
      operationId: get-api-v1-channels.moderators
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
        - $ref: '#/components/parameters/Optional-RoomId'
        - $ref: '#/components/parameters/Optional-RoomName'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  moderators:
                    type: array
                    items:
                      type: object
                      properties:
                        _id:
                          type: string
                        username:
                          type: string
                        name:
                          type: string
                  success:
                    type: boolean
              examples:
                Success:
                  value:
                    moderators:
                      - _id: rocket.cat
                        username: rocket.cat
                        name: Rocket.Cat
                    success: true
        '401':
          $ref: '#/components/responses/authorizationError'
  /api/v1/channels.online:
    get:
      tags:
        - Channels
      summary: List Online Users in a Channel
      description: |-
        List all online users in a channel. If the channel's id is not provided, it lists all the online users of all the channels. 
        ### Changelog
        | Version | Description |
        | ------- | ----------- |
        |0.52.0   | Added       |
      operationId: get-api-v1-channels.online
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
        - name: query
          in: query
          description: An object of the channel's id.
          required: true
          schema:
            type: object
            properties:
              _id:
                type: string
            example: '{"_id": "5HmCfpoB7jp2uibTC"}'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  online:
                    type: array
                    items:
                      type: object
                      properties:
                        _id:
                          type: string
                        username:
                          type: string
                  success:
                    type: boolean
              examples:
                Example:
                  value:
                    online:
                      - _id: 47cRd58HnWwpqxhaZ
                        username: test
                      - _id: BsxzC22xQ43taWdff
                        username: uniqueusername
                    success: true
  /api/v1/channels.open:
    post:
      tags:
        - Channels
      summary: Add Channel to User List
      description: |-
        Add a channel to the authenticated user's list of channels.
        ### Changelog
        
        | Version | Description |
        | ------- | ----------- |
        |0.48.0   | Added       |
      operationId: post-api-v1-channels.open
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                roomId:
                  type: string
                  description: The channel's id.
              required:
                - roomId
            examples:
              Example:
                value:
                  roomId: ByehQjC44FwMeiLbX
      responses:
        '200':
          $ref: '#/components/responses/trueSuccess'

  /api/v1/channels.removeLeader:
    post:
      tags:
        - Channels
      summary: Remove Channel  Leader
      description: |
        Remove the `leader` role from a user in a channel. 

        Permission required: `set-leader` .

        ### Changelog

        | Version | Description |
        | ------- | ----------- |
        |0.75.0  | Added       |
      operationId: post-api-v1-channels.removeLeader
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                roomId:
                  type: string
                  description: The channel's id
                userId:
                  type: string
                  description: The user's id
              required:
                - roomId
                - userId
            examples:
              Example:
                value:
                  roomId: ByehQjC44FwMeiLbX
                  userId: oCHkav5Zf6vmpu2W2
      responses:
        '200':
          $ref: '#/components/responses/trueSuccess'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  error:
                    type: string
                  errorType:
                    type: string
              examples:
                User is not a leader:
                  value:
                    success: false
                    error: 'User is not a leader [error-user-not-leader]'
                    errorType: error-user-not-leader
        '401':
          $ref: '#/components/responses/authorizationError'

  /api/v1/channels.removeModerator:
    post:
      tags:
        - Channels
      summary: Remove Channel Moderator
      description: |
        Remove the `moderator` role from a user in a channel.

        Permission required: `set-moderator`.

        ### Changelog

        | Version | Description |
        | ------- | ----------- |
        |0.49.4  | Added       |
      operationId: post-api-v1-channels.removeModerator
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                roomId:
                  type: string
                  description: The channel's id
                userId:
                  type: string
                  description: The user's id
              required:
                - roomId
                - userId
            examples:
              Example:
                value:
                  roomId: ByehQjC44FwMeiLbX
                  userId: oCHkav5Zf6vmpu2W2
      responses:
        '200':
          $ref: '#/components/responses/trueSuccess'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  error:
                    type: string
                  errorType:
                    type: string
                  details:
                    type: object
                    properties:
                      method:
                        type: string
              examples:
                User is not a moderator:
                  value:
                    success: false
                    error: 'User is not a moderator [error-user-not-moderator]'
                    errorType: error-user-not-moderator
                    details:
                      method: removeRoomModerator
        '401':
          $ref: '#/components/responses/authorizationError'

  /api/v1/channels.removeOwner:
    post:
      tags:
        - Channels
      summary: Remove Channel Owner
      description: |
        Remove the `owner` role from a user in a channel. 

        Permission required:`set-owner`.

        ### Changelog

        | Version | Description |
        | ------- | ----------- |
        |0.49.4  | Added       |
      operationId: post-api-v1-channels.removeOwner
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                roomId:
                  type: string
                  description: The channel's id
                userId:
                  type: string
                  description: The user's id
              required:
                - roomId
                - userId
            examples:
              Example:
                value:
                  roomId: ByehQjC44FwMeiLbX
                  userId: oCHkav5Zf6vmpu2W2
      responses:
        '200':
          $ref: '#/components/responses/trueSuccess'
        '401':
          $ref: '#/components/responses/authorizationError'
  /api/v1/channels.rename:
    post:
      tags:
        - Channels
      summary: Rename a Channel
      description: |-
        Change the name of a channel.
        
        ### Changelog
        | Version | Description |
        | ------- | ----------- |
        |0.48.0  | Added        | 
      operationId: pos-api-v1-channels.rename
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                roomId:
                  type: string
                  description: The channel's id
                name:
                  type: string
                  description: The new name of the channel. It can not be the same as the current name.
              required:
                - roomId
                - name
            examples:
              Example:
                value:
                  roomId: WDuJLFkjwk6L7LdFC
                  name: newName
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  channel:
                    type: object
                    properties:
                      _id:
                        type: string
                      name:
                        type: string
                      t:
                        type: string
                      usernames:
                        type: array
                        items:
                          type: string
                      msgs:
                        type: integer
                      u:
                        type: object
                        properties:
                          _id:
                            type: string
                          username:
                            type: string
                      ts:
                        type: string
                      ro:
                        type: boolean
                      sysMes:
                        type: boolean
                      _updatedAt:
                        type: string
                  success:
                    type: boolean
              examples:
                Success:
                  value:
                    channel:
                      _id: ByehQjC44FwMeiLbX
                      name: new-name
                      t: c
                      usernames:
                        - testing1
                      msgs: 4
                      u:
                        _id: aobEdbYhXfu5hkeqG
                        username: testing1
                      ts: '2016-12-09T15:08:58.042Z'
                      ro: false
                      sysMes: true
                      _updatedAt: '2016-12-09T15:57:44.686Z'
                    success: true
        '401':
          $ref: '#/components/responses/authorizationError'
  /api/v1/channels.roles:
    get:
      tags:
        - Channels
      summary: Get Channel Roles
      description: |-
        Lists all user's roles in the channel.
        
        ### Changelog
        
        | Version | Description |
        | ------- | ----------- |
        |0.65.0  | Added        |
      operationId: get-api-v1-channels.roles
      parameters:
        - $ref: '#/components/parameters/Optional-RoomId'
        - $ref: '#/components/parameters/Optional-RoomName'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  roles:
                    type: array
                    items:
                      type: object
                      properties:
                        _id:
                          type: string
                        rid:
                          type: string
                        u:
                          type: object
                          properties:
                            _id:
                              type: string
                            username:
                              type: string
                            name:
                              type: string
                        roles:
                          type: array
                          items:
                            type: string
                  success:
                    type: boolean
              examples:
                Success:
                  value:
                    roles:
                      - _id: rGNoXwYuZshq9FENQ
                        rid: WDuJLFkjwk6L7LdFC
                        u:
                          _id: rbAXPnMktTFbNpwtJ
                          username: roxie
                        roles:
                          - owner
                      - _id: 64ef8a982c26843a68c1f7ae
                        rid: WDuJLFkjwk6L7LdFC
                        u:
                          _id: 5fRTXMt7DMJbpPJfh
                          username: test.test
                          name: Testtest
                        roles:
                          - leader
                    success: true
        '401':
          $ref: '#/components/responses/authorizationError'
  /api/v1/channels.setAnnouncement:
    post:
      tags:
        - Channels
      summary: Set Channel Announcement
      description: |-
        Set an announcement for the channel.
        ### Changelog
        
        | Version | Description |
        | ------- | ----------- |
        |0.63.0  | Added        |
      operationId: post-api-v1-channels.setAnnouncement
      parameters:
        - $ref: '#/components/parameters/UserId'
        - $ref: '#/components/parameters/Auth-Token'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                roomId:
                  type: string
                  description: The channel's id
                announcement:
                  type: string
                  description: The announcement to set for the channel.
              required:
                - roomId
                - announcement
            examples:
              Success:
                value:
                  roomId: WDuJLFkjwk6L7LdFC
                  announcement: Test out everything
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  announcement:
                    type: string
                  success:
                    type: boolean
              examples:
                Example:
                  value:
                    announcement: Test out everything
                    success: true
        '401':
          $ref: '#/components/responses/authorizationError'
  /api/v1/channels.setCustomFields:
    post:
      tags:
        - Channels
      summary: Set Channel Custom Fields
      description: |-
        Sets the custom fields for a channel.
        
        ### Changelog
        | Version | Description |
        | ------- | ----------- |
        |0.62.0  | Added        |
      operationId: post-api-v1-channels.setCustomFields
      parameters:
        - $ref: '#/components/parameters/UserId'
        - $ref: '#/components/parameters/Auth-Token'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                    roomId:
                      type: string
                      description: The channel's ID. Alternatively, enter the `roomName` parameter and provide the room's name as the value.
                    customFields:
                      type: object
                      description: The custom fields to set for the channel.
                      properties:
                        organization:
                          type: string
              required:
                - roomId
                - customFields
                - organization
            examples:
              Example:
                value:
                  roomId: GENERAL
                  customFields:
                    organization: tra-la-la
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  channel:
                    type: object
                    properties:
                      _id:
                        type: string
                      fname:
                        type: string
                      customFields:
                        type: object
                        properties:
                          organization:
                            type: string
                      topic:
                        type: string
                      broadcast:
                        type: boolean
                      encrypted:
                        type: boolean
                      name:
                        type: string
                      t:
                        type: string
                      msgs:
                        type: integer
                      usersCount:
                        type: integer
                      u:
                        type: object
                        properties:
                          _id:
                            type: string
                          username:
                            type: string
                      ts:
                        type: string
                      ro:
                        type: boolean
                      default:
                        type: boolean
                      sysMes:
                        type: boolean
                      _updatedAt:
                        type: string
                      lastMessage:
                        type: object
                        properties:
                          _id:
                            type: string
                          rid:
                            type: string
                          msg:
                            type: string
                          ts:
                            type: string
                          u:
                            type: object
                            properties:
                              _id:
                                type: string
                              username:
                                type: string
                              name:
                                type: string
                          _updatedAt:
                            type: string
                          urls:
                            type: array
                            items:
                              type: object
                          mentions:
                            type: array
                            items:
                              type: object
                          channels:
                            type: array
                            items:
                              type: object
                          md:
                            type: array
                            items:
                              type: object
                              properties:
                                type:
                                  type: string
                                value:
                                  type: array
                                  items:
                                    type: object
                                    properties:
                                      type:
                                        type: string
                                      value:
                                        type: string
                      lm:
                        type: string
                      announcement:
                        type: string
                  success:
                    type: boolean
              examples:
                Success:
                  value:
                    channel:
                      _id: WDuJLFkjwk6L7LdFC
                      fname: new
                      customFields:
                        organization: tra-la-la
                      topic: ''
                      broadcast: false
                      encrypted: false
                      name: new
                      t: c
                      msgs: 72
                      usersCount: 45
                      u:
                        _id: rbAXPnMktTFbNpwtJ
                        username: roxie
                      ts: '2023-04-05T22:34:38.936Z'
                      ro: false
                      default: false
                      sysMes: true
                      _updatedAt: '2023-09-27T05:24:34.363Z'
                      lastMessage:
                        _id: mBfC3sbNhfwcL4AQu
                        rid: WDuJLFkjwk6L7LdFC
                        msg: It should be good
                        ts: '2023-09-16T07:37:59.691Z'
                        u:
                          _id: rbAXPnMktTFbNpwtJ
                          username: test.test
                          name: test test
                        _updatedAt: '2023-09-16T07:37:59.815Z'
                        urls: []
                        mentions: []
                        channels: []
                        md:
                          - type: PARAGRAPH
                            value:
                              - type: PLAIN_TEXT
                                value: It should be good
                      lm: '2023-09-16T07:37:59.691Z'
                      announcement: Test out everything
                    success: true
        '401':
          $ref: '#/components/responses/authorizationError'
  /api/v1/channels.setDefault:
    post:
      tags:
        - Channels
      summary: Set Default Channel
      description: |-
        Set whether the channel is a default channel or not.
        ### Changelog
        | Version | Description |
        | ------- | ----------- |
        |0.66.0  | Added        |
      operationId: post-api-v1-channels.setDefault
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                roomId:
                  type: string
                  description: The channel ID.
                default:
                  type: boolean
                  description: Boolean of whether the room is default or not.
              required:
                - roomId
                - default
            examples:
              Example:
                value:
                  roomId: ByehQjC44FwMeiLbX
                  default: true
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  channel:
                    type: object
                    properties:
                      _id:
                        type: string
                      name:
                        type: string
                      t:
                        type: string
                      msgs:
                        type: integer
                      u:
                        type: object
                        properties:
                          _id:
                            type: string
                          username:
                            type: string
                      ts:
                        type: string
                      ro:
                        type: boolean
                      sysMes:
                        type: boolean
                      _updatedAt:
                        type: string
                      usernames:
                        type: array
                        items:
                          type: string
                      joinCodeRequired:
                        type: boolean
                      muted:
                        type: array
                        items:
                          type: object
                      default:
                        type: boolean
                  success:
                    type: boolean
              examples:
                Example:
                  value:
                    channel:
                      _id: ByehQjC44FwMeiLbX
                      name: testing0
                      t: c
                      msgs: 0
                      u:
                        _id: aiPqNoGkjpNDiRx6d
                        username: goose160
                      ts: '2017-01-05T18:02:50.754Z'
                      ro: true
                      sysMes: true
                      _updatedAt: '2017-01-05T19:02:24.429Z'
                      usernames:
                        - goose160
                        - graywolf336
                      joinCodeRequired: true
                      muted: []
                      default: true
                    success: true
        '401':
          $ref: '#/components/responses/authorizationError'
  /api/v1/channels.setDescription:
    post:
      tags:
        - Channels
      summary: Set Channel Description
      description: |-
        Set the description for a channel.
        
        ### Changelog
        | Version | Description |
        | ------- | ----------- |
        |0.48.4  | Added        |
      operationId: post-api-v1-channels.setDescription
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
      requestBody:
        description: ''
        content:
          application/json:
            schema:
              type: object
              properties:
                roomId:
                  type: string
                  description: The channel ID.
                description:
                  type: string
                  description: The description to set for the channel.
              required:
                - roomId
                - description
            examples:
              Example:
                value:
                  roomId: ByehQjC44FwMeiLbX
                  description: Test out everything
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  description:
                    type: string
                  success:
                    type: boolean
              examples:
                Success:
                  value:
                    description: Testing the room
                    success: true
        '401':
          $ref: '#/components/responses/authorizationError'
  /api/v1/channels.setJoinCode:
    post:
      tags:
        - Channels
      summary: Set Channel Join Code
      description: |-
        Set the code required to join the channel. If it is set, users must use the join code to successfully join the channel.
        
        ### Changelog
        | Version | Description |
        | ------- | ----------- |
        |0.49.0  | Added        |
      operationId: post-api-v1-channels.setJoinCode
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                roomId:
                  type: string
                  description: The channel's id
                joinCode:
                  type: string
                  description: The join code that will be required for any user to join this channel.
              required:
                - roomId
                - joinCode
            examples:
              Example:
                value:
                  roomId: ByehQjC44FwMeiLbX
                  joinCode: 87hsyi9
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  channel:
                    type: object
                    properties:
                      _id:
                        type: string
                      fname:
                        type: string
                      customFields:
                        type: object
                        properties:
                          organization:
                            type: string
                      topic:
                        type: string
                      broadcast:
                        type: boolean
                      encrypted:
                        type: boolean
                      name:
                        type: string
                      t:
                        type: string
                      msgs:
                        type: integer
                      usersCount:
                        type: integer
                      u:
                        type: object
                        properties:
                          _id:
                            type: string
                          username:
                            type: string
                      ts:
                        type: string
                      ro:
                        type: boolean
                      default:
                        type: boolean
                      sysMes:
                        type: boolean
                      _updatedAt:
                        type: string
                      lastMessage:
                        type: object
                        properties:
                          _id:
                            type: string
                          rid:
                            type: string
                          msg:
                            type: string
                          ts:
                            type: string
                          u:
                            type: object
                            properties:
                              _id:
                                type: string
                              username:
                                type: string
                              name:
                                type: string
                          _updatedAt:
                            type: string
                          urls:
                            type: array
                            items:
                              type: object
                          mentions:
                            type: array
                            items:
                              type: object
                          channels:
                            type: array
                            items:
                              type: object
                          md:
                            type: array
                            items:
                              type: object
                              properties:
                                type:
                                  type: string
                                value:
                                  type: array
                                  items:
                                    type: object
                                    properties:
                                      type:
                                        type: string
                                      value:
                                        type: string
                      lm:
                        type: string
                      announcement:
                        type: string
                      description:
                        type: string
                      joinCodeRequired:
                        type: boolean
                  success:
                    type: boolean
              examples:
                Success:
                  value:
                    channel:
                      _id: WDuJLFkjwk6L7LdFC
                      fname: new
                      customFields:
                        organization: tra-la-la
                      topic: ''
                      broadcast: false
                      encrypted: false
                      name: new
                      t: c
                      msgs: 73
                      usersCount: 45
                      u:
                        _id: rbAXPnMktTFbNpwtJ
                        username: roxie
                      ts: '2023-04-05T22:34:38.936Z'
                      ro: false
                      default: true
                      sysMes: true
                      _updatedAt: '2023-09-27T05:40:39.687Z'
                      lastMessage:
                        _id: mBfC3sbNhfwcL4AQu
                        rid: WDuJLFkjwk6L7LdFC
                        msg: It should be good
                        ts: '2023-09-16T07:37:59.691Z'
                        u:
                          _id: rbAXPnMktTFbNpwtJ
                          username: test.test
                          name: test test
                        _updatedAt: '2023-09-16T07:37:59.815Z'
                        urls: []
                        mentions: []
                        channels: []
                        md:
                          - type: PARAGRAPH
                            value:
                              - type: PLAIN_TEXT
                                value: It should be good
                      lm: '2023-09-16T07:37:59.691Z'
                      announcement: Test out everything
                      description: Testing the room
                      joinCodeRequired: true
                    success: true
        '401':
          $ref: '#/components/responses/authorizationError'
  /api/v1/channels.setPurpose:
    post:
      tags:
        - Channels
      summary: Set Channel Purpose
      description: |-
        Set the purpose or description of the channel. 
        It is the same as Set Channel Description.
        
        ### Changelog
        | Version | Description |
        | ------- | ----------- |
        |0.48.0  | Added        |
      operationId: post-api-v1-channels.setPurpose
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                roomId:
                  type: string
                  description: The channel's id
                purpose:
                  type: string
                  description: The description to set for the channel.
              required:
                - roomId
                - purpose
            examples:
              Example:
                value:
                  roomId: WDuJLFkjwk6L7LdFC
                  purpose: greetings
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  purpose:
                    type: string
                  success:
                    type: boolean
              examples:
                Success:
                  value:
                    purpose: greetings
                    success: true
        '401':
          $ref: '#/components/responses/authorizationError'
  /api/v1/channels.setReadOnly:
    post:
      tags:
        - Channels
      summary: Set Channel ReadOnly
      description: |-
        Set a channel to be read-only or not.
        
        ### Changelog
        | Version | Description |
        | ------- | ----------- |
        |0.49.0  | Added        |
      operationId: post-api-v1-channels.setReadOnly
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                roomId:
                  type: string
                  description: The channel ID.
                readOnly:
                  type: boolean
                  description: Boolean of whether the room is read-only or not.
              required:
                - roomId
                - readOnly
            examples:
              Example:
                value:
                  roomId: ByehQjC44FwMeiLbX
                  readOnly: true
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  channel:
                    type: object
                    properties:
                      _id:
                        type: string
                      name:
                        type: string
                      t:
                        type: string
                      msgs:
                        type: integer
                      u:
                        type: object
                        properties:
                          _id:
                            type: string
                          username:
                            type: string
                      ts:
                        type: string
                      ro:
                        type: boolean
                      sysMes:
                        type: boolean
                      _updatedAt:
                        type: string
                      usernames:
                        type: array
                        items:
                          type: string
                      joinCodeRequired:
                        type: boolean
                      muted:
                        type: array
                        items:
                          type: object
                  success:
                    type: boolean
              examples:
                Success:
                  value:
                    channel:
                      _id: ByehQjC44FwMeiLbX
                      name: testing0
                      t: c
                      msgs: 0
                      u:
                        _id: aiPqNoGkjpNDiRx6d
                        username: goose160
                      ts: '2017-01-05T18:02:50.754Z'
                      ro: true
                      sysMes: true
                      _updatedAt: '2017-01-05T19:02:24.429Z'
                      usernames:
                        - goose160
                        - graywolf336
                      joinCodeRequired: true
                      muted: []
                    success: true
        '401':
          $ref: '#/components/responses/authorizationError'
  /api/v1/channels.setTopic:
    post:
      tags:
        - Channels
      summary: Set Channel Topic
      description: |-
        Set the topic for a channel.
        
        ### Changelog
        | Version | Description |
        | ------- | ----------- |
        |0.13.0  | Added        |
      operationId: post-api-v1-channels.setTopic
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                roomId:
                  type: string
                  description: The channel's id
                topic:
                  type: string
                  description: The channel's topic
              required:
                - roomId
                - topic
            examples:
              Example:
                value:
                  roomId: WDuJLFkjwk6L7LdFC
                  topic: Discuss all of the testing
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  topic:
                    type: string
                  success:
                    type: boolean
              examples:
                Success:
                  value:
                    topic: Discuss all of the testing
                    success: true
        '401':
          $ref: '#/components/responses/authorizationError'
  /api/v1/channels.setType:
    post:
      tags:
        - Channels
      summary: Set Channel Type
      description: |-
        Set the channel type. The channel type can be either `c` (public) or `p` (private).
        ### Changelog
        | Version | Description |
        | ------- | ----------- |
        |0.49.0  | Added        |
      operationId: post-api-v1-channels.setType
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
      requestBody:
        description: ''
        content:
          application/json:
            schema:
              type: object
              properties:
                    roomId:
                      type: string
                      description: The channel's ID. Alternatively, enter the `channelName` parameter and provide the channel's name as the value.
                    type:
                      type: string
                      description: |-
                        The channel's type. The type of room this channel should be, either c or p. 
                        
                        `c` is for channel and `p` is for private.
              required:
                - roomId
                - type
            examples:
              Example:
                value:
                  roomId: WDuJLFkjwk6L7LdFC
                  type: p
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  channel:
                    type: object
                    properties:
                      _id:
                        type: string
                      name:
                        type: string
                      t:
                        type: string
                      msgs:
                        type: integer
                      u:
                        type: object
                        properties:
                          _id:
                            type: string
                          username:
                            type: string
                      ts:
                        type: string
                      ro:
                        type: boolean
                      sysMes:
                        type: boolean
                      _updatedAt:
                        type: string
                      usernames:
                        type: array
                        items:
                          type: string
                      joinCodeRequired:
                        type: boolean
                      muted:
                        type: array
                        items:
                          type: object
                  success:
                    type: boolean
              examples:
                Success:
                  value:
                    channel:
                      _id: ByehQjC44FwMeiLbX
                      name: testing0
                      t: p
                      msgs: 0
                      u:
                        _id: aiPqNoGkjpNDiRx6d
                        username: goose160
                      ts: '2017-01-05T18:02:50.754Z'
                      ro: false
                      sysMes: true
                      _updatedAt: '2017-01-05T19:02:24.429Z'
                      usernames:
                        - goose160
                        - graywolf336
                      joinCodeRequired: true
                      muted: []
                    success: true

  /api/v1/channels.unarchive:
    post:
      tags:
        - Channels
      summary: Unarchive a Channel
      description: |-
        Unarchive a Channel.
        
        ### Changelog
        | Version | Description |
        | ------- | ----------- |
        |0.48.0   | Added       |
      operationId: post-api-v1-channels.unarchive
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                roomId:
                  type: string
                  example: ByehQjC44FwMeiLbX
                  description: The channel ID that you want to unarchive.
      responses:
        '200':
          $ref: '#/components/responses/trueSuccess'
        '401':
          $ref: '#/components/responses/authorizationError'          

  /api/v1/channels.getAllUserMentionsByChannel:
    get:
      tags:
        - Channels
      summary: Get all user mentions in a channel
      description: |-
        Get all the mentions of the authenticated user in a channel.
        ### Changelog
        | Version | Description|
        | ------- | -----------|
        |0.63.0  | Added       |
      operationId: get-api-v1-channels.getAllUserMentionsByChannel
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
        - $ref: '#/components/parameters/RoomId'
        - $ref: '#/components/parameters/offset'
        - $ref: '#/components/parameters/count'
        - $ref: '#/components/parameters/sort'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  mentions:
                    type: array
                    items:
                      type: object
                      properties:
                        _id:
                          type: string
                        rid:
                          type: string
                        msg:
                          type: string
                        ts:
                          type: string
                        u:
                          type: object
                          properties:
                            _id:
                              type: string
                            username:
                              type: string
                            name:
                              type: string
                        _updatedAt:
                          type: string
                        urls:
                          type: array
                          items:
                            type: object
                        mentions:
                          type: array
                          items:
                            type: object
                            properties:
                              _id:
                                type: string
                              username:
                                type: string
                              name:
                                type: string
                              type:
                                type: string
                        channels:
                          type: array
                          items:
                            type: object
                        md:
                          type: array
                          items:
                            type: object
                            properties:
                              type:
                                type: string
                              value:
                                type: array
                                items:
                                  type: object
                                  properties:
                                    type:
                                      type: string
                                    value:
                                      type: object
                                      properties:
                                        type:
                                          type: string
                                        value:
                                          type: string
                  count:
                    type: integer
                  offset:
                    type: integer
                  total:
                    type: integer
                  success:
                    type: boolean
              examples:
                Success:
                  value:
                    mentions:
                      - _id: mPmJ6cPAazzphJmGe
                        rid: 6513afeda2f73c7460e18c86
                        msg: '@roxie'
                        ts: '2023-09-27T20:32:58.994Z'
                        u:
                          _id: rbAXPnMktTFbNpwtJ
                          username: roxie
                          name: test test
                        _updatedAt: '2023-09-27T20:32:59.171Z'
                        urls: []
                        mentions:
                          - _id: rbAXPnMktTFbNpwtJ
                            username: roxie
                            name: test test
                            type: user
                        channels: []
                        md:
                          - type: PARAGRAPH
                            value:
                              - type: MENTION_USER
                                value:
                                  type: PLAIN_TEXT
                                  value: roxie
                    count: 1
                    offset: 0
                    total: 1
                    success: true
        '401':
          $ref: '#/components/responses/authorizationError'
  /api/v1/channels.getIntegrations:
    get:
      tags:
        - Channels
      summary: Get Channel Integrations
      description: |-
        Retrieves the integrations that the channel has.
        The endpoint requires at least one of the following integration permissions: 
        - `manage-incoming-integrations`
        - `manage-own-incoming-integrations`
        - `manage-outgoing-integrations`
        - `manage-own-outgoing-integrations`. 
        
        It will return the integrations based on the user's permission. 
        
        ### Changelog
        | Version | Description                                     |
        | ------- | -------------------------------------------------- |
        | 1.1.0   | Separate permissions in `incoming` and `outgoing`. |
        | 0.49.0  | Added                                              |
      operationId: get-api-v1-channels.getIntegrations
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
        - $ref: '#/components/parameters/RoomId'
        - $ref: '#/components/parameters/offset'
        - $ref: '#/components/parameters/sort'
        - $ref: '#/components/parameters/fields'
        - $ref: '#/components/parameters/query'
        - $ref: '#/components/parameters/count'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  integrations:
                    type: array
                    items:
                      type: object
                      properties:
                        _id:
                          type: string
                        enabled:
                          type: boolean
                        username:
                          type: string
                        alias:
                          type: string
                        avatar:
                          type: string
                        name:
                          type: string
                        triggerWords:
                          type: array
                          items:
                            type: string
                        urls:
                          type: array
                          items:
                            type: string
                        token:
                          type: string
                        script:
                          type: string
                        scriptEnabled:
                          type: boolean
                        impersonateUser:
                          type: boolean
                        scriptCompiled:
                          type: string
                        scriptError:
                          type: string
                        type:
                          type: string
                        userId:
                          type: string
                        channel:
                          type: array
                          items:
                            type: object
                        _createdAt:
                          type: string
                        _createdBy:
                          type: object
                          properties:
                            username:
                              type: string
                            _id:
                              type: string
                        _updatedAt:
                          type: string
                  success:
                    type: boolean
              examples:
                Example:
                  value:
                    integrations:
                      - _id: WMQDChpnYTRmFre9h
                        enabled: true
                        username: rocket.cat
                        alias: Guggy
                        avatar: 'http://res.guggy.com/logo_128.png'
                        name: Guggy
                        triggerWords:
                          - '!guggy'
                          - guggy
                          - gif+
                        urls:
                          - 'http://text2gif.guggy.com/guggify'
                        token: 8DFS89DMKLWEN
                        script: |-
                          const config = {color: '#ffffff'};class Script{}
                        scriptEnabled: true
                        impersonateUser: false
                        scriptCompiled: 'function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor));'
                        scriptError: ""
                        type: webhook-outgoing
                        userId: rocket.cat
                        channel: []
                        _createdAt: '2017-01-05T17:06:05.660Z'
                        _createdBy:
                          username: graywolf336
                          _id: R4jgcQaQhvvK6K3iY
                        _updatedAt: '2017-01-05T17:06:05.660Z'
                    success: true
        '401':
          $ref: '#/components/responses/authorizationError'
  /api/v1/channels.convertToTeam:
    post:
      tags:
        - Channels
      summary: Convert channel to team
      description: |-
        Convert a channel to a team.
        Permission required: `create-team`
      operationId: post-api-v1-channels.convertToTeam
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                    channelId:
                      type: string
                      description: The channel's ID. Alternatively, enter the `channelName` parameter and provide the channel's name as the value.
              required:
                - channelId
            examples:
              Example:
                value:
                  channelId: 6513afeda2f73c7460e18c86
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  team:
                    type: object
                    properties:
                      _id:
                        type: string
                      name:
                        type: string
                      type:
                        type: integer
                      createdAt:
                        type: string
                      createdBy:
                        type: object
                        properties:
                          _id:
                            type: string
                          username:
                            type: string
                      _updatedAt:
                        type: string
                      roomId:
                        type: string
                  success:
                    type: boolean
              examples:
                Success:
                  value:
                    team:
                      _id: 65149c7ea2f73c7460e18cab
                      name: messages
                      type: 0
                      createdAt: '2023-09-27T21:19:58.972Z'
                      createdBy:
                        _id: rbAXPnMktTFbNpwtJ
                        username: roxie
                      _updatedAt: '2023-09-27T21:19:58.972Z'
                      roomId: 6513afeda2f73c7460e18c86
                    success: true
        '401':
          $ref: '#/components/responses/authorizationError'
  /api/v1/rooms.saveNotification:
    post:
      tags:
        - Rooms
      summary: Set Room Notifications
      description: |-
        Set the notifications settings of a specific room.
        
        ### Changelog
        | Version | Description |
        | ------- | ----------- |
        |0.63.0  | Added        |
      operationId: post-api-v1-rooms.saveNotification
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                roomId:
                  type: string
                  description: The channel's id
                notifications:
                  type: object
                  description: The object that contains the following parameters.
                  properties:
                    desktopNotifications:
                      type: string
                      description: |-
                        The value for desktop notifications. The options are: 
                        - nothing
                        - mentions
                        - all
                        - default
                    disableNotifications:
                      type: string
                      description: |-
                        The value to disable/enable channel's notifications. 
                        
                        The options are:
                        - 0
                        - 1
                    emailNotifications:
                      type: string
                      description: |-
                        The value for email notifications. 
                        The options are:
                        - nothing
                        - mentions
                        - all
                        - default
                    audioNotificationValue:
                      type: string
                      description: The value for audio notification sound.
                    desktopNotificationDuration:
                      type: string
                      description: The value for desktop notification duration.
                    audioNotifications:
                      type: string
                      description: |-
                        The value for audio notifications. 
                        
                        The options are:
                        - nothing
                        - mentions
                        - all
                        - default
                    unreadAlert:
                      type: string
                      description: |-
                        The value for unread alerts notifications. 
                        
                        The options are:
                        - nothing
                        - mentions
                        - all
                        - default
                    hideUnreadStatus:
                      type: string
                      description: |-
                        The value to disable/enable number of unread messages. 
                        The options are:
                        - 0
                        - 1
                    mobilePushNotifications:
                      type: string
                      description: |-
                        The value for mobile push notifications. 
                        
                        The options are:
                        - nothing
                        - mentions
                        - all
                        - default
              required:
                - roomId
                - notifications
            examples:
              Example:
                value:
                  roomId: 5of4weEXaH7yncxz9
                  notifications:
                    desktopNotifications: all
                    disableNotifications: 0
                    emailNotifications: nothing
                    audioNotificationValue: beep
                    desktopNotificationDuration: '2'
                    audioNotifications: all
                    unreadAlert: nothing
                    hideUnreadStatus: 0
                    mobilePushNotifications: mentions
      responses:
        '200':
          $ref: '#/components/responses/trueSuccess'
        '401':
          $ref: '#/components/responses/authorizationError'
  /api/v1/rooms.adminRooms:
    get:
      tags:
        - Rooms
      summary: Get All Room Admins
      description: |-
        Retrieves all rooms and admin information.
        
        Permission required: `view-room-administration`
        
        ### Changelog
        | Version | Description  |
        | ------- |--------------|
        | 2.4.0  | Added         |
      operationId: get-api-v1-rooms.adminRooms
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
        - name: types
          in: query
          description: |-
           The room types. The possible room types are:
            - `d`: Direct messages
            - `c`: Public channel
            - `p`: Private channel
            - `discussions`: Team or channel discussions
            - `teams`: Workspace teams
            - `l`: Livechat
            - `v`: Omnichannel VoIP rooms
          schema:
            type: array
            items:
              type: string
        - name: filter
          in: query
          description: The rooms name
          schema:
            type: string
        - $ref: '#/components/parameters/count'
        - $ref: '#/components/parameters/sort'
        - $ref: '#/components/parameters/offset'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  rooms:
                    type: array
                    items:
                      type: object
                      properties:
                        _id:
                          type: string
                        fname:
                          type: string
                        description:
                          type: string
                        broadcast:
                          type: boolean
                        federated:
                          type: boolean
                        name:
                          type: string
                        t:
                          type: string
                        msgs:
                          type: integer
                        usersCount:
                          type: integer
                        u:
                          type: object
                          properties:
                            _id:
                              type: string
                            username:
                              type: string
                        ro:
                          type: boolean
                        default:
                          type: boolean
                        topic:
                          type: string
                        announcement:
                          type: string
                  count:
                    type: integer
                  offset:
                    type: integer
                  total:
                    type: integer
                  success:
                    type: boolean
              examples:
                Success:
                  value:
                    rooms:
                    - _id: 654c9d1ca2f73c7460e1918b
                      fname: animalGeography
                      topic: ''
                      broadcast: false
                      name: animalGeography
                      t: p
                      msgs: 4
                      usersCount: 1
                      u:
                        _id: CkCPNcvsvCDfmWLqC
                        username: kim.jane
                        name: kim.jane
                      ro: false
                      default: false
                    count: 1
                    offset: 0
                    total: 1
                    success: true
        '401':
          $ref: '#/components/responses/authorizationError'
  /api/v1/rooms.cleanHistory:
    post:
      tags:
        - Rooms
      summary: Clear Room History
      description: |-
        Cleans up a room, removing messages from the provided time range.
        
        ### Changelog
        | Version | Description            |
        | ------- | ---------------------- |
        | 0.64.0  | Added                  |
        | 0.67.0  | Added fields `limit`, `excludePinned`, `filesOnly` and `users` |
      operationId: get-api-v1-rooms.cleanHistory
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                roomId:
                  type: string
                  description: The room ID.
                latest:
                  type: string
                  description: The end of time range of messages.
                oldest:
                  type: string
                  description: The start of the time range of messages.
                inclusive:
                  type: boolean
                  description: 'Whether messages which land on the latest and oldest dates should be included. By default, the value is false.'
                excludePinned:
                  type: boolean
                  description: 'Whether pinned messages should be deleted. By default, the value is false.'
                filesOnly:
                  type: boolean
                  description: 'Whether to only delete files and keep messages intact. By default, the value is false.'
                users:
                  type: array
                  items:
                    type: string
                  description: 'Specific set of users whose content to delete. By default, the value is [], that is, everyone.'
                limit:
                  type: integer
                  description: 'The amount of messages to prune. By default, the value is 0 (all).'
                ignoreDiscussion:
                  type: boolean
                  description: 'Determines if messages from discussions should be pruned. By default, the value is true.'
                ignoreThreads:
                  type: boolean
                  description: 'Determines if messages from threads should be pruned. By default, the value is true.'
              required:
                - roomId
                - latest
                - oldest
            examples:
              Example:
                value:
                  roomId: roomId
                  latest: '2016-12-09T13:42:25.304Z'
                  oldest: '2016-08-30T13:42:25.304Z'
      responses:
        '200':
          $ref: '#/components/responses/trueSuccess'
        '401':
          $ref: '#/components/responses/authorizationError'
  /api/v1/rooms.info:
    get:
      tags:
        - Rooms
      summary: Get Room Information
      description: |- 
        Retrieves the information about the room.
        
        ### Changelog
        | Version | Description |
        | ------- | ----------- |
        |0.72.0   | Added       |
      operationId: get-api-v1-rooms.info
      parameters:
        - $ref: '#/components/parameters/UserId'
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/Optional-RoomId'
        - $ref: '#/components/parameters/Optional-RoomName'
        - $ref: '#/components/parameters/fields'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  room:
                    type: object
                    properties:
                      _id:
                        type: string
                      ts:
                        type: string
                      t:
                        type: string
                      name:
                        type: string
                      usernames:
                        type: array
                        items:
                          type: object
                          properties: {}
                      msgs:
                        type: integer
                      usersCount:
                        type: integer
                      _updatedAt:
                        type: string
                      u:
                        type: object
                        properties:
                          _id:
                            type: string
                          username:
                            type: string
                          name:
                            type: string
                      default:
                        type: boolean
                      lastMessage:
                        type: object
                        properties:
                          _id:
                            type: string
                          t:
                            type: string
                          rid:
                            type: string
                          ts:
                            type: string
                          msg:
                            type: string
                          u:
                            type: object
                            properties:
                              _id:
                                type: string
                              username:
                                type: string
                              name:
                                type: string
                          groupable:
                            type: boolean
                          drid:
                            type: string
                          _updatedAt:
                            type: string
                      lm:
                        type: string
                  success:
                    type: boolean
              examples:
                Success:
                  value:
                    room:
                      _id: GENERAL
                      ts: '2024-02-14T14:34:49.365Z'
                      t: c
                      name: general
                      usernames: []
                      msgs: 55
                      usersCount: 36
                      _updatedAt: '2024-07-16T08:49:34.732Z'
                      u:
                        _id: rocket.cat
                        username: rocket.cat
                        name: Rocket.Cat
                      default: true
                      lastMessage:
                        _id: 668fc2bbffe932842327c1ff
                        t: discussion-created
                        rid: GENERAL
                        ts: '2024-07-11T11:32:11.220Z'
                        msg: Discussion
                        u:
                          _id: 5m4hjvzChTRCqwPrD2
                          username: Rama
                          name: Raghav Ram
                        groupable: false
                        drid: 668fc2bbffe932842327c1fd
                        _updatedAt: '2024-07-11T11:32:11.220Z'
                      lm: '2024-07-11T11:32:11.220Z'
                    success: true
        '401':
          $ref: '#/components/responses/authorizationError'
  /api/v1/rooms.getDiscussions:
    get:
      tags:
        - Rooms
      summary: Get Room Discussions
      description: |-
        Get all discussions of a room. 
        
        ### Changelog
        | Version | Description   |
        | ------- | --------------|
        | 1.0.0   | Added         |
      operationId: get-api-v1-rooms.getDiscussions
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
        - $ref: '#/components/parameters/Optional-RoomName'
        - $ref: '#/components/parameters/Optional-RoomId'
        - $ref: '#/components/parameters/query'
        - $ref: '#/components/parameters/count'
        - $ref: '#/components/parameters/fields'
        - $ref: '#/components/parameters/offset'
        - $ref: '#/components/parameters/sort'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  discussions:
                    type: array
                    items:
                      type: object
                      properties:
                        _id:
                          type: string
                        fname:
                          type: string
                        _updatedAt:
                          type: string
                        topic:
                          type: string
                        prid:
                          type: string
                        encrypted:
                          type: boolean
                        name:
                          type: string
                        t:
                          type: string
                        msgs:
                          type: integer
                        usersCount:
                          type: integer
                        u:
                          type: object
                          properties:
                            _id:
                              type: string
                            username:
                              type: string
                            name:
                              type: string
                        ts:
                          type: string
                        ro:
                          type: boolean
                        default:
                          type: boolean
                        sysMes:
                          type: boolean
                        lastMessage:
                          type: object
                          properties:
                            _id:
                              type: string
                            rid:
                              type: string
                            msg:
                              type: string
                            ts:
                              type: string
                            u:
                              type: object
                              properties:
                                _id:
                                  type: string
                                username:
                                  type: string
                                name:
                                  type: string
                            _updatedAt:
                              type: string
                            urls:
                              type: array
                              items:
                                type: object
                            mentions:
                              type: array
                              items:
                                type: object
                            channels:
                              type: array
                              items:
                                type: object
                            md:
                              type: array
                              items:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  value:
                                    type: array
                                    items:
                                      type: object
                                      properties:
                                        type:
                                          type: string
                                        value:
                                          type: string
                        lm:
                          type: string
                  count:
                    type: integer
                  offset:
                    type: integer
                  total:
                    type: integer
                  success:
                    type: boolean
              examples:
                Success:
                  value:
                    discussions:
                      - _id: 6514d34ea2f73c7460e18cb4
                        fname: test-discussion
                        _updatedAt: '2023-09-28T01:14:04.275Z'
                        topic: general
                        prid: GENERAL
                        encrypted: false
                        name: M75nSgA3uYsnTbKRu
                        t: c
                        msgs: 1
                        usersCount: 1
                        u:
                          _id: rbAXPnMktTFbNpwtJ
                          username: roxie
                          name: test test
                        ts: '2023-09-28T01:13:50.574Z'
                        ro: false
                        default: false
                        sysMes: true
                        lastMessage:
                          _id: pnm4kh84HfncDEZj7
                          rid: 6514d34ea2f73c7460e18cb4
                          msg: 'Hi guys , this is for SWE team'
                          ts: '2023-09-28T01:14:04.119Z'
                          u:
                            _id: rbAXPnMktTFbNpwtJ
                            username: roxie
                            name: test test
                          _updatedAt: '2023-09-28T01:14:04.233Z'
                          urls: []
                          mentions: []
                          channels: []
                          md:
                            - type: PARAGRAPH
                              value:
                                - type: PLAIN_TEXT
                                  value: 'Hi guys , this is for SWE team'
                        lm: '2023-09-28T01:14:04.119Z'
                    count: 1
                    offset: 0
                    total: 1
                    success: true
        '401':
          $ref: '#/components/responses/authorizationError'
  /api/v1/rooms.get:
    get:
      tags:
        - Rooms
      summary: Get Rooms
      description: |-
        Get all opened rooms (all joined public & private channels and all DMs) of the authenticated user.
        
        ### Changelog
        | Version | Description   |
        | ------- | --------------|
        | 0.72.0  | Added         |
      operationId: get-api-v1-rooms.get
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
        - name: updatedSince
          in: query
          description: 'A date as an ISO string. When you provide the `updatedSince` query parameter, then the update and remove in the response will contain only those updated and removed since the specified date and time.'
          schema:
            type: string
          example: '2017-11-25T15:08:17.248Z'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  update:
                    type: array
                    items:
                      type: object
                      properties:
                        _id:
                          type: string
                        ts:
                          type: string
                        t:
                          type: string
                        name:
                          type: string
                        usernames:
                          type: array
                          items:
                            type: string
                        msgs:
                          type: integer
                        usersCount:
                          type: integer
                        _updatedAt:
                          type: string
                        u:
                          type: object
                          properties:
                            _id:
                              type: string
                            username:
                              type: string
                            name:
                              type: string
                        default:
                          type: boolean
                        lastMessage:
                          type: object
                          properties:
                            _id:
                              type: string
                            t:
                              type: string
                            rid:
                              type: string
                            ts:
                              type: string
                            msg:
                              type: string
                            u:
                              type: object
                              properties:
                                _id:
                                  type: string
                                username:
                                  type: string
                                name:
                                  type: string
                            groupable:
                              type: boolean
                            drid:
                              type: string
                            _updatedAt:
                              type: string
                            urls:
                              type: array
                              items:
                                type: object
                                properties:
                                  url:
                                    type: string
                                  meta:
                                    type: object
                                    properties: {}
                            mentions:
                              type: array
                              items:
                                type: object
                                properties: {}
                            channels:
                              type: array
                              items:
                                type: object
                                properties: {}
                            md:
                              type: array
                              items:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  value:
                                    type: array
                                    items:
                                      type: object
                                      properties:
                                        type:
                                          type: string
                                        value:
                                          type: string
                                          items:
                                            type: object
                                            properties:
                                              type:
                                                type: string
                                              value:
                                                type: string
                                              src:
                                                type: object
                                                properties:
                                                  type:
                                                    type: string
                                                  value:
                                                    type: string
                                              label:
                                                type: array
                                                items:
                                                  type: object
                                                  properties:
                                                    type:
                                                      type: string
                                                    value:
                                                      type: string
                        lm:
                          type: string
                        uids:
                          type: array
                          items:
                            type: string
                        ro:
                          type: boolean
                        sysMes:
                          type: boolean
                  remove:
                    type: array
                    items:
                      type: object
                      properties: {}
                  success:
                    type: boolean
              examples:
                Success:
                  value:
                    update:
                      - _id: GENERAL
                        ts: '2024-02-14T14:34:49.365Z'
                        t: c
                        name: general
                        usernames: []
                        msgs: 55
                        usersCount: 36
                        _updatedAt: '2024-07-16T08:49:34.732Z'
                        u:
                          _id: rocket.cat
                          username: rocket.cat
                          name: Rocket.Cat
                        default: true
                        lastMessage:
                          _id: '668fc2bbffe932842327c1ff'
                          t: discussion-created
                          rid: 'GENERAL'
                          ts: '2024-07-11T11:32:11.220Z'
                          msg: Discussion
                          u:
                            _id: 5m4hjvzCTRCqwPrD2
                            username: Rama
                            name: Raghav Ram
                          groupable: false
                          drid: 668fc2bbffe932842327c1fd
                          _updatedAt: '2024-07-11T11:32:11.220Z'
                        lm: '2024-07-11T11:32:11.220Z'
                      - _id: WbYJfC5kTArcECGkpfZ3bvXC72pobjFPLJ
                        t: d
                        usernames:
                          - user2
                          - user1
                        usersCount: 2
                        msgs: 2
                        ts: '2024-07-10T13:48:14.998Z'
                        uids:
                          - WbYJfC5kTArcECGkp
                          - fZ3bvXC72pobjFPLJ
                        default: false
                        ro: false
                        sysMes: true
                        _updatedAt: '2024-07-10T13:48:28.300Z'
                        lastMessage:
                          _id: 'XHjLcN3pCe8snaoTm'
                          rid: 'WbYJfC5kTArcECGkpfZ3bvXC72pobjFPLJ'
                          msg: 'again'
                          ts: '2024-07-10T13:48:28.262Z'
                          u:
                            _id: fZ3bvXC72pobjFPLJ
                            username: user1
                            name: user1
                          _updatedAt: '2024-07-10T13:48:28.296Z'
                          urls: []
                          mentions: []
                          channels: []
                          md:
                            - type: PARAGRAPH
                              value:
                                - type: PLAIN_TEXT
                                  value: again
                        lm: '2024-07-10T13:48:28.262Z'
                      - _id: fZ3bvXC72pobjFPLJrocket.cat
                        t: d
                        usernames:
                          - user1
                          - rocket.cat
                        usersCount: 2
                        msgs: 15
                        ts: '2024-02-21T02:00:01.657Z'
                        uids:
                          - fZ3bvXC72pobjFPLJ
                          - rocket.cat
                        default: false
                        ro: false
                        sysMes: true
                        _updatedAt: '2024-07-17T02:00:05.203Z'
                        lastMessage:
                          rid: fZ3bvXC72pobjFPLJrocket.cat
                          msg: |-
                            *Update your Rocket.Chat*
                            New version available (6.10.0)
                            https://github.com/RocketChat/Rocket.Chat/releases/tag/6.10.0
                          ts: '2024-07-17T02:00:05.161Z'
                          u:
                            _id: rocket.cat
                            username: rocket.cat
                            name: Rocket.Cat
                          _id: c4PzLLTy4fDSCmm4F
                          _updatedAt: '2024-07-17T02:00:05.198Z'
                          urls:
                            - url: 'https://github.com/RocketChat/Rocket.Chat/releases/tag/6.10.0'
                              meta: {}
                          mentions: []
                          channels: []
                          md:
                            - type: PARAGRAPH
                              value:
                                - type: BOLD
                                  value:
                                    - type: PLAIN_TEXT
                                      value: Update your Rocket.Chat
                            - type: PARAGRAPH
                              value:
                                - type: PLAIN_TEXT
                                  value: New version available (6.10.0)
                            - type: PARAGRAPH
                              value:
                                - type: LINK
                                  value:
                                    src:
                                      type: PLAIN_TEXT
                                      value: 'https://github.com/RocketChat/Rocket.Chat/releases/tag/6.10.0'
                                    label:
                                      - type: PLAIN_TEXT
                                        value: 'https://github.com/RocketChat/Rocket.Chat/releases/tag/6.10.0'
                        lm: '2024-07-17T02:00:05.161Z'
                    remove: []
                    success: true
        '401':
          $ref: '#/components/responses/authorizationError'
  /api/v1/rooms.leave:
    post:
      tags:
        - Rooms
      summary: Leave Room
      description: |-
        Leave a room.
        
        ### Changelog
        | Version | Description   |
        | ------- | --------------|
        | 0.72.0  | Added         |
      operationId: post-api-v1-rooms.leave
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                roomId:
                  type: string
                  example: ByehQjC44FwMeiLbX
                  description: The room ID that you want to leave.
      responses:
        '200':
          $ref: '#/components/responses/trueSuccess'
        '401':
          $ref: '#/components/responses/authorizationError'
  /api/v1/rooms.delete:
    post:
      tags:
        - Rooms
      summary: Delete Room
      description: |-
        Delete a room from the workspace.
        
        ### Changelog
        | Version | Description   |
        | ------- | --------------|
        | 5.4.0   | Added         |
      operationId: get-api-v1-rooms.delete
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                roomId:
                  type: string
                  example: ByehQjC44FwMeiLbX
                  description: The room ID that you want to delete.
      responses:
        '200':
          $ref: '#/components/responses/trueSuccess'
        '401':
          $ref: '#/components/responses/authorizationError'
  /api/v1/rooms.favorite:
    post:
      tags:
        - Rooms
      summary: Favorite/Unfavourite a Room
      description: |-
        Mark/Unmark a Room as favourite
        
        ### Changelog
        | Version | Description   |
        | ------- | --------------|
        | 0.64.0   | Added        |
      operationId: post-api-v1-rooms.favorite
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                    roomId:
                      type: string
                      description: The room ID. Alternatively, enter the `roomName` parameter and provide the room's name as the value.
                    favorite:
                      type: boolean
                      description: A boolean to mark the room as favourite or not.
              required:
                - roomId
                - favorite
            examples:
              Example :
                value:
                  roomId: GENERAL
                  favorite: true
      responses:
        '200':
          $ref: '#/components/responses/trueSuccess'
        '401':
          $ref: '#/components/responses/authorizationError'
  '/api/v1/rooms.upload/{rid}':
    post:
      tags:
        - Rooms
      summary: Upload File to a Room
      description: |-
        Post a message with the attached file to a dedicated room.
        ### Changelog
        | Version | Description                          |
        | ------- | ------------------------------------ |
        | 1.0.0   | Return Message object on file upload |
        | 0.62.0  | Added                                |
      operationId: get-api-v1-rooms.upload-rid
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
        - name: rid
          in: path
          description: The room ID to which you want to upload the file.
          required: true
          schema:
            type: string
          example: ByehQjC44FwMeiLbX
      requestBody:
        description: |-
          For some file types, when uploading via curl, you may need to set the mime type.
        
          With some file types, curl will upload the file as application/octet-stream. 
          You can pass a custom mime type like this: `-F \"file=@file.wav;type=audio/wav\"` to specify the type.
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                file:
                  type: string
                  format: binary
                  description: The file to upload
                msg:
                  type: string
                  description: A message text to be sent with the file.
                description:
                  type: string
                  description: A description of the file.
                tmid:
                  type: string
                  description: The thread message ID (if you want to upload a file to a thread).
                customFields:
                  type: object
                  description: |-
                    You can add custom fields for messages. For example, set priorities for messages.

                    You must enable this option and define the validation in the workspace settings. See the <a href="https://docs.rocket.chat/use-rocket.chat/workspace-administration/settings/message" target="_blank">Message</a> for further information.
                  example: {"priority": "high"}
              required:
                - file
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: object
                    properties:
                      _id:
                        type: string
                      rid:
                        type: string
                      ts:
                        type: string
                      msg:
                        type: string
                      file:
                        type: object
                        properties:
                          _id:
                            type: string
                          name:
                            type: string
                          type:
                            type: string
                      files:
                        type: array
                        items:
                          type: object
                          properties:
                            _id:
                              type: string
                            name:
                              type: string
                            type:
                              type: string
                      attachments:
                        type: array
                        items:
                          type: object
                          properties:
                            ts:
                              type: string
                            title:
                              type: string
                            title_link:
                              type: string
                            title_link_download:
                              type: boolean
                            type:
                              type: string
                            description:
                              type: string
                      u:
                        type: object
                        properties:
                          _id:
                            type: string
                          username:
                            type: string
                          name:
                            type: string
                      _updatedAt:
                        type: string
                      urls:
                        type: array
                        items:
                          type: object
                      md:
                        type: array
                        items:
                          type: object
                          properties:
                            type:
                              type: string
                            value:
                              type: array
                              items:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  value:
                                    type: string
                  success:
                    type: boolean
              examples:
                Example:
                  value:
                    message:
                      _id: XhqGxkXYtcYba2F9K
                      rid: GENERAL
                      ts: '2022-06-29T07:34:33.736Z'
                      msg: This is a message with a file
                      file:
                        _id: pw6oyrjBStWwMdeMv
                        name: example.txt
                        type: text/plain
                      files:
                        - _id: pw6oyrjBStWwMdeMv
                          name: example.txt
                          type: text/plain
                      attachments:
                        - ts: '1970-01-01T00:00:00.000Z'
                          title: example.txt
                          title_link: /file-upload/pw6oyrjBStWwMdeMv/example.txt
                          title_link_download: true
                          type: file
                          description: Simple text file
                      u:
                        _id: g8aroJivN5R32TxCm
                        username: rodriq
                        name: Rodriq
                      _updatedAt: '2022-06-29T07:34:33.811Z'
                      urls: []
                      md:
                        - type: PARAGRAPH
                          value:
                            - type: PLAIN_TEXT
                              value: This is a message with a file
                    success: true
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  error:
                    type: string
              examples:
                Unknown key:
                  value:
                    success: false
                    error: 'Match error: Unknown key in field dasd'
                Invalid field:
                  value:
                    success: false
                    error: '[invalid-field]'
                    errorType: invalid-field
        '401':
          $ref: '#/components/responses/authorizationError'

  /api/v1/rooms.autocomplete.availableForTeams:
    get:
      tags:
        - Rooms
      summary: Autocomplete Room Name for Team
      description: Autocompletes room name available for conversion to team.
      operationId: get-api-v1-rooms.autocomplete.availableForTeams
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
        - name: name
          in: query
          description: The name of the room
          required: true
          schema:
            type: string
          example: data-loss-prevention
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      type: object
                      properties:
                        _id:
                          type: string
                        fname:
                          type: string
                        name:
                          type: string
                        t:
                          type: string
                  success:
                    type: boolean
              examples:
               Match error:
                  value:
                    items:
                      - _id: siyr2oWQJBjQjhLwr
                        fname: try
                        name: try
                        t: c
                    success: true
        '401':
          $ref: '#/components/responses/authorizationError'

  /api/v1/rooms.autocomplete.channelAndPrivate:
    get:
      tags:
        - Rooms
      summary: Autocomplete Room Name for Private and Public Rooms
      operationId: get-api-v1-rooms.autocomplete.channelAndPrivate
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
        - schema:
            type: string
            example: '{"name":"ran"}'
          in: query
          name: selector
          required: true
          description: The term to be completed. It only applies to room name.
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      type: object
                      properties:
                        _id:
                          type: string
                        fname:
                          type: string
                        name:
                          type: string
                        t:
                          type: string
                  success:
                    type: boolean
              examples:
                Success:
                  value:
                    items:
                      - _id: 664f0d525df46832f75b1860
                        fname: rancher
                        name: rancher
                        t: p
                      - _id: 6630e94ad2226209149c67e2
                        fname: random
                        name: random
                        t: c
                      - _id: 664f148f5df46832f75b18b2
                        fname: ranmowe
                        name: ranmowe
                        t: p
                    success: true
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  error:
                    type: string
              examples:
                Selector Param Required:
                  value:
                    success: false
                    error: The 'selector' param is required
        '401':
          $ref: '#/components/responses/authorizationError'
      description: 'List the public and private rooms whose names match a given string, excluding <a href="https://docs.rocket.chat/docs/discussions" target="_blank">discussions</a>, <a href="https://docs.rocket.chat/docs/direct-messages" target="_blank">DMs</a>, and <a href="https://docs.rocket.chat/docs/omnichannel" target="_blank">omnichannel rooms</a>. The endpoint is valuable when performing search operations. It returns only rooms that the user belongs to.'
  /api/v1/rooms.autocomplete.adminRooms:
    get:
      tags:
        - Rooms
      summary: Admin Autocomplete Room Name for Private and Public Rooms
      operationId: get-api-v1-rooms.autocomplete.adminRooms
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
        - schema:
            type: string
            example: '{"name":"ran"}'
          in: query
          name: selector
          required: true
          description: The term to be completed. It applies to room name and display name.
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      type: object
                      properties:
                        _id:
                          type: string
                        fname:
                          type: string
                        name:
                          type: string
                        t:
                          type: string
                  success:
                    type: boolean
              examples:
                Success:
                  value:
                    items:
                      - _id: 664f0d815df46832f75b1877
                        fname: rangig
                        name: Ch9xkYwGHnsLe7CQR
                        t: c
                      - _id: 664f0d525df46832f75b1860
                        fname: rancher
                        name: rancher
                        t: p
                      - _id: 6630e94ad2226209149c67e2
                        fname: random
                        name: random
                        t: c
                    success: true
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  error:
                    type: string
              examples:
                Selector Param Required:
                  value:
                    success: false
                    error: The 'selector' param is required
        '401':
          $ref: '#/components/responses/authorizationError'
      description: 'List public and private rooms whose names match a given string, excluding <a href="https://docs.rocket.chat/docs/direct-messages" target="_blank">DMs</a>, and <a href="https://docs.rocket.chat/docs/omnichannel" target="_blank">omnichannel rooms</a>. This endpoint is valuable when performing search operations. Only workspace administrators can use it.'
    parameters: []
  /api/v1/rooms.adminRooms.getRoom:
    get:
      tags:
        - Rooms
      summary: Get Admin of Room
      description: |-
        Retrieves the admin of a room.
        
        Permission required: `view-room-administration`
        
        ### Changelog
        | Version | Description     |
        | ------- | --------------- |
        | 2.4.0   | Added           |
      operationId: get-api-v1-rooms.adminRooms.getRoom
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
        - name: rid
          in: query
          description: 'The room ID.'
          schema:
            type: string
          example: 654c9d1ca2f73c7460e1918b
          required: true
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  _id:
                    type: string
                  name:
                    type: string
                  fname:
                    type: string
                  t:
                    type: string
                  msgs:
                    type: integer
                  usersCount:
                    type: integer
                  u:
                    type: object
                    properties:
                      _id:
                        type: string
                      username:
                        type: string
                  ro:
                    type: boolean
                  default:
                    type: boolean
                  success:
                    type: boolean
              examples:
                Success:
                  value:
                    _id: ukFsHiySDhMkQyyyF
                    name: freightwave
                    fname: freightwave
                    t: p
                    msgs: 4
                    usersCount: 1
                    u:
                      _id: Gd6iymRZBK4C6wqHN
                      username: bruno.raymundo
                    ro: false
                    default: false
                    success: true
        '401':
          $ref: '#/components/responses/authorizationError'
        '403':
          $ref: '#/components/responses/forbiddenError'

  /api/v1/rooms.saveRoomSettings:
    post:
      tags:
        - Rooms
      summary: Save Room Settings
      description: |-
        ### Changelog
        | Version | Description |
        | ------- | ------------|
        | 3.13.0  | Added       |
      operationId: post-api-v1-rooms.saveRoomSettings
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                rid:
                  type: string
                  description: The room ID.
                roomName:
                  type: string
                  description: The name of the room.
                roomDescription:
                  type: string
                  description: The description of the room.
                roomAvatar:
                  type: string
                  description: The base64 image.
                featured:
                  type: boolean
                  description: Whether the room is featured or not.
                roomTopic:
                  type: string
                  description: The topic of the room.
                roomAnnouncement:
                  type: string
                  description: The announcement of the room.
                roomCustomFields:
                  type: object
                  description: An object of the custom fields of the room.
                roomType:
                  type: string
                  description: The type of the room. It could be `c` for public rooms or `p` for private rooms.
                readOnly:
                  type: boolean
                  description: Whether the room is read-only or not.
                reactWhenReadOnly:
                  type: boolean
                  description: Whether users can react when the room is read-only.
                systemMessages:
                  type: array
                  items:
                    type: string
                  description: The system messages that the room supports.
                default:
                  type: boolean
                  description: Whether the room is the default room or not.
                joinCode:
                  type: string
                  description: The join code of the room.
                streamingOptions:
                  type: object
                  description: The streaming options of the room.
                retentionEnabled:
                  type: boolean
                  description: Whether retention is enabled for the room or not.
                retentionMaxAge:
                  type: string
                  description: The maximum age (in days) of messages to be retained in the room.
                retentionExcludePinned:
                  type: boolean
                  description: Whether to exclude pinned messages from retention or not.
                retentionFilesOnly:
                  type: boolean
                  description: Whether to retain only files in the room or not.
                retentionIgnoreThreads:
                  type: boolean
                  description: Whether to ignore threads when retaining messages or not.
                retentionOverrideGlobal:
                  type: boolean
                  description: Whether to override the global retention settings for the room or not.
                encrypted:
                  type: boolean
                  description: Whether the room is encrypted or not.
                favorite:
                  type: object
                  description: The favorite settings of the room. Whether the room is marked as favorite and whether it is set as the default room.
                sidepanel:
                  type: object
                  description: List the team's channels or discussions to be displayed in the sidepanel.
                  properties:
                    items:
                      type: array
                      description: The options are `discussions` and `channels`.
                      items:
                        type: string
                        example: '["discussions", "channels"]'
              required:
                - rid
            examples:
              Example:
                value:
                  rid: JZ8Y2dLfYhsg323Rf
                  roomName: Test-Save-Room
                  roomDescription: This is a test room.
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  rid:
                    type: string
                  success:
                    type: boolean
              examples:
                Success:
                  value:
                    rid: JZ8Y2dLfYhsg323Rf
                    success: true
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  error:
                    type: string
                  errorType:
                    type: string
              examples:
                roomId or roomName is required:
                  value:
                    success: false
                    error: 'The required "roomId" or "roomName" param provided does not match any group [error-room-not-found]'
                    errorType: error-room-not-found
        '401':
          $ref: '#/components/responses/authorizationError'
  /api/v1/rooms.nameExists:
    parameters: []
    get:
      summary: Check if Room Name Exists
      description: Check if the room name exists
      tags:
        - Rooms
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  exists:
                    type: boolean
                  success:
                    type: boolean
              examples:
                Success:
                  value:
                    exists: true
                    success: true
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  error:
                    type: string
                  errorType:
                    type: string
              examples:
                roomName is required:
                  value:
                    success: false
                    error: 'must have required property ''roomName'' [invalid-params]'
                    errorType: invalid-params
        '401':
          $ref: '#/components/responses/authorizationError'
      operationId: get-api-v1-rooms.nameExists
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
        - schema:
            type: string
          example: test-room
          in: query
          name: roomName
          description: Enter the room name that you want to check.
          required: true
  
  /api/v1/rooms.changeArchivationState:
    post:
      tags:
        - Rooms
      summary: Change Room Archive State
      description: |-
        Change archive state of a room.
        
        ### Changelog
        | Version | Description      |
        | ------- | ---------------- |
        | 3.3.0  | Added             |
      operationId: post-api-v1-rooms.autocomplete.channelAndPrivate
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                rid:
                  type: string
                  description: The room Id.
                action:
                  type: string
                  description: It can either be archive or otherwise unarchived.
              required:
                - rid
                - action
            examples:
              Example:
                value:
                  rid: iu7jtPAhvEeAS5tNq
                  action: archive
      responses:
        '200':
          $ref: '#/components/responses/trueSuccess'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  error:
                    type: string
                  errorType:
                    type: string
                  details:
                    type: object
                    properties:
                      method:
                        type: string
              examples:
                Invalid Room:
                  value:
                    success: false
                    error: 'Invalid room [error-invalid-room]'
                    errorType: error-invalid-room
                    details:
                      method: unarchiveRoom
        '401':
          $ref: '#/components/responses/authorizationError'

  /api/v1/rooms.export:
    post:
      tags:
        - Rooms
      summary: Export Room
      description: |
        Export room to a file or email. 

        Permission required: `mail-messages`

        ### Changelog

        | Version | Description                          |
        | ------- | ------------------------------------ |
        | 3.8.0   | Added                                |
      operationId: post-api-v1-rooms.export
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                rid:
                  type: string
                  description: The room Id.
                type:
                  type: string
                  description: |-
                    How you want the room to be exported. The type of export selected determines the remaining required parameters. It can be either `email` or `file`.
                dateFrom:
                  type: string
                  description: |-
                    Start date to begin fetching. Use `dateFrom` if  the type is `file`. By default, it selects the oldest possible date.
                dateTo:
                  type: string
                  description: |-
                    End date for fetching. By default it selects the current date. Use `dateTo` if  the `type` is  `file`.
                format:
                  type: string
                  description: |-
                    The file type to export as. It can either be `html` or `json`. Use `format` if  the `type` is  `file`.
                toUsers:
                  type: array
                  items:
                    type: string
                  description: |-
                   An array of users that should recieve the export. ecieve the export. It is required if `type` is `email`.
                toEmails:
                  type: array
                  items:
                    type: string
                  description: |-
                    An array of any additional emails that should recieve the export. It is required if `type` is `email`. 
                messages:
                  type: array
                  items:
                    type: string
                  description: |-
                    An array of  messageId for  the messages that should be exported. It is required if `type` is `email`.  
                subject:
                  type: string
                  description: |-
                    The subject of the email. It is required if `type` is `email`. 
              required:
                - rid
                - type
                - format
                - subject
                - messages
                - toEmails
                - toUsers
            examples:
              Example:
                value:
                  rid: iu7jtPAhvEeAS5tNq
                  type: file
                  dateFrom: '2000-01-01'
                  dateTo: '2021-11-25'
                  format: html
                  toUsers:
                    - test.user
                  toEmails:
                    - test@test.com
                  messages:
                    - yd6NBgNoiWATgDoFt
                    - BoCjicj9DdYoMHHeo
                    - tajMB3aX3sawFWe8W
                  subject: 'Test Subject '
                  
      responses:
        '200':
          $ref: '#/components/responses/trueSuccess'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  error:
                    type: string
                  errorType:
                    type: string
              examples:
                Invalid Room ID:
                  value:
                    success: false
                    error: '[error-invalid-room]'
                    errorType: error-invalid-room
                Invalid Format:
                  value:
                    success: false
                    error: '[error-invalid-format]'
                    errorType: error-invalid-format
                Invalid Params:
                  value:
                    success: false
                    error: '[error-invalid-params]'
                    errorType: error-invalid-params
        '401':
          $ref: '#/components/responses/authorizationError'
        '403':
          $ref: '#/components/responses/forbiddenError'

  /api/v1/rooms.muteUser:
    post:
      tags:
        - Rooms
      summary: Mute User in Room
      description: |
        Mute a particular user in a room.

        ### Changelog

        | Version | Description                          |
        | ------- | ------------------------------------ |
        | 6.8.0   | Added                                |
      operationId: post-api-v1-rooms.muteUser
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
                - userId
                - roomId
              properties:
                userId:
                  type: string
                  example: CkCPNfjfhiwWLqC
                  description: 'The user that you want to mute. Alternatively, use the `username` parameter and enter the username as the value.'
                roomId:
                  type: string
                  example: JZ8Y2dLfYhsg323Rf
                  description: The room ID.
      responses:
        '200':
          $ref: '#/components/responses/trueSuccess'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  error:
                    type: string
                  errorType:
                    type: string
              examples:
                Invalid User:
                  value:
                    success: false
                    error: 'The required "userId" or "username" param provided does not match any users [error-invalid-user]'
                    errorType: error-invalid-user
                Invalid Params:
                  value:
                    success: false
                    error: |-
                      must have required property 'userId'
                       must have required property 'username'
                       must match exactly one schema in oneOf [invalid-params]
                    errorType: invalid-params
        '401':
          $ref: '#/components/responses/authorizationError'
  
  /api/v1/rooms.unmuteUser:
    post:
      tags:
        - Rooms
      summary: Unmute User in Room
      description: |
        Unmute a particular user in a room.

        ### Changelog

        | Version | Description                          |
        | ------- | ------------------------------------ |
        | 6.8.0   | Added                                |
      operationId: post-api-v1-rooms.unmuteUser
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
                - userId
                - roomId
              properties:
                userId:
                  type: string
                  example: CkCPNfjfhiwWLqC
                  description: 'The user that you want to unmute. Alternatively, use the `username` parameter.'
                roomId:
                  type: string
                  example: JZ8Y2dLfYhsg323Rf
                  description: The room ID.
      responses:
        '200':
          $ref: '#/components/responses/trueSuccess'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  error:
                    type: string
                  errorType:
                    type: string
              examples:
                Invalid User:
                  value:
                    success: false
                    error: 'The required "userId" or "username" param provided does not match any users [error-invalid-user]'
                    errorType: error-invalid-user
                Example 2:
                  value:
                    success: false
                    error: |-
                      must have required property 'userId'
                       must have required property 'username'
                       must match exactly one schema in oneOf [invalid-params]
                    errorType: invalid-params
        '401':
          $ref: '#/components/responses/authorizationError'
  
  /api/v1/rooms.createDiscussion:
    post:
      tags:
        - Rooms
      summary: Create Discussion
      description: |-
        Creates a new discussion for the room. It requires at least one of the following permissions: `start-discussion` OR `start-discussion-other-user`, AND must be with the following setting enabled: `Discussion_enabled`.
        
        ### Changelog
        | Version | Description |
        | ------- | ----------- |
        | 1.0.0   | Added       |
      operationId: post-api-v1-rooms.createDiscussion
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                prid:
                  type: string
                  description: Parent room ID of the discussion.
                t_name:
                  type: string
                  description: Discussion name.
                users:
                  type: array
                  items:
                    type: string
                  description: 'Array of users to join in the discussion, if not provided, it will be an empty array. (Note: if provided, it must be an array).'
                pmid:
                  type: string
                  description: Parent message ID (if the discussion comes from a message).
                reply:
                  type: string
                  description: The reply of the discussion.
              required:
                - prid
                - t_name
            examples:
              Example:
                value:
                  prid: GENERAL
                  t_name: Discussion Name
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  discussion:
                    type: object
                    properties:
                      rid:
                        type: string
                      name:
                        type: string
                      fname:
                        type: string
                      t:
                        type: string
                      msgs:
                        type: integer
                      usersCount:
                        type: integer
                      u:
                        type: object
                        properties:
                          _id:
                            type: string
                          username:
                            type: string
                      topic:
                        type: string
                      prid:
                        type: string
                      ts:
                        type: string
                      ro:
                        type: boolean
                      sysMes:
                        type: boolean
                      default:
                        type: boolean
                      _updatedAt:
                        type: string
                      _id:
                        type: string
                  success:
                    type: boolean
              examples:
                Success:
                  value:
                    discussion:
                      rid: cgk88DHLHexwMaFWh
                      name: WJNEAM7W45wRYitHo
                      fname: Discussion Name
                      t: p
                      msgs: 0
                      usersCount: 0
                      u:
                        _id: rocketchat.internal.admin.test
                        username: rocketchat.internal.admin.test
                      topic: general
                      prid: GENERAL
                      ts: '2019-04-03T01:35:32.271Z'
                      ro: false
                      sysMes: true
                      default: false
                      _updatedAt: '2019-04-03T01:35:32.280Z'
                      _id: cgk88DHLHexwMaFWh
                    success: true
        '401':
          $ref: '#/components/responses/authorizationError'                    
  /api/v1/rooms.images:
    get:
      tags:
        - Rooms
      summary: Get Room Images
      description: Retrieves the images of a room that you are a member of.
      operationId: get-api-v1-rooms.images
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
        - name: roomId
          in: query
          description: The room ID.
          schema:
            type: string
            example: 6630e42b72f069422b1022c1
          example: 654c9d1ca2f73c7460e1918b
          required: true
        - schema:
            type: string
          example: 666fdecb4ac1a8e6404ededd
          in: query
          name: startingFromId
          description: Filter images using the file ID.
          allowEmptyValue: true
        - $ref: '#/components/parameters/offset'
        - $ref: '#/components/parameters/count'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  files:
                    type: array
                    items:
                      type: object
                      properties:
                        _id:
                          type: string
                        name:
                          type: string
                        size:
                          type: integer
                        type:
                          type: string
                        rid:
                          type: string
                        userId:
                          type: string
                        store:
                          type: string
                        _updatedAt:
                          type: string
                        identify:
                          type: object
                          properties:
                            format:
                              type: string
                            size:
                              type: object
                              properties:
                                width:
                                  type: integer
                                height:
                                  type: integer
                        complete:
                          type: boolean
                        etag:
                          type: string
                        path:
                          type: string
                        progress:
                          type: integer
                        token:
                          type: string
                        uploadedAt:
                          type: string
                        uploading:
                          type: boolean
                        url:
                          type: string
                        typeGroup:
                          type: string
                  count:
                    type: integer
                  offset:
                    type: integer
                  total:
                    type: integer
                  success:
                    type: boolean
              examples:
                Success:
                  value:
                    files:
                      - _id: 666fdecb4ac1a8e6404ededd
                        name: oauth-screen.png
                        size: 78441
                        type: image/png
                        rid: 6630e42b72f069422b1022c1
                        userId: yuT9xp9eEd6HqB3n8
                        store: 'GridFS:Uploads'
                        _updatedAt: '2024-06-17T06:59:23.608Z'
                        identify:
                          format: png
                          size:
                            width: 1580
                            height: 884
                        complete: true
                        etag: yvaG9cjz6YRRdMg4L
                        path: '/ufs/GridFS:Uploads/666fdecb4ac1a8e6404ededd/oauth-screen.png'
                        progress: 1
                        token: 1888eA0A0B
                        uploadedAt: '2024-06-17T06:59:23.602Z'
                        uploading: false
                        url: 'https://pro.writing-demo.dev.rocket.chat/ufs/GridFS:Uploads/666fdecb4ac1a8e6404ededd/oauth-screen.png'
                        typeGroup: image
                      - _id: 666fddea4ac1a8e6404eded7
                        name: 11.jpg
                        size: 83832
                        type: image/jpeg
                        rid: 6630e42b72f069422b1022c1
                        userId: yuT9xp9eEd6HqB3n8
                        store: 'GridFS:Uploads'
                        _updatedAt: '2024-06-17T06:55:38.044Z'
                        identify:
                          format: jpeg
                          size:
                            width: 839
                            height: 932
                        complete: true
                        etag: 3jZf7SJZFCPpf9JK8
                        path: '/ufs/GridFS:Uploads/666fddea4ac1a8e6404eded7/11.jpg'
                        progress: 1
                        token: 498bb849C8
                        uploadedAt: '2024-06-17T06:55:38.029Z'
                        uploading: false
                        url: 'https://pro.writing-demo.dev.rocket.chat/ufs/GridFS:Uploads/666fddea4ac1a8e6404eded7/11.jpg'
                        typeGroup: image
                    count: 50
                    offset: 0
                    total: 2
                    success: true
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  error:
                    type: string
                  errorType:
                    type: string
              examples:
                Invalid Params:
                  value:
                    success: false
                    error: 'must have required property ''roomId'' [invalid-params]'
                    errorType: invalid-params
        '401':
          $ref: '#/components/responses/authorizationError'

  /api/v1/teams.create:
    post:
      tags:
        - Teams
      summary: Create a New Team
      description: |-
        Creates a new team. 
        
        Permission required: `create-team permission`
      operationId: post-api-v1-teams.create
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  description: The team name.
                type:
                  type: integer
                  description: 'Privacy of the team (0 - Public, 1 - Private).'
                members:
                  type: array
                  description: The user ids to add to the team when it is created.
                  items:
                    type: string
                room:
                  type: object
                  properties:
                    readOnly:
                      type: boolean
                sidepanel:
                  type: object
                  description: List the team's channels or discussions to be displayed in the sidepanel.
                  properties:
                    items:
                      type: array
                      description: The options are `discussions` and `channels`.
                      items:
                        type: string
                        example: '["discussions", "channels"]'
                owner:
                  type: string
                  description: Set the owner of the team.
              required:
                - name
                - type
            examples:
              Example:
                value:
                  name: teamName
                  type: 0
                  members:
                    - 8dugqGhuRvCBLdZft
                  room:
                    readOnly: true
                  sidepanel:
                    items:
                      - discussions
                      - channels
      responses:
        '200':
          description: |-
            OK
            
            Note that the `roomId` is main room ID of the team.
          content:
            application/json:
              schema:
                type: object
                properties:
                  team:
                    type: object
                    properties:
                      _id:
                        type: string
                      name:
                        type: string
                      type:
                        type: integer
                      createdAt:
                        type: string
                      createdBy:
                        type: object
                        properties:
                          _id:
                            type: string
                          username:
                            type: string
                      _updatedAt:
                        type: string
                      roomId:
                        type: string
                  success:
                    type: boolean
              examples:
                Success:
                  value:
                    team:
                      _id: 651619e3a2f73c7460e18cc5
                      name: teamName
                      type: 0
                      createdAt: '2023-09-29T00:27:15.189Z'
                      createdBy:
                        _id: rbAXPnMktTFbNpwtJ
                        username: roxie
                      _updatedAt: '2023-09-29T00:27:15.189Z'
                      roomId: 651619e3a2f73c7460e18cc7
                    success: true
        '401':
          $ref: '#/components/responses/authorizationError'
  /api/v1/teams.listAll:
    get:
      tags:
        - Teams
      summary: Get List of All Teams
      description: |-
        Lists all the teams and their information.
        
        Permission required: `view-all-teams`
      operationId: get-api-v1-teams.listAll
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
        - $ref: '#/components/parameters/offset'
        - $ref: '#/components/parameters/count'
      responses:
        '200':
          description: |-
            OK
            Note that the `roomId` is main room ID of the team.
          content:
            application/json:
              schema:
                type: object
                properties:
                  teams:
                    type: array
                    items:
                      type: object
                      properties:
                        _id:
                          type: string
                        name:
                          type: string
                        type:
                          type: integer
                        createdAt:
                          type: string
                        createdBy:
                          type: object
                          properties:
                            _id:
                              type: string
                            username:
                              type: string
                        _updatedAt:
                          type: string
                        roomId:
                          type: string
                        rooms:
                          type: integer
                        numberOfUsers:
                          type: integer
                  total:
                    type: integer
                  count:
                    type: integer
                  offset:
                    type: integer
                  success:
                    type: boolean
              examples:
                Success:
                  value:
                    teams:
                      - _id: 63f3efc4b000b6b6d86704b2
                        name: test-audit
                        type: 0
                        createdAt: '2023-02-20T22:10:12.733Z'
                        createdBy:
                          _id: rbAXPnMktTFbNpwtJ
                          username: test.test
                        _updatedAt: '2023-02-20T22:10:12.843Z'
                        roomId: 6GFJ3tbmHiyHbahmC
                        rooms: 0
                        numberOfUsers: 2
                      - _id: 6435624052492a08c3a756fd
                        name: Test-team
                        type: 0
                        createdAt: '2023-04-11T13:36:00.496Z'
                        createdBy:
                          _id: rYhzFRd2QZjNwAAXX
                          username: rodriq
                        _updatedAt: '2023-04-11T13:36:00.855Z'
                        roomId: h5gPM3Wpip8nEFwbu
                        rooms: 0
                        numberOfUsers: 2
                      - _id: 65149c7ea2f73c7460e18cab
                        name: messages
                        type: 0
                        createdAt: '2023-09-27T21:19:58.972Z'
                        createdBy:
                          _id: rbAXPnMktTFbNpwtJ
                          username: roxie
                        _updatedAt: '2023-09-27T21:19:59.038Z'
                        roomId: 6513afeda2f73c7460e18c86
                        rooms: 0
                        numberOfUsers: 2
                    total: 3
                    count: 3
                    offset: 0
                    success: true
        '401':
          $ref: '#/components/responses/authorizationError'
  /api/v1/teams.list:
    get:
      tags:
        - Teams
      summary: Get List of Teams
      description: Lists the public and private teams the request sender is part of.
      operationId: get-api-v1-teams.list
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
        - $ref: '#/components/parameters/sort'
        - $ref: '#/components/parameters/offset'
        - $ref: '#/components/parameters/count'
        - $ref: '#/components/parameters/query'
      responses:
        '200':
          description: |-
            OK
            
            Note that the `roomId` is main room id of the team.
          content:
            application/json:
              schema:
                type: object
                properties:
                  teams:
                    type: array
                    items:
                      type: object
                      properties:
                        _id:
                          type: string
                        name:
                          type: string
                        type:
                          type: integer
                        createdAt:
                          type: string
                        createdBy:
                          type: object
                          properties:
                            _id:
                              type: string
                            username:
                              type: string
                        _updatedAt:
                          type: string
                        roomId:
                          type: string
                        rooms:
                          type: integer
                        numberOfUsers:
                          type: integer
                  total:
                    type: integer
                  count:
                    type: integer
                  offset:
                    type: integer
                  success:
                    type: boolean
              examples:
                Success:
                  value:
                    teams:
                      - _id: 63f3efc4b000b6b6d86704b2
                        name: test-audit
                        type: 0
                        createdAt: '2023-02-20T22:10:12.733Z'
                        createdBy:
                          _id: rbAXPnMktTFbNpwtJ
                          username: test.test
                        _updatedAt: '2023-02-20T22:10:12.843Z'
                        roomId: 6GFJ3tbmHiyHbahmC
                        rooms: 0
                        numberOfUsers: 2
                      - _id: 65149c7ea2f73c7460e18cab
                        name: messages
                        type: 0
                        createdAt: '2023-09-27T21:19:58.972Z'
                        createdBy:
                          _id: rbAXPnMktTFbNpwtJ
                          username: roxie
                        _updatedAt: '2023-09-27T21:19:59.038Z'
                        roomId: 6513afeda2f73c7460e18c86
                        rooms: 0
                        numberOfUsers: 2
                    total: 2
                    count: 2
                    offset: 0
                    success: true
        '401':
          $ref: '#/components/responses/authorizationError'
  /api/v1/teams.info:
    get:
      tags:
        - Teams
      summary: Get Team Info
      description: 'Gets a team''s information. If the team is not public, the request sender must be a member of the team.'
      operationId: get-api-v1-teams.info
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
        - $ref: '#/components/parameters/Optional-TeamId'
        - $ref: '#/components/parameters/Optional-TeamName'
      responses:
        '200':
          description: |-
            OK
            
            Note that the `roomId` is main room id of the team.
          content:
            application/json:
              schema:
                type: object
                properties:
                  teamInfo:
                    type: object
                    properties:
                      _id:
                        type: string
                      name:
                        type: string
                      type:
                        type: integer
                      createdAt:
                        type: string
                      createdBy:
                        type: object
                        properties:
                          _id:
                            type: string
                          username:
                            type: string
                      _updatedAt:
                        type: string
                      roomId:
                        type: string
                  success:
                    type: boolean
              examples:
                Success:
                  value:
                    teamInfo:
                      _id: 607e0d9b49d493189836bfac
                      name: Team1
                      type: 1
                      createdAt: '2021-04-19T23:09:15.106Z'
                      createdBy:
                        _id: FL2fZL4ERhwA3gWiS
                        username: some.username
                      _updatedAt: '2021-04-19T23:09:15.106Z'
                      roomId: Dgh2xwJ3NFKWvKSqY
                    success: true
        '401':
          $ref: '#/components/responses/authorizationError'
  /api/v1/teams.update:
    post:
      tags:
        - Teams
      summary: Update a Team
      description: |-
        Updates an existing team (name and type). 
        
        Permission required: `edit-team`
      operationId: post-api-v1-teams.update
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                teamId:
                  type: string
                  description: The team ID.
                data:
                  type: object
                  description: 'The new team name and type (0 - public, 1 - private).'
                  properties:
                    name:
                      type: string
                    type:
                      type: integer
              required:
                - teamId
                - data
            examples:
              Example:
                value:
                  teamId: ByehQjC44FwMeiLbX
                  data:
                    name: newTeamName
                    type: 1
      responses:
        '200':
          $ref: '#/components/responses/trueSuccess'
        '401':
          $ref: '#/components/responses/authorizationError'
  /api/v1/teams.addMembers:
    post:
      tags:
        - Teams
      summary: Add Members to the Team
      description: |-
        Add members to a team.
        
        Permissions required: `add-team-member` or `edit-team-member`
      operationId: post-api-v1-teams.addMembers
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                    teamId:
                      type: string
                      description: Enter the team ID. Alternatively, enter the `teamName` parameter and provide the team's name as the value.
                    members:
                      type: array
                      description: The users (IDs and roles) to add to the team.
                      items:
                        type: object
                        properties:
                          userId:
                            type: string
                          roles:
                            type: array
                            items:
                              type: string
              required:
                - teamId
                - members
            examples:
              Example:
                value:
                  teamId: 63f3efc4b000b6b6d86704b2
                  members:
                    - userId: rYhzFRd2QZjNwAAXX
                      roles:
                        - member
      responses:
        '200':
          $ref: '#/components/responses/trueSuccess'
        '401':
          $ref: '#/components/responses/authorizationError'
  /api/v1/teams.members:
    get:
      tags:
        - Teams
      summary: List Team Members
      description: List all members of a team.
      operationId: get-api-v1-teams.members
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
        - $ref: '#/components/parameters/Optional-TeamName'
        - $ref: '#/components/parameters/Optional-TeamId'
        - name: name
          in: query
          description: 'Search filter for the user''s name '
          schema:
            type: string
          example: test
        - name: username
          in: query
          description: 'Search filter for the user''s username '
          schema:
            type: string
          example: test.user
        - name: status
          in: query
          description: Search filter for the user's status
          schema:
            type: array
            items:
              type: string
          example: '["online", "away", "busy"]'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  members:
                    type: array
                    items:
                      type: object
                      properties:
                        user:
                          type: object
                          properties:
                            _id:
                              type: string
                            username:
                              type: string
                            name:
                              type: string
                            status:
                              type: string
                            settings:
                              type: object
                              properties:
                                preferences:
                                  type: object
                                  properties:
                                    themeAppearence:
                                      type: string
                                profile:
                                  type: object
                        roles:
                          type: array
                          items:
                            type: string
                        createdBy:
                          type: object
                          properties:
                            _id:
                              type: string
                            username:
                              type: string
                        createdAt:
                          type: string
                  total:
                    type: integer
                  count:
                    type: integer
                  offset:
                    type: integer
                  success:
                    type: boolean
              examples:
                Success:
                  value:
                    members:
                      - user:
                          _id: rbAXPnMktTFbNpwtJ
                          username: roxie
                          name: test test
                          status: offline
                          settings:
                            preferences:
                              themeAppearence: light
                            profile: {}
                        roles:
                          - owner
                        createdBy:
                          _id: rbAXPnMktTFbNpwtJ
                          username: test.test
                        createdAt: '2023-02-20T22:10:12.740Z'
                      - user:
                          _id: 5fRTXMt7DMJbpPJfh
                          username: test.test
                          name: Testtest
                          status: offline
                          settings:
                            profile: {}
                        createdBy:
                          _id: rbAXPnMktTFbNpwtJ
                          username: test.test
                        createdAt: '2023-07-11T00:23:01.346Z'
                    total: 2
                    count: 2
                    offset: 0
                    success: true
        '401':
          $ref: '#/components/responses/authorizationError'
  /api/v1/teams.updateMember:
    post:
      tags:
        - Teams
      summary: Update Team Member Info
      description: |-
        Updates a team member's roles. 

        Permission required: `edit-team-member`
      operationId: post-api-v1-teams.updateMembers
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                    teamId:
                      type: string
                      description: Enter the team ID. Alternatively, enter the `teamName` parameter and provide the team's name as the value.
                    members:
                      type: array
                      description: The users (IDs and roles) to add to the team.
                      items:
                        type: object
                        properties:
                          userId:
                            type: string
                          roles:
                            type: array
                            items:
                              type: string
              required:
                - teamId
                - members
            examples:
              Example:
                value:
                  teamId: 63f3efc4b000b6b6d86704b2
                  members:
                    - userId: rYhzFRd2QZjNwAAXX
                      roles:
                        - member
      responses:
        '200':
          $ref: '#/components/responses/trueSuccess'
        '401':
          $ref: '#/components/responses/authorizationError'
  /api/v1/teams.leave:
    post:
      tags:
        - Teams
      summary: Leave a Team
      description: Leave a team
      operationId: post-api-v1-teams.leave
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                    teamId:
                      type: string
                      description: Enter the team ID. Alternatively, enter the `teamName` parameter and provide the team's name as the value. 
                    rooms:
                      type: array
                      description: The team room IDs to remove the user from.
                      items:
                        type: string
              required:
                - teamId
                - rooms
            examples:
              Example:
                value:
                  teamName: team1
                  rooms:
                    - 8dugqGhuRvCBLdZft
      responses:
        '200':
          $ref: '#/components/responses/trueSuccess'
        '401':
          $ref: '#/components/responses/authorizationError'
  /api/v1/teams.removeMember:
    post:
      tags:
        - Teams
      summary: Remove Member from Team
      description: |-
        Removes a member from a team. 
        
        Permission required: `edit-team-member`
      operationId: post-api-v1-teams.removeMember
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
      requestBody:
        description: ''
        content:
          application/json:
            schema:
              type: object
              properties:
                    teamId:
                      type: string
                      description: Enter the team ID. Alternatively, enter the `teamName` parameter and provide the team's name as the value. 
                    userId:
                      type: string
                      description: The user ID to remove from the team.
                    rooms:
                      type: array
                      description: The rooms (IDs) from which the user should be removed.
                      items:
                        type: string
              required:
                - teamId
                - userId
            examples:
              Example:
                value:
                  teamId: 63f3efc4b000b6b6d86704b2
                  userId: rYhzFRd2QZjNwAAXX
                  rooms:
                    - JKa7R9zu2DinBhBN9
      responses:
        '200':
          $ref: '#/components/responses/trueSuccess'
        '401':
          $ref: '#/components/responses/authorizationError'
  /api/v1/teams.delete:
    post:
      tags:
        - Teams
      summary: Delete a Team
      description: |-
        Removes a team. 
        
        Permission required: `delete-team`
      operationId: post-api-v1-teams.delete
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                teamName:
                  type: string
                  description: Enter the team name. This parameter is required if `teamId` is not provided.
                teamId:
                  type: string
                  description: Enter the team ID. This parameter is required if `teamName` is not provided.
                roomsToRemove:
                  type: array
                  description: The room IDs to delete along with the team.
                  items:
                    type: string
                    example: "8dugqGhuRvCBLdZft"
            examples:
              Example:
                value:
                  teamId: mLGZGywfmLGZGywf
                  roomsToRemove:
                    - 8dugqGhuRvCBLdZft
      responses:
        '200':
          $ref: '#/components/responses/trueSuccess'
        '401':
          $ref: '#/components/responses/authorizationError'
  /api/v1/teams.autocomplete:
    get:
      tags:
        - Teams
      summary: Autocomplete Team
      description: List the teams whose names match a given pattern.
      operationId: get-api-v1-teams.autocomplete
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
        - name: name
          in: query
          description: The pattern (search filter for team names).
          required: true
          schema:
            type: string
          example: team
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  teams:
                    type: array
                    items:
                      type: object
                      properties:
                        _id:
                          type: string
                        name:
                          type: string
                        fname:
                          type: string
                        t:
                          type: string
                        teamId:
                          type: string
                  success:
                    type: boolean
              examples:
                Success:
                  value:
                    teams:
                      - _id: Dgh2xwJ3NFKWvKSqY
                        name: team1
                        fname: team1
                        t: p
                        teamId: 607e0d9b49d493189836bfac
                    success: true
        '401':
          $ref: '#/components/responses/authorizationError'
  /api/v1/teams.convertToChannel:
    post:
      tags:
        - Teams
      summary: Convert Team to Channel
      description: Convert a team to a channel.
      operationId: post-api-v1-teams.convertToChannel
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                teamId:
                  type: string
                  description: The team ID that you want to convert to a channel.
              required:
                - teamId
            examples:
              Example:
                value:
                  teamId: 612b8ae982d286c3d1f5db31
      responses:
        '200':
          $ref: '#/components/responses/trueSuccess'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  error:
                    type: string
              examples:
                Invalid Team Id:
                  value:
                    success: false
                    error: team-does-not-exist
                Team Id or Team name is required:
                  value:
                    success: false
                    error: missing-teamId-or-teamName
        '401':
          $ref: '#/components/responses/authorizationError'

  /api/v1/teams.addRooms:
    post:
      tags:
        - Teams
      summary: Add Rooms to a Team
      description: |- 
        Adds rooms to the team.
        
        Permission required: `add-team-channel`
      operationId: post-api-v1-teams.addRooms
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                    teamId:
                      type: string
                      description: Enter the team ID. Alternatively, enter the `teamName` parameter and provide the team's name as the value.
                    rooms:
                      type: array
                      description: The IDs of the rooms to be added to the team.
                      items:
                        type: string
              required:
                - teamId
                - rooms
            examples:
              Example:
                value:
                  teamId: 607e0d9b49d493189836bfac
                  rooms:
                    - 8Z7eRsibvD5AANfmK
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  rooms:
                    type: array
                    items:
                      type: object
                      properties:
                        _id:
                          type: string
                        fname:
                          type: string
                        customFields:
                          type: object
                        description:
                          type: string
                        broadcast:
                          type: boolean
                        encrypted:
                          type: boolean
                        federated:
                          type: boolean
                        name:
                          type: string
                        t:
                          type: string
                        msgs:
                          type: integer
                        usersCount:
                          type: integer
                        u:
                          type: object
                          properties:
                            _id:
                              type: string
                            username:
                              type: string
                        ts:
                          type: string
                        ro:
                          type: boolean
                        default:
                          type: boolean
                        sysMes:
                          type: boolean
                        _updatedAt:
                          type: string
                        lm:
                          type: string
                        lastMessage:
                          type: object
                          properties:
                            _id:
                              type: string
                            t:
                              type: string
                            msg:
                              type: string
                            groupable:
                              type: boolean
                            blocks:
                              type: array
                              items:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  blockId:
                                    type: string
                                  callId:
                                    type: string
                                  appId:
                                    type: string
                            ts:
                              type: string
                            u:
                              type: object
                              properties:
                                _id:
                                  type: string
                                username:
                                  type: string
                                name:
                                  type: string
                            rid:
                              type: string
                            _updatedAt:
                              type: string
                            urls:
                              type: array
                              items:
                                type: object
                            mentions:
                              type: array
                              items:
                                type: object
                            channels:
                              type: array
                              items:
                                type: object
                        teamId:
                          type: string
                  success:
                    type: boolean
              examples:
                Success:
                  value:
                    rooms:
                      - _id: JKa7R9zu2DinBhBN9
                        fname: Livestream
                        customFields: {}
                        description: ''
                        broadcast: false
                        encrypted: false
                        federated: false
                        name: Livestream
                        t: c
                        msgs: 15
                        usersCount: 3
                        u:
                          _id: rbAXPnMktTFbNpwtJ
                          username: roxie
                        ts: '2023-02-22T17:15:26.989Z'
                        ro: false
                        default: false
                        sysMes: true
                        _updatedAt: '2023-09-26T01:05:39.641Z'
                        lm: '2023-09-14T12:06:00.594Z'
                        lastMessage:
                          _id: rtf5JoPLQup3X7Aof
                          t: videoconf
                          msg: ''
                          groupable: false
                          blocks:
                            - type: video_conf
                              blockId: 6502f728a2f73c7460df6f71
                              callId: 6502f728a2f73c7460df6f71
                              appId: videoconf-core
                          ts: '2023-09-14T12:06:00.594Z'
                          u:
                            _id: rbAXPnMktTFbNpwtJ
                            username: test.test
                            name: test test
                          rid: JKa7R9zu2DinBhBN9
                          _updatedAt: '2023-09-14T12:06:00.685Z'
                          urls: []
                          mentions: []
                          channels: []
                        teamId: 63f3efc4b000b6b6d86704b2
                    success: true
        '401':
          $ref: '#/components/responses/authorizationError'
  /api/v1/teams.removeRoom:
    post:
      tags:
        - Teams
      summary: Remove room from the Team
      description: |-
        Removes a room from a team. 

        Permission required: `remove-team-channel`
      operationId: post-api-v1-teams.removeRoom
      parameters:
        - $ref: '#/components/parameters/UserId'
        - $ref: '#/components/parameters/Auth-Token'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                teamName:
                  type: string
                  description: Enter the team name. This parameter is required if `teamId` is not provided.
                  example: team01
                teamId:
                  type: string
                  description: Enter the team ID. This parameter is required if `teamName` is not provided.
                  example: d8eiFT9fIwfs
                roomId:
                  type: string
                  description: The room ID to be removed from the team.
                  example: 8dugqGhuRvCBLdZft
            examples:
              Example:
                value:
                  teamId: 63f3efc4b000b6b6d86704b2
                  roomId: JKa7R9zu2DinBhBN9
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  room:
                    type: object
                    properties:
                      _id:
                        type: string
                      fname:
                        type: string
                      customFields:
                        type: object
                      description:
                        type: string
                      broadcast:
                        type: boolean
                      encrypted:
                        type: boolean
                      federated:
                        type: boolean
                      name:
                        type: string
                      t:
                        type: string
                      msgs:
                        type: integer
                      usersCount:
                        type: integer
                      u:
                        type: object
                        properties:
                          _id:
                            type: string
                          username:
                            type: string
                      ts:
                        type: string
                      ro:
                        type: boolean
                      default:
                        type: boolean
                      sysMes:
                        type: boolean
                      _updatedAt:
                        type: string
                      lm:
                        type: string
                      lastMessage:
                        type: object
                        properties:
                          _id:
                            type: string
                          t:
                            type: string
                          msg:
                            type: string
                          groupable:
                            type: boolean
                          blocks:
                            type: array
                            items:
                              type: object
                              properties:
                                type:
                                  type: string
                                blockId:
                                  type: string
                                callId:
                                  type: string
                                appId:
                                  type: string
                          ts:
                            type: string
                          u:
                            type: object
                            properties:
                              _id:
                                type: string
                              username:
                                type: string
                              name:
                                type: string
                          rid:
                            type: string
                          _updatedAt:
                            type: string
                          urls:
                            type: array
                            items:
                              type: object
                          mentions:
                            type: array
                            items:
                              type: object
                          channels:
                            type: array
                            items:
                              type: object
                  success:
                    type: boolean
              examples:
                Success:
                  value:
                    room:
                      _id: JKa7R9zu2DinBhBN9
                      fname: Livestream
                      customFields: {}
                      description: ''
                      broadcast: false
                      encrypted: false
                      federated: false
                      name: Livestream
                      t: c
                      msgs: 15
                      usersCount: 3
                      u:
                        _id: rbAXPnMktTFbNpwtJ
                        username: roxie
                      ts: '2023-02-22T17:15:26.989Z'
                      ro: false
                      default: false
                      sysMes: true
                      _updatedAt: '2023-09-29T05:51:47.779Z'
                      lm: '2023-09-14T12:06:00.594Z'
                      lastMessage:
                        _id: rtf5JoPLQup3X7Aof
                        t: videoconf
                        msg: ''
                        groupable: false
                        blocks:
                          - type: video_conf
                            blockId: 6502f728a2f73c7460df6f71
                            callId: 6502f728a2f73c7460df6f71
                            appId: videoconf-core
                        ts: '2023-09-14T12:06:00.594Z'
                        u:
                          _id: rbAXPnMktTFbNpwtJ
                          username: test.test
                          name: test test
                        rid: JKa7R9zu2DinBhBN9
                        _updatedAt: '2023-09-14T12:06:00.685Z'
                        urls: []
                        mentions: []
                        channels: []
                    success: true
        '401':
          $ref: '#/components/responses/authorizationError'
  /api/v1/teams.updateRoom:
    post:
      tags:
        - Teams
      summary: Update Room in a Team
      description: |-
        Updates a room from a team. 
        
        Permission required: `edit-team-channel`
      operationId: post-api-v1-teams.updateRoom
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                roomId:
                  type: string
                  description: The room id.
                isDefault:
                  type: boolean
                  description: Sets the room as Auto-join (true) or not (false).
              required:
                - roomId
                - isDefault
            examples:
              Example:
                value:
                  roomId: JKa7R9zu2DinBhBN9
                  isDefault: true
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  room:
                    type: object
                    properties:
                      _id:
                        type: string
                      fname:
                        type: string
                      customFields:
                        type: object
                      description:
                        type: string
                      broadcast:
                        type: boolean
                      encrypted:
                        type: boolean
                      federated:
                        type: boolean
                      name:
                        type: string
                      t:
                        type: string
                      msgs:
                        type: integer
                      usersCount:
                        type: integer
                      u:
                        type: object
                        properties:
                          _id:
                            type: string
                          username:
                            type: string
                      ts:
                        type: string
                      ro:
                        type: boolean
                      default:
                        type: boolean
                      sysMes:
                        type: boolean
                      _updatedAt:
                        type: string
                      lm:
                        type: string
                      lastMessage:
                        type: object
                        properties:
                          _id:
                            type: string
                          t:
                            type: string
                          msg:
                            type: string
                          groupable:
                            type: boolean
                          blocks:
                            type: array
                            items:
                              type: object
                              properties:
                                type:
                                  type: string
                                blockId:
                                  type: string
                                callId:
                                  type: string
                                appId:
                                  type: string
                          ts:
                            type: string
                          u:
                            type: object
                            properties:
                              _id:
                                type: string
                              username:
                                type: string
                              name:
                                type: string
                          rid:
                            type: string
                          _updatedAt:
                            type: string
                          urls:
                            type: array
                            items:
                              type: object
                          mentions:
                            type: array
                            items:
                              type: object
                          channels:
                            type: array
                            items:
                              type: object
                      teamId:
                        type: string
                      teamDefault:
                        type: boolean
                  success:
                    type: boolean
              examples:
                Success:
                  value:
                    room:
                      _id: JKa7R9zu2DinBhBN9
                      fname: Livestream
                      customFields: {}
                      description: ''
                      broadcast: false
                      encrypted: false
                      federated: false
                      name: Livestream
                      t: c
                      msgs: 16
                      usersCount: 4
                      u:
                        _id: rbAXPnMktTFbNpwtJ
                        username: roxie
                      ts: '2023-02-22T17:15:26.989Z'
                      ro: false
                      default: false
                      sysMes: true
                      _updatedAt: '2023-09-29T06:00:18.859Z'
                      lm: '2023-09-14T12:06:00.594Z'
                      lastMessage:
                        _id: rtf5JoPLQup3X7Aof
                        t: videoconf
                        msg: ''
                        groupable: false
                        blocks:
                          - type: video_conf
                            blockId: 6502f728a2f73c7460df6f71
                            callId: 6502f728a2f73c7460df6f71
                            appId: videoconf-core
                        ts: '2023-09-14T12:06:00.594Z'
                        u:
                          _id: rbAXPnMktTFbNpwtJ
                          username: test.test
                          name: test test
                        rid: JKa7R9zu2DinBhBN9
                        _updatedAt: '2023-09-14T12:06:00.685Z'
                        urls: []
                        mentions: []
                        channels: []
                      teamId: 63f3efc4b000b6b6d86704b2
                      teamDefault: true
                    success: true
        '401':
          $ref: '#/components/responses/authorizationError'
  /api/v1/teams.listRooms:
    get:
      tags:
        - Teams
      summary: List Rooms of a Team
      description: List all rooms in a team.
      operationId: get-api-v1-teams.listRooms
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
        - $ref: '#/components/parameters/Optional-TeamId'
        - $ref: '#/components/parameters/Optional-TeamName'
        - name: type
          in: query
          description: The room's type (search filter).
          schema:
            type: string
          example: autoJoin
        - $ref: '#/components/parameters/count'
        - $ref: '#/components/parameters/offset'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  rooms:
                    type: array
                    items:
                      type: object
                      properties:
                        _id:
                          type: string
                        fname:
                          type: string
                        customFields:
                          type: object
                        description:
                          type: string
                        broadcast:
                          type: boolean
                        encrypted:
                          type: boolean
                        federated:
                          type: boolean
                        name:
                          type: string
                        t:
                          type: string
                        msgs:
                          type: integer
                        usersCount:
                          type: integer
                        u:
                          type: object
                          properties:
                            _id:
                              type: string
                            username:
                              type: string
                        ts:
                          type: string
                        ro:
                          type: boolean
                        default:
                          type: boolean
                        sysMes:
                          type: boolean
                        _updatedAt:
                          type: string
                        lm:
                          type: string
                        lastMessage:
                          type: object
                          properties:
                            _id:
                              type: string
                            t:
                              type: string
                            msg:
                              type: string
                            groupable:
                              type: boolean
                            blocks:
                              type: array
                              items:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  blockId:
                                    type: string
                                  callId:
                                    type: string
                                  appId:
                                    type: string
                            ts:
                              type: string
                            u:
                              type: object
                              properties:
                                _id:
                                  type: string
                                username:
                                  type: string
                                name:
                                  type: string
                            rid:
                              type: string
                            _updatedAt:
                              type: string
                            urls:
                              type: array
                              items:
                                type: object
                            mentions:
                              type: array
                              items:
                                type: object
                            channels:
                              type: array
                              items:
                                type: object
                        teamId:
                          type: string
                        teamDefault:
                          type: boolean
                  total:
                    type: integer
                  count:
                    type: integer
                  offset:
                    type: integer
                  success:
                    type: boolean
              examples:
                Success:
                  value:
                    rooms:
                      - _id: JKa7R9zu2DinBhBN9
                        fname: Livestream
                        customFields: {}
                        description: ''
                        broadcast: false
                        encrypted: false
                        federated: false
                        name: Livestream
                        t: c
                        msgs: 16
                        usersCount: 4
                        u:
                          _id: rbAXPnMktTFbNpwtJ
                          username: roxie
                        ts: '2023-02-22T17:15:26.989Z'
                        ro: false
                        default: false
                        sysMes: true
                        _updatedAt: '2023-09-29T06:02:30.250Z'
                        lm: '2023-09-14T12:06:00.594Z'
                        lastMessage:
                          _id: rtf5JoPLQup3X7Aof
                          t: videoconf
                          msg: ''
                          groupable: false
                          blocks:
                            - type: video_conf
                              blockId: 6502f728a2f73c7460df6f71
                              callId: 6502f728a2f73c7460df6f71
                              appId: videoconf-core
                          ts: '2023-09-14T12:06:00.594Z'
                          u:
                            _id: rbAXPnMktTFbNpwtJ
                            username: test.test
                            name: test test
                          rid: JKa7R9zu2DinBhBN9
                          _updatedAt: '2023-09-14T12:06:00.685Z'
                          urls: []
                          mentions: []
                          channels: []
                        teamId: 63f3efc4b000b6b6d86704b2
                        teamDefault: true
                    total: 1
                    count: 1
                    offset: 0
                    success: true
        '401':
          $ref: '#/components/responses/authorizationError'
  /api/v1/teams.listRoomsOfUser:
    get:
      tags:
        - Teams
      summary: List User Rooms of a Team
      description: |-
        Lists only the team's rooms the user has joined.
        
        Permission required: `view-all-team-channels`
      operationId: get-api-v1-teams.listRoomsOfUser
      parameters:
        - $ref: '#/components/parameters/UserId'
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/Optional-TeamName'
        - $ref: '#/components/parameters/Optional-TeamId'
        - name: userId
          in: query
          description: The user id.
          required: true
          schema:
            type: string
          example: rbAXrutTFbNprfn
        - $ref: '#/components/parameters/offset'
        - $ref: '#/components/parameters/count'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  rooms:
                    type: array
                    items:
                      type: object
                      properties:
                        _id:
                          type: string
                        fname:
                          type: string
                        customFields:
                          type: object
                        description:
                          type: string
                        broadcast:
                          type: boolean
                        encrypted:
                          type: boolean
                        federated:
                          type: boolean
                        name:
                          type: string
                        t:
                          type: string
                        msgs:
                          type: integer
                        usersCount:
                          type: integer
                        u:
                          type: object
                          properties:
                            _id:
                              type: string
                            username:
                              type: string
                        ts:
                          type: string
                        ro:
                          type: boolean
                        default:
                          type: boolean
                        sysMes:
                          type: boolean
                        _updatedAt:
                          type: string
                        lm:
                          type: string
                        lastMessage:
                          type: object
                          properties:
                            _id:
                              type: string
                            t:
                              type: string
                            msg:
                              type: string
                            groupable:
                              type: boolean
                            blocks:
                              type: array
                              items:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  blockId:
                                    type: string
                                  callId:
                                    type: string
                                  appId:
                                    type: string
                            ts:
                              type: string
                            u:
                              type: object
                              properties:
                                _id:
                                  type: string
                                username:
                                  type: string
                                name:
                                  type: string
                            rid:
                              type: string
                            _updatedAt:
                              type: string
                            urls:
                              type: array
                              items:
                                type: object
                            mentions:
                              type: array
                              items:
                                type: object
                            channels:
                              type: array
                              items:
                                type: object
                        teamId:
                          type: string
                        teamDefault:
                          type: boolean
                        isLastOwner:
                          type: boolean
                  total:
                    type: integer
                  count:
                    type: integer
                  offset:
                    type: integer
                  success:
                    type: boolean
              examples:
                Success:
                  value:
                    rooms:
                      - _id: JKa7R9zu2DinBhBN9
                        fname: Livestream
                        customFields: {}
                        description: ''
                        broadcast: false
                        encrypted: false
                        federated: false
                        name: Livestream
                        t: c
                        msgs: 16
                        usersCount: 4
                        u:
                          _id: rbAXPnMktTFbNpwtJ
                          username: roxie
                        ts: '2023-02-22T17:15:26.989Z'
                        ro: false
                        default: false
                        sysMes: true
                        _updatedAt: '2023-09-29T06:02:30.250Z'
                        lm: '2023-09-14T12:06:00.594Z'
                        lastMessage:
                          _id: rtf5JoPLQup3X7Aof
                          t: videoconf
                          msg: ''
                          groupable: false
                          blocks:
                            - type: video_conf
                              blockId: 6502f728a2f73c7460df6f71
                              callId: 6502f728a2f73c7460df6f71
                              appId: videoconf-core
                          ts: '2023-09-14T12:06:00.594Z'
                          u:
                            _id: rbAXPnMktTFbNpwtJ
                            username: test.test
                            name: test test
                          rid: JKa7R9zu2DinBhBN9
                          _updatedAt: '2023-09-14T12:06:00.685Z'
                          urls: []
                          mentions: []
                          channels: []
                        teamId: 63f3efc4b000b6b6d86704b2
                        teamDefault: true
                        isLastOwner: true
                    total: 1
                    count: 1
                    offset: 0
                    success: true
        '401':
          $ref: '#/components/responses/authorizationError'
  /api/v1/groups.online:
    get:
      tags:
        - Groups
      summary: Get Group Online Users
      description: |-
        Lists all online users of a group if the group's id is provided, otherwise it gets all online users of all groups.
        ### Changelog
        | Version | Description |
        | ------- | ----------- |
        | 0.52.0  | Added       |
      operationId: get-api-v1-groups.online
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
        - $ref: '#/components/parameters/query'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  online:
                    type: array
                    items:
                      type: object
                      properties:
                        _id:
                          type: string
                        username:
                          type: string
                  success:
                    type: boolean
              examples:
                Success:
                  value:
                    online:
                      - _id: 47cRd58HnWwpqxhaZ
                        username: test
                      - _id: BsxzC22xQ43taWdff
                        username: uniqueusername
                    success: true

        '401':
          $ref: '#/components/responses/authorizationError'
  /api/v1/groups.getIntegrations:
    get:
      tags:
        - Groups
      summary: Get Group Integrations
      description: |-
        Retrieves the integrations that the group/channel has. At least one of the following integration permissions is required:
        * `manage-incoming-integrations`
        * `manage-own-incoming-integrations`
        * `manage-outgoing-integrations`
        * `manage-own-outgoing-integrations`
        
        It will return the integrations based on the user's permission. 
        ### Changelog
        | Version | Description |
        | ------- | ----------- |
        | 1.1.0  | Separate permissions in incoming and outgoing. |
        | 0.49.0 | Added                                          |
      operationId: get-api-v1-groups.getIntegrations
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
        - $ref: '#/components/parameters/RoomId'
        - $ref: '#/components/parameters/offset'
        - $ref: '#/components/parameters/count'
        - $ref: '#/components/parameters/sort'
        - $ref: '#/components/parameters/query'
        - $ref: '#/components/parameters/fields'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  integrations:
                    type: array
                    items:
                      type: object
                      properties:
                        _id:
                          type: string
                        enabled:
                          type: boolean
                        username:
                          type: string
                        alias:
                          type: string
                        avatar:
                          type: string
                        name:
                          type: string
                        triggerWords:
                          type: array
                          items:
                            type: string
                        urls:
                          type: array
                          items:
                            type: string
                        token:
                          type: string
                        script:
                          type: string
                        scriptEnabled:
                          type: boolean
                        impersonateUser:
                          type: boolean
                        scriptCompiled:
                          type: string
                        scriptError:
                          type: string
                        type:
                          type: string
                        userId:
                          type: string
                        channel:
                          type: array
                          items:
                            type: string
                        _createdAt:
                          type: string
                        _createdBy:
                          type: object
                          properties:
                            username:
                              type: string
                            _id:
                              type: string
                        _updatedAt:
                          type: string
                  success:
                    type: boolean
              examples:
                Success:
                  value:
                    integrations:
                      - _id: WMQDChpnYTRmFre9h
                        enabled: true
                        username: rocket.cat
                        alias: Guggy
                        avatar: 'http://res.guggy.com/logo_128.png'
                        name: Guggy
                        triggerWords:
                          - '!guggy'
                          - guggy
                          - gif+
                        urls:
                          - 'http://text2gif.guggy.com/guggify'
                        token: 8DFS89DMKLWEN
                        script: |-
                          const config = {
                              color: '#ffffff'
                          };

                          class Script {
                              prepare_outgoing_request({ request }) {
                                  const trigger = request.data.trigger_word + ' ';
                                  const phrase = request.data.text.replace(trigger, '');
                                  request.headers['Content-Type']='application/json';
                                  request.headers['apiKey']=request.data.token;
                                  return {
                                      url: request.url,
                                      headers: request.headers,
                                      data: {format: 'gif', sentence: phrase},
                                      method: 'POST'
                                  };
                              }

                              process_outgoing_response({ request, response }) {
                                  if(response.content.gif) {
                                      return {
                                          content: {
                                              attachments: [
                                                  {
                                                      image_url: response.content.gif,
                                                      color: ((config['color'] != '') ? '#' + config['color'].replace('#', '') : '#ffffff')
                                                  }
                                              ]
                                          }
                                      };
                                  } else {
                                      return {
                                          content: {
                                              text: 'Sorry I don\'t have a photo for you :disappointed_relieved:'
                                          }
                                      };
                                  }
                              }
                          }
                        scriptEnabled: true
                        impersonateUser: false
                        scriptCompiled: 'function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(''Cannot call a class as a function'')}}var config={color:''#ffffff''};var Script=function(){function Script(){_classCallCheck(this,Script)}Script.prototype.prepare_outgoing_request=function prepare_outgoing_request(_ref){var request=_ref.request;var trigger=request.data.trigger_word+'' '';var phrase=request.data.text.replace(trigger,'''');request.headers[''Content-Type'']=''application/json'';request.headers[''apiKey'']=request.data.token;return{url:request.url,headers:request.headers,data:{format:''gif'',sentence:phrase},method:''POST''}};Script.prototype.process_outgoing_response=function process_outgoing_response(_ref2){var request=_ref2.request;var response=_ref2.response;if(response.content.gif){return{content:{attachments:[{image_url:response.content.gif,color:config[''color'']!=''''?''#''+config[''color''].replace(''#'',''''):''#ffffff''}]}}}else{return{content:{text:''Sorry I don\''t have a photo for you :disappointed_relieved:''}}}};return Script}();'
                        scriptError: ""
                        type: webhook-outgoing
                        userId: rocket.cat
                        channel:
                          - '#private-group-name'
                        _createdAt: '2017-01-05T17:06:05.660Z'
                        _createdBy:
                          username: graywolf336
                          _id: R4jgcQaQhvvK6K3iY
                        _updatedAt: '2017-01-05T17:06:05.660Z'
                    success: true

        '401':
          $ref: '#/components/responses/authorizationError'
  /api/v1/groups.addAll:
    post:
      tags:
        - Groups
      summary: Add All Users to Group
      description: |-
        Adds all of the users of the Rocket.Chat workspace to the group/channel.
        
        ### Changelog
        | Version | Description |
        | ------- | ----------- |
        | 0.55.0  | Added       |
      operationId: post-api-v1-groups.addAll
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                roomId:
                  type: string
                  description: The group id
                activeUsersOnly:
                  type: string
                  description: Adds all of the users of the Rocket.Chat workspace to the group/channel.
              required:
                - roomId
            examples:
              Example:
                value:
                  roomId: ByehQjC44FwMeiLbX
                  activeUsersOnly: 'true'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  channel:
                    type: object
                    properties:
                      _id:
                        type: string
                      name:
                        type: string
                      t:
                        type: string
                      usernames:
                        type: array
                        items:
                          type: string
                      msgs:
                        type: integer
                      u:
                        type: object
                        properties:
                          _id:
                            type: string
                          username:
                            type: string
                      ts:
                        type: string
                  success:
                    type: boolean
              examples:
                Success:
                  value:
                    channel:
                      _id: ByehQjC44FwMeiLbX
                      name: groupname
                      t: p
                      usernames:
                        - example
                        - rocket.cat
                      msgs: 0
                      u:
                        _id: aobEdbYhXfu5hkeqG
                        username: example
                      ts: '2016-05-30T13:42:25.304Z'
                    success: true
        '401':
          $ref: '#/components/responses/authorizationError'
  /api/v1/groups.addLeader:
    post:
      tags:
        - Groups
      summary: Add Group Leader
      description: |-
        Assign the `leader` role to a user in a group. 
        
        Permission required:  `set-leader` 
        
        ### Changelog
        | Version | Description |
        | ------- | ----------- |
        | 0.58.0  | Added.      |
      operationId: post-api-v1-groups.addLeader
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                roomId:
                  type: string
                  description: The groups's id
                userId:
                  type: string
                  description: The user's id
              required:
                - roomId
                - userId
            examples:
              Example:
                value:
                  roomId: ByehQjC44FwMeiLbX
                  userId: oCHkav5Zf6vmpu2W2
      responses:
        '200':
          $ref: '#/components/responses/trueSuccess'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  error:
                    type: string
                  errorType:
                    type: string
              examples:
                User is already a leader:
                  value:
                    success: false
                    error: 'User is already a leader [error-user-already-leader]'
                    errorType: error-user-already-leader
        '401':
          $ref: '#/components/responses/authorizationError'
  /api/v1/groups.addModerator:
    post:
      tags:
        - Groups
      summary: Add Group Moderator
      description: |-
        Assign the `moderator` role to a user in a group.
        
        Permission required: `set-moderator`
        
        ### Changelog
        | Version | Description |
        | ------- | ----------- |
        | 0.49.4  | Added.      |
      operationId: post-api-v1-groups.addModerator
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                roomId:
                  type: string
                  description: The groups's id
                userId:
                  type: string
                  description: The user's id
              required:
                - roomId
                - userId
            examples:
              Example:
                value:
                  roomId: ByehQjC44FwMeiLbX
                  userId: nSYqWzZ4GsKTX4dyK
      responses:
        '200':
          $ref: '#/components/responses/trueSuccess'
        '401':
          $ref: '#/components/responses/authorizationError'
  /api/v1/groups.addOwner:
    post:
      tags:
        - Groups
      summary: Add Group Owner
      description: |-
        Assign `owner` role for a user in the current group.
        ### Changelog
        | Version | Description |
        | ------- | ----------- |
        | 0.49.4  | Added.      |
      operationId: post-api-v1-groups.addOwner
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                roomId:
                  type: string
                userId:
                  type: string
              required:
                - roomId
                - userId
            examples:
              Example:
                value:
                  roomId: ByehQjC44FwMeiLbX
                  userId: nSYqWzZ4GsKTX4dyK
      responses:
        '200':
          $ref: '#/components/responses/trueSuccess'
        '401':
          $ref: '#/components/responses/authorizationError'
  /api/v1/groups.archive:
    post:
      tags:
        - Groups
      summary: Archive a Group
      description: |-
        Archive a group you belong to.
        
        ### Changelog
        | Version | Description |
        | ------- | ----------- |
        | 0.48.0  | Added       |
      operationId: post-api-v1-groups.archive
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
      requestBody:
        description: ''
        content:
          application/json:
            schema:
              type: object
              properties:
                roomId:
                  type: string
                  example: ByehQjC44FwMeiLbX
                  description: The group ID that you want to archive.
      responses:
        '200':
          $ref: '#/components/responses/trueSuccess'
        '401':
          $ref: '#/components/responses/authorizationError'
  /api/v1/groups.close:
    post:
      tags:
        - Groups
      summary: Close Group
      description: |-
        Removes the group/channel from the user's list of groups, only if you're part of the group.
        
        ### Changelog
        | Version | Description |
        | ------- | ----------- |
        | 0.48.0  | Added       |
      operationId: post-api-v1-groups.close
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
      requestBody:
        description: ''
        content:
          application/json:
            schema:
              type: object
              properties:
                roomId:
                  type: string
                  example: ByehQjC44FwMeiLbX
                  description: The group ID that you want to close.
      responses:
        '200':
          $ref: '#/components/responses/trueSuccess'
        '401':
          $ref: '#/components/responses/authorizationError'
  /api/v1/groups.counters:
    get:
      tags:
        - Groups
      summary: Get Group Counters
      description: |-
        Get group counters for the authenticated user. 
        
        Permission required: `view-room-administration`
        
        ### Changelog
        | Version | Description |
        | ------- | ----------- |
        | 0.65.0  | Added       |
      operationId: get-api-v1-groups.counters
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
        - $ref: '#/components/parameters/Optional-RoomId'
        - $ref: '#/components/parameters/Optional-RoomName'
        - name: userId
          in: query
          description: Counters for provided user ID (need to have a view-room-administration right for calling user).
          schema:
            type: string
      responses:
        '200':
          description: |-
            OK
            
            **Note:**
            - joined - boolean flag that shows that user is joined the room or not
            - members - count of current room members
            - unreads - count of unread messages for specified user (calling user or provided userId)
            - unreadsFrom - start date-time of unread interval for specified user
            - msgs - count of messages in the room
            - latest - end date-time of unread interval for specified user (or date-time of last posted message)
            - userMentions - count of user mentions in messages"
          content:
            application/json:
              schema:
                type: object
                properties:
                  joined:
                    type: boolean
                  members:
                    type: integer
                  unreads:
                    type: integer
                  unreadsFrom:
                    type: string
                  msgs:
                    type: integer
                  latest:
                    type: string
                  userMentions:
                    type: integer
                  success:
                    type: boolean
              examples:
                Success:
                  value:
                    joined: true
                    members: 1
                    unreads: 1
                    unreadsFrom: '2018-02-18T21:51:20.091Z'
                    msgs: 1
                    latest: '2018-02-23T17:20:17.345Z'
                    userMentions: 0
                    success: true

  /api/v1/groups.create:
    post:
      tags:
        - Groups
      summary: Create Group
      description: |-
        Creates a new group/channel, optionally including specified users. The group creator is always included.
        
        ### Changelog
        | Version | Description               |
        | ------- | ------------------------- |
        | 6.4.1   | Added `excludeSelf` param |
        | 0.35.0  | Added                     |
      operationId: post-api-v1-groups.create
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                readOnly:
                  type: boolean
                  description: Set if the group is read only or not. The default value is false.
                members:
                  type: array
                  description: The users to add to the group when it is created.
                  items:
                    type: string
                excludeSelf:
                  type: boolean
                  description: If set to true the user calling the endpoint is not automatically added as a member of the group. The default value is false.
                name:
                  type: string
                  description: The name of the new private group.
                customFields:
                  type: object
                  description: 'If you have defined custom fields for your workspace, you can provide them in this object parameter.'
                extraData:
                  type: object
                  description: |-
                    Enter the following details for the object:
                    - `broadcast`: Whether the group should be a broadcast group
                    - `encrypted`: Whether the group should be encrypted. 
                    - `teamId`: Enter the team ID for which you want to create a group.
                    
                    For more information, see <a href="https://docs.rocket.chat/use-rocket.chat/user-guides/rooms/channels#channel-privacy-and-encryption" target="_blank">Channels</a>.
              required:
                - name
            examples:
              Example:
                value:
                  name: groupname
                  members:
                    - rocket.cat
                  readOnly: true
                  excludeSelf: true
                  customFields:
                    type: default
                  extraData:
                    broadcast: true
                    encrypted: false
                    teamId: 658441562dd9f928ad9951aa
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  group:
                    type: object
                    properties:
                      _id:
                        type: string
                      name:
                        type: string
                      t:
                        type: string
                      msgs:
                        type: integer
                      u:
                        type: object
                        properties:
                          _id:
                            type: string
                          username:
                            type: string
                      ts:
                        type: string
                      ro:
                        type: boolean
                      sysMes:
                        type: boolean
                      _updatedAt:
                        type: string
                  success:
                    type: boolean
              examples:
                Success:
                  value:
                    group:
                      _id: NtR6RQ7NvzA9ejecX
                      name: testing
                      t: p
                      msgs: 0
                      u:
                        _id: aobEdbYhXfu5hkeqG
                        username: tester
                      ts: '2016-12-09T16:53:06.761Z'
                      ro: false
                      sysMes: true
                      _updatedAt: '2016-12-09T16:53:06.761Z'
                    success: true
        '401':
          $ref: '#/components/responses/authorizationError'
  /api/v1/groups.delete:
    post:
      tags:
        - Groups
      summary: Delete Group
      description: |-
        Delete a private group.
        
        ### Changelog
        | Version | Description              |
        | ------- | ------------------------ |
        | 0.71.0  | Removed `group` property |
        | 0.49.0  | Added                    |
      operationId: post-api-v1-groups.delete
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
      requestBody:
        description: ''
        content:
          application/json:
            schema:
              type: object
              properties:
                roomId:
                  type: string
                  example: ByehQjC44FwMeiLbX
                  description: Enter the room ID. This parameter is required if no `roomName` is provided.
                roomName:
                  type: string
                  example: general
                  description: Enter the room name. This parameter is required if no `roomId` is provided.
      responses:
        '200':
          $ref: '#/components/responses/trueSuccess'
        '401':
          $ref: '#/components/responses/authorizationError'
  /api/v1/groups.history:
    get:
      tags:
        - Groups
      summary: Get Group History
      description: |-
        Retrieves the messages from a group/channel you belong to.
        
        ### Changelog
        | Version | Description             |
        | ------- | ----------------------- |
        | 0.75.0  | Added `offset` property |
        | 0.48.0  | Added                   |
      operationId: get-api-v1-groups.history
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
        - $ref: '#/components/parameters/RoomId'
        - name: latest
          in: query
          description: The end of time range of messages to retrieve. The default value is the current date and time.
          schema:
            type: string
          example: '2016-09-30T13:42:25.304Z'
        - name: oldest
          in: query
          description: The start of the time range of messages to retrieve
          schema:
            type: string
          example: '2016-05-30T13:42:25.304Z'
        - name: inclusive
          in: query
          description: Whether messages which land on latest and oldest should be included. The default value is false.
          schema:
            type: boolean
          example: true
        - name: unreads
          in: query
          description: Whether the amount of unreads should be included. The default value is false.
          schema:
            type: boolean
          example: false
        - $ref: '#/components/parameters/offset'
        - $ref: '#/components/parameters/count'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  messages:
                    type: array
                    items:
                      type: object
                      properties:
                        _id:
                          type: string
                        rid:
                          type: string
                        msg:
                          type: string
                        ts:
                          type: string
                        u:
                          type: object
                          properties:
                            _id:
                              type: string
                            username:
                              type: string
                        _updatedAt:
                          type: string
                        t:
                          type: string
                        groupable:
                          type: boolean
                  success:
                    type: boolean
              examples:
                Success:
                  value:
                    messages:
                      - _id: AkzpHAvZpdnuchw2a
                        rid: ByehQjC44FwMeiLbX
                        msg: hi
                        ts: '2016-12-09T12:50:51.555Z'
                        u:
                          _id: y65tAmHs93aDChMWu
                          username: testing
                        _updatedAt: '2016-12-09T12:50:51.562Z'
                      - _id: vkLMxcctR4MuTxreF
                        t: uj
                        rid: ByehQjC44FwMeiLbX
                        ts: '2016-12-08T15:41:37.730Z'
                        msg: testing2
                        u:
                          _id: bRtgdhzM6PD9F8pSx
                          username: testing2
                        groupable: false
                        _updatedAt: '2016-12-08T16:03:25.235Z'
                      - _id: bfRW658nEyEBg75rc
                        t: uj
                        rid: ByehQjC44FwMeiLbX
                        ts: '2016-12-07T15:47:49.099Z'
                        msg: testing
                        u:
                          _id: nSYqWzZ4GsKTX4dyK
                          username: testing1
                        groupable: false
                        _updatedAt: '2016-12-07T15:47:49.099Z'
                      - _id: pbuFiGadhRZTKouhB
                        t: uj
                        rid: ByehQjC44FwMeiLbX
                        ts: '2016-12-06T17:57:38.635Z'
                        msg: testing
                        u:
                          _id: y65tAmHs93aDChMWu
                          username: testing
                        groupable: false
                        _updatedAt: '2016-12-06T17:57:38.635Z'
                    success: true
        '401':
          $ref: '#/components/responses/authorizationError'
  /api/v1/groups.info:
    get:
      tags:
        - Groups
      summary: Get Group Information
      description: |-
        Retrieves the information about a private group you belong to.
        
        ### Changelog
        | Version | Description |
        | ------- | ----------- |
        | 0.48.0  | Added       |
      operationId: get-api-v1-groups.info
      parameters:
        - $ref: '#/components/parameters/UserId'
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/Optional-RoomId'
        - $ref: '#/components/parameters/Optional-RoomName'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  group:
                    type: object
                    properties:
                      _id:
                        type: string
                      name:
                        type: string
                      fname:
                        type: string
                      t:
                        type: string
                      msgs:
                        type: integer
                      usersCount:
                        type: integer
                      u:
                        type: object
                        properties:
                          _id:
                            type: string
                          username:
                            type: string
                      customFields:
                        type: object
                      broadcast:
                        type: boolean
                      encrypted:
                        type: boolean
                      ts:
                        type: string
                      ro:
                        type: boolean
                      default:
                        type: boolean
                      sysMes:
                        type: boolean
                      _updatedAt:
                        type: string
                  success:
                    type: boolean
              examples:
                Success:
                  value:
                    group:
                      _id: ByehQjC44FwMeiLbX
                      name: testing
                      fname: testing
                      t: p
                      msgs: 0
                      usersCount: 2
                      u:
                        _id: HKKPmF8rZh45GMHWH
                        username: marc.anp
                      customFields: {}
                      broadcast: false
                      encrypted: false
                      ts: '2020-05-21T13:16:24.749Z'
                      ro: false
                      default: false
                      sysMes: true
                      _updatedAt: '2020-05-21T13:16:24.772Z'
                    success: true

  /api/v1/groups.invite:
    post:
      tags:
        - Groups
      summary: Invite Users to Group
      description: |-
        Invite one user or bulk users to the group/channel.
        
        ### Changelog
        | Version | Description |
        | ------- | ----------- |
        | 0.48.0  | Added       |
      operationId: post-api-v1-groups.invite
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                    roomId:
                      type: string
                      description: The group ID
                    userId:
                      type: string
                      description: The ID of the user to be invited. You can also use the parameter `userIds` as an array to invite more than one user. For example, `["nSYqWzZ4GsKTX4dyK", "SYqWzZ4Gsasdfgh"]`
              required:
                - roomId
                - userId
            examples:
              Example:
                value:
                  roomId: ByehQjC44FwMeiLbX
                  userId: nSYqWzZ4GsKTX4dyK
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  group:
                    type: object
                    properties:
                      _id:
                        type: string
                      ts:
                        type: string
                      t:
                        type: string
                      name:
                        type: string
                      usernames:
                        type: array
                        items:
                          type: string
                      u:
                        type: object
                        properties:
                          _id:
                            type: string
                          username:
                            type: string
                      msgs:
                        type: integer
                      _updatedAt:
                        type: string
                      lm:
                        type: string
                  success:
                    type: boolean
              examples:
                Success:
                  value:
                    group:
                      _id: ByehQjC44FwMeiLbX
                      ts: '2016-11-30T21:23:04.737Z'
                      t: p
                      name: testing
                      usernames:
                        - testing
                        - testing1
                      u:
                        _id: aobEdbYhXfu5hkeqG
                        username: testing1
                      msgs: 1
                      _updatedAt: '2016-12-09T12:50:51.575Z'
                      lm: '2016-12-09T12:50:51.555Z'
                    success: true
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  error:
                    type: string
                  errorType:
                    type: string
                  details:
                    type: object
                    properties:
                      method:
                        type: string
              examples:
                Permission required:
                  value:
                    success: false
                    error: Not allowed [error-not-allowed]
                    errorType: error-not-allowed
                    details:
                      method: addUsersToRoom

  /api/v1/groups.kick:
    post:
      tags:
        - Groups
      summary: Remove User from Group
      description: |-
        Remove a user from the group/channel.
        
        ### Changelog
        | Version | Description |
        | ------- | ----------- |
        | 0.48.0  | Added       |
      operationId: post-api-v1-groups.kick
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                roomId:
                  type: string
                userId:
                  type: string
              required:
                - roomId
                - userId
            examples:
              Example:
                value:
                  roomId: ByehQjC44FwMeiLbX
                  userId: nSYqWzZ4GsKTX4dyK
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  group:
                    type: object
                    properties:
                      _id:
                        type: string
                      name:
                        type: string
                      t:
                        type: string
                      usernames:
                        type: array
                        items:
                          type: string
                      msgs:
                        type: integer
                      u:
                        type: object
                        properties:
                          _id:
                            type: string
                          username:
                            type: string
                      ts:
                        type: string
                      ro:
                        type: boolean
                      sysMes:
                        type: boolean
                      _updatedAt:
                        type: string
                  success:
                    type: boolean
              examples:
                Success:
                  value:
                    group:
                      _id: ByehQjC44FwMeiLbX
                      name: invite-me
                      t: p
                      usernames:
                        - testing1
                      msgs: 0
                      u:
                        _id: aobEdbYhXfu5hkeqG
                        username: testing1
                      ts: '2016-12-09T15:08:58.042Z'
                      ro: false
                      sysMes: true
                      _updatedAt: '2016-12-09T15:22:40.656Z'
                    success: true
        '401':
          $ref: '#/components/responses/authorizationError'
  /api/v1/groups.leave:
    post:
      tags:
        - Groups
      summary: Leave Group
      description: |-
        Leave a group. The group owner must set another owner before leaving the group.
        
        ### Changelog
        | Version | Description |
        | ------- | ----------- |
        | 0.48.0  | Added       |
      operationId: post-groups.leave
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                roomId:
                  type: string
                  example: ByehQjC44FwMeiLbX
                  description: The group ID that you want to leave.
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  group:
                    type: object
                    properties:
                      _id:
                        type: string
                      name:
                        type: string
                      t:
                        type: string
                      usernames:
                        type: array
                        items:
                          type: string
                      msgs:
                        type: integer
                      u:
                        type: object
                        properties:
                          _id:
                            type: string
                          username:
                            type: string
                      ts:
                        type: string
                      ro:
                        type: boolean
                      sysMes:
                        type: boolean
                      _updatedAt:
                        type: string
                  success:
                    type: boolean
              examples:
                Success:
                  value:
                    group:
                      _id: ByehQjC44FwMeiLbX
                      name: invite-me
                      t: p
                      usernames:
                        - testing2
                      msgs: 0
                      u:
                        _id: aobEdbYhXfu5hkeqG
                        username: testing1
                      ts: '2016-12-09T15:08:58.042Z'
                      ro: false
                      sysMes: true
                      _updatedAt: '2016-12-09T15:22:40.656Z'
                    success: true
        '401':
          $ref: '#/components/responses/authorizationError'
  /api/v1/groups.listAll:
    get:
      tags:
        - Groups
      summary: Get List of User Groups
      description: |-
        Lists all of the groups/channels of any users.
        
        Permission required: `view-room-administration`
        
        ### Changelog
        | Version | Description                    |
        | ------- | ------------------------------ |
        | 0.62.0  | Add 'query' parameter support. |
        | 0.59.0  | Added                          |
      operationId: get-api-v1-groups.listAll
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
        - $ref: '#/components/parameters/offset'
        - $ref: '#/components/parameters/count'
        - $ref: '#/components/parameters/sort'
        - $ref: '#/components/parameters/query'
        - $ref: '#/components/parameters/fields'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  groups:
                    type: array
                    items:
                      type: object
                      properties:
                        _id:
                          type: string
                        name:
                          type: string
                        fname:
                          type: string
                        t:
                          type: string
                        msgs:
                          type: integer
                        u:
                          type: object
                          properties:
                            _id:
                              type: string
                            username:
                              type: string
                        customFields:
                          type: object
                          properties:
                            companyId:
                              type: string
                        ts:
                          type: string
                        ro:
                          type: boolean
                        sysMes:
                          type: boolean
                        _updatedAt:
                          type: string
                  offset:
                    type: integer
                  count:
                    type: integer
                  total:
                    type: integer
                  success:
                    type: boolean
              examples:
                Success:
                  value:
                    groups:
                      - _id: xA52DRDM7dqx2PfTp
                        name: private1
                        fname: private1
                        t: p
                        msgs: 0
                        u:
                          _id: 3WpJQkDHhrWPBvXuW
                          username: admin
                        customFields:
                          companyId: org1
                        ts: '2018-01-21T21:05:06.729Z'
                        ro: false
                        sysMes: true
                        _updatedAt: '2018-01-21T21:05:06.729Z'
                    offset: 0
                    count: 1
                    total: 1
                    success: true
        '401':
          $ref: '#/components/responses/authorizationError'
  /api/v1/groups.list:
    get:
      tags:
        - Groups
      summary: Get Groups
      description: |-
        Lists all of the groups/channels the user has joined.
        
        ### Changelog
        | Version | Description                                  |
        | ------- | -------------------------------------------- |
        | 0.67.0  | Removed `query` parameter support.           |
        | 0.62.0  | Add `query` parameter support.               |
        | 0.49.0  | Count and offset query parameters supported. |
        | 0.33.0  | Added                                        |
      operationId: get-api-v1-groups.list
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
        - $ref: '#/components/parameters/offset'
        - $ref: '#/components/parameters/count'
        - $ref: '#/components/parameters/sort'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  groups:
                    type: array
                    items:
                      type: object
                      properties:
                        _id:
                          type: string
                        name:
                          type: string
                        t:
                          type: string
                        msgs:
                          type: integer
                        u:
                          type: object
                          properties:
                            _id:
                              type: string
                            username:
                              type: string
                        ts:
                          type: string
                        ro:
                          type: boolean
                        sysMes:
                          type: boolean
                        _updatedAt:
                          type: string
                  offset:
                    type: integer
                  count:
                    type: integer
                  total:
                    type: integer
                  success:
                    type: boolean
              examples:
                Success:
                  value:
                    groups:
                      - _id: ByehQjC44FwMeiLbX
                        name: test-test
                        t: p
                        msgs: 0
                        u:
                          _id: aobEdbYhXfu5hkeqG
                          username: testing1
                        ts: '2016-12-09T15:08:58.042Z'
                        ro: false
                        sysMes: true
                        _updatedAt: '2016-12-09T15:22:40.656Z'
                      - _id: t7qapfhZjANMRAi5w
                        name: testing
                        t: p
                        msgs: 0
                        u:
                          _id: y65tAmHs93aDChMWu
                          username: testing2
                        ts: '2016-12-01T15:08:58.042Z'
                        ro: false
                        sysMes: true
                        _updatedAt: '2016-12-09T15:22:40.656Z'
                    offset: 0
                    count: 1
                    total: 1
                    success: true
        '401':
          $ref: '#/components/responses/authorizationError'
  /api/v1/groups.members:
    get:
      tags:
        - Groups
      summary: List Group Members
      description: |-
        Lists the members of a private group. 
        
        Permission required if the room is broadcast.: `view-broadcast-member-list`
        
        ### Changelog
        | Version | Description |
        | ------- | ----------- |
        | 0.59.0  | Added       |
      operationId: get-api-v1-groups.members
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
        - $ref: '#/components/parameters/Optional-RoomId'
        - $ref: '#/components/parameters/Optional-RoomName'
        - $ref: '#/components/parameters/sort'
        - $ref: '#/components/parameters/count'
        - $ref: '#/components/parameters/offset'
        - name: status
          in: query
          description: The user's status (search filter).
          schema:
            type: array
            items:
              type: string
          example: '["online", "away"]'
        - name: filter
          in: query
          description: Extra search filters to be applied to the fields defined in the `Accounts_SearchFields` setting.
          schema:
            type: string
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  members:
                    type: array
                    items:
                      type: object
                      properties:
                        _id:
                          type: string
                        status:
                          type: string
                        name:
                          type: string
                        utcOffset:
                          type: integer
                        username:
                          type: string
                  count:
                    type: integer
                  offset:
                    type: integer
                  total:
                    type: integer
                  success:
                    type: boolean
              examples:
                Success:
                  value:
                    members:
                      - _id: Q4GkX6RMepGDdQ7YJ
                        status: online
                        name: Marc Pow
                        utcOffset: -3
                        username: marc.pow
                      - _id: rocket.cat
                        name: Rocket.Cat
                        username: rocket.cat
                        status: online
                        utcOffset: 0
                    count: 2
                    offset: 0
                    total: 2
                    success: true
        '401':
          $ref: '#/components/responses/authorizationError'
  /groups.membersByHighestRole:
    get:
      tags:
        - Groups
      summary: Group Members By Highest Role
      description: |-
        Lists the participants of a group/channel sorted by their room-scoped roles.
        
        Room members are sorted by their most important role in the room. The following hierarchy is used: **Owner > Moderator > Other roles**. The information related to each user's highest role is returned in the `highestRole` object within each of them.
        
        The `highestRole` object contains a numeric `level` field, which ranges from 0 to 2
        * Level 0 stands for room owners.
        * Level 1 is assigned to moderators (who are not room owners).
        * Level 2 is assigned to all other team members regardless of their room-scoped roles.
        
        The `highestRole` object also contains a `role` field, which has three possible values: `owner`, `moderator` or `member`, which are assigned to levels 0, 1, and 2, respectively.
        
        Requires `view-broadcast-member-list` if the room is a broadcast.
        
        ### Changelog
        | Version | Description |
        | ------- | ----------- |
        | 6.5.0   | Added       |
      operationId: get-groups.membersByHighestRole
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
        - $ref: '#/components/parameters/offset'
        - $ref: '#/components/parameters/count'
        - $ref: '#/components/parameters/sort'
        - $ref: '#/components/parameters/Optional-RoomId'
        - $ref: '#/components/parameters/Optional-RoomName'
        - name: status
          in: query
          description: The user's status (search filter).
          schema:
            type: array
            items:
              type: string
          example: '["online", "away"]'
        - name: filter
          in: query
          description: Extra search filters to be applied to the fields defined in the `Accounts_SearchFields` setting.
          schema:
            type: string
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  members:
                    type: array
                    items:
                      type: object
                      properties:
                        _id:
                          type: string
                        status:
                          type: string
                        _updatedAt:
                          type: string
                        name:
                          type: string
                        statusConnection:
                          type: string
                        username:
                          type: string
                        avatarETag:
                          type: string
                        highestRole:
                          type: object
                          properties:
                            role:
                              type: string
                            level:
                              type: integer
                  count:
                    type: integer
                  offset:
                    type: integer
                  total:
                    type: integer
                  success:
                    type: boolean
              examples:
                Succcess:
                  value:
                    members:
                      - _id: JmR3T4TFfppJCfmq9
                        status: offline
                        _updatedAt: '2023-07-20T20:43:05.895Z'
                        name: Matheus Barbosa Silva
                        statusConnection: offline
                        username: matheus.barbosa
                        avatarETag: fdJn5SqCwg4ZwbywD
                        highestRole:
                          role: owner
                          level: 0
                      - _id: edjvbnb7pGC3MZNSP
                        status: offline
                        _updatedAt: '2023-07-17T21:42:31.845Z'
                        username: john
                        name: John
                        statusConnection: offline
                        highestRole:
                          role: member
                          level: 2
                    count: 2
                    offset: 0
                    total: 2
                    success: true
        '401':
          $ref: '#/components/responses/authorizationError'
  /api/v1/groups.messages:
    get:
      tags:
        - Groups
      summary: Get Group Messages
      description: |-
        Lists all of the specific groups/channels messages on the workspace. 
        
        ### Changelog
        | Version | Description |
        | ------- | ----------- |
        | 0.59.0  | Added       |
        
      operationId: get-api-v1-groups.messages
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
        - $ref: '#/components/parameters/Optional-RoomId'
        - $ref: '#/components/parameters/Optional-RoomName'
        - $ref: '#/components/parameters/fields'
        - $ref: '#/components/parameters/query'
        - $ref: '#/components/parameters/sort'
        - $ref: '#/components/parameters/offset'
        - $ref: '#/components/parameters/count'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  messages:
                    type: array
                    items:
                      type: object
                      properties:
                        _id:
                          type: string
                        rid:
                          type: string
                        msg:
                          type: string
                        ts:
                          type: string
                        u:
                          type: object
                          properties:
                            _id:
                              type: string
                            username:
                              type: string
                            name:
                              type: string
                        _updatedAt:
                          type: string
                        reactions:
                          type: object
                          properties:
                            ':frowning2:':
                              type: object
                              properties:
                                usernames:
                                  type: array
                                  items:
                                    type: string
                        mentions:
                          type: array
                          items:
                            type: object
                        channels:
                          type: array
                          items:
                            type: object
                        starred:
                          type: object
                          properties:
                            _id:
                              type: string
                        t:
                          type: string
                        groupable:
                          type: boolean
                  count:
                    type: integer
                  offset:
                    type: integer
                  total:
                    type: integer
                  success:
                    type: boolean
              examples:
                Success:
                  value:
                    messages:
                      - _id: CeXwh5eBbdrtvnqG6
                        rid: agh2Sucgb54RQ8dDo
                        msg: s
                        ts: '2018-10-05T13:48:21.616Z'
                        u:
                          _id: KPkEYwKKBKZnEEPpt
                          username: marc.pow
                          name: Marc Pow
                        _updatedAt: '2018-10-05T13:48:49.535Z'
                        reactions:
                          ':frowning2:':
                            usernames:
                              - marcos.defendi
                        mentions: []
                        channels: []
                        starred:
                          _id: KPkEYwKKBKZnEEPpt
                      - _id: MrAeupRiF9TvhMesK
                        t: room_changed_privacy
                        rid: agh2Sucgb54RQ8dDo
                        ts: '2018-10-05T00:11:16.998Z'
                        msg: Private Group
                        u:
                          _id: rocketchat.internal.admin.test
                          username: rocketchat.internal.admin.test
                        groupable: false
                        _updatedAt: '2018-10-05T00:11:16.998Z'
                    count: 2
                    offset: 0
                    total: 2
                    success: true
        '401':
          $ref: '#/components/responses/authorizationError'
  /api/v1/groups.moderators:
    get:
      tags:
        - Groups
      summary: Get Group Moderators
      description: |-
        Lists all group moderators.
        
        ### Changelog
        | Version | Description |
        | ------- | ----------- |
        | 0.70.0  | Added       |
      operationId: get-api-v1-groups.moderators
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
        - $ref: '#/components/parameters/Optional-RoomId'
        - $ref: '#/components/parameters/Optional-RoomName'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  moderators:
                    type: array
                    items:
                      type: object
                  success:
                    type: boolean
              examples:
                Success:
                  value:
                    moderators:
                      - _id: hifeRG56fjlsp
                        username: marc.cat
                        name: Marc Cat
                    success: true
        '401':
          $ref: '#/components/responses/authorizationError'
  /api/v1/groups.open:
    post:
      tags:
        - Groups
      summary: Add Group to List
      description: |-
        Adds the group/channel back to the user's list of groups.
        
        ### Changelog
        | Version | Description |
        | ------- | ----------- |
        | 0.48.0  | Added       |
      operationId: post-api-v1-groups.open
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                roomId:
                  type: string
                  example: ByehQjC44FwMeiLbX
                  description: The room ID.
      responses:
        '200':
          $ref: '#/components/responses/trueSuccess'
        '401':
          $ref: '#/components/responses/authorizationError'
  /api/v1/groups.removeLeader:
    post:
      tags:
        - Groups
      summary: Remove Group Leader
      description: |-
        Remove the `leader` role from a user in a group. 

        Permission required: `set-leader`


        ### Changelog

        | Version | Description |
        | ------- | ----------- |
        | 0.58.0  | Added       |
      operationId: post-api-v1-groups.removeLeader
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                roomId:
                  type: string
                  description: The group ID.
                userId:
                  type: string
                  description: The user ID.
              required:
                - roomId
                - userId
            examples:
              Example:
                value:
                  roomId: ByehQjC44FwMeiLbX
                  userId: oCHkav5Zf6vmpu2W2
      responses:
        '200':
          $ref: '#/components/responses/trueSuccess'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  error:
                    type: string
                  errorType:
                    type: string
              examples:
                User is not a leader:
                  value:
                    success: false
                    error: 'User is not a leader [error-user-not-leader]'
                    errorType: error-user-not-leader
        '401':
          $ref: '#/components/responses/authorizationError'
  /api/v1/groups.removeModerator:
    post:
      tags:
        - Groups
      summary: Remove Group Moderator
      description: |-
        Remove the `moderator` role from a user in a group. 

        Permission required: `set-moderator`

        ### Changelog

        | Version | Description |
        | ------- | ----------- |
        | 0.49.4  | Added       |
      operationId: post-api-v1-groups.removeModerator
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                roomId:
                  type: string
                  description: The group id
                userId:
                  type: string
                  description: The id of the user to be romoved from moderator
              required:
                - roomId
                - userId
            examples:
              Success:
                value:
                  roomId: ByehQjC44FwMeiLbX
                  userId: oCHkav5Zf6vmpu2W2
      responses:
        '200':
          $ref: '#/components/responses/trueSuccess'
        '401':
          $ref: '#/components/responses/authorizationError'
  /api/v1/groups.removeOwner:
    post:
      tags:
        - Groups
      summary: Remove Group Owner
      description: |
        Remove the `owner` role from a user in a group. 

        Permission required: `set-owner` 

        ### Changelog

        | Version | Description |
        | ------- | ----------- |
        | 0.49.4  | Added       |
      operationId: post-api-v1-groups.removeOwner
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                roomId:
                  type: string
                  description: The room id
                userId:
                  type: string
                  description: 'The id of the user to be removed as owner '
              required:
                - roomId
                - userId
            examples:
              Success:
                value:
                  roomId: ByehQjC44FwMeiLbX
                  userId: oCHkav5Zf6vmpu2W2
      responses:
        '200':
          $ref: '#/components/responses/trueSuccess'
        '401':
          $ref: '#/components/responses/authorizationError'
  /api/v1/groups.rename:
    post:
      tags:
        - Groups
      summary: Rename Group
      description: |-
        Update the name of the private group.
        
        ### Changelog
        | Version | Description |
        | ------- | ----------- |
        | 0.48.0  | Added       |
      operationId: post-api-v1-groups.rename
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                roomId:
                  type: string
                  description: The group's ID
                name:
                  type: string
                  description: The new name of the private group. It can not be the same as another or the existing name.
              required:
                - roomId
                - name
            examples:
              Example:
                value:
                  roomId: ByehQjC44FwMeiLbX
                  name: new-name
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  group:
                    type: object
                    properties:
                      _id:
                        type: string
                      name:
                        type: string
                      t:
                        type: string
                      usernames:
                        type: array
                        items:
                          type: string
                      msgs:
                        type: integer
                      u:
                        type: object
                        properties:
                          _id:
                            type: string
                          username:
                            type: string
                      ts:
                        type: string
                      ro:
                        type: boolean
                      sysMes:
                        type: boolean
                      _updatedAt:
                        type: string
                  success:
                    type: boolean
              examples:
                Success:
                  value:
                    group:
                      _id: ByehQjC44FwMeiLbX
                      name: new-name
                      t: p
                      usernames:
                        - testing1
                      msgs: 4
                      u:
                        _id: aobEdbYhXfu5hkeqG
                        username: testing1
                      ts: '2016-12-09T15:08:58.042Z'
                      ro: false
                      sysMes: true
                      _updatedAt: '2016-12-09T15:57:44.686Z'
                    success: true

  /api/v1/groups.setAnnouncement:
    post:
      tags:
        - Groups
      summary: Set Group Announcement
      description: |-
        Set the group announcement.
        
        ### Changelog
        | Version | Description |
        | ------- | ----------- |
        | 0.70.0  | Added       |
      operationId: post-api-v1-groups.setAnnouncement
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                roomId:
                  type: string
                  description: The group id
                announcement:
                  type: string
                  description: The announcement to set for the group.
              required:
                - roomId
                - announcement
            examples:
              Example:
                value:
                  roomId: ByehQjC44FwMeiLbX
                  announcement: Test out everything
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  announcement:
                    type: string
                  success:
                    type: boolean
              examples:
                Success:
                  value:
                    announcement: Test out everything.
                    success: true
        '401':
          $ref: '#/components/responses/authorizationError'
  /api/v1/groups.setCustomFields:
    post:
      tags:
        - Groups
      summary: Sets Group Custom Fields
      description: |-
        Sets the custom fields for the private group.
        
        ### Changelog
        | Version | Description |
        | ------- | ----------- |
        | 0.62.0  | Added       |
      operationId: post-api-v1-groups.setCustomFields
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                    roomId:
                      type: string
                      description: The private group's ID. Alternatively, use the `roomName` parameter and provide the room's name as the value.
                    customFields:
                      type: object
                      description: The custom fields to set for the private group.
              required:
                - roomId
                - customFields
            examples:
              Example:
                value:
                  roomId: euzoT67Gx6nXcn66M
                  customFields:
                    company: sell-and-more
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  group:
                    type: object
                    properties:
                      _id:
                        type: string
                      name:
                        type: string
                      fname:
                        type: string
                      t:
                        type: string
                      msgs:
                        type: integer
                      u:
                        type: object
                        properties:
                          _id:
                            type: string
                          username:
                            type: string
                      customFields:
                        type: object
                        properties:
                          company:
                            type: string
                      ts:
                        type: string
                      ro:
                        type: boolean
                      sysMes:
                        type: boolean
                      _updatedAt:
                        type: string
                      username:
                        type: string
                  success:
                    type: boolean
                  developerWarning:
                    type: string
              examples:
                Success:
                  value:
                    group:
                      _id: euzoT67Gx6nXcn66M
                      name: channel.cf.1518990680083
                      fname: channel.cf.1518990680083
                      t: p
                      msgs: 0
                      u:
                        _id: ew28FnZqipDpvKw3R
                        username: rocketchat.internal.admin.test
                      customFields:
                        company: sell-and-more
                      ts: '2018-02-18T21:51:20.091Z'
                      ro: false
                      sysMes: true
                      _updatedAt: '2018-02-23T11:27:01.411Z'
                      username: rocketchat.internal.admin.test
                    success: true
                    developerWarning: '[WARNING]: The "usernames" field has been removed for performance reasons. Please use the "*.members" endpoint to get a list of members/users in a room.'

  /api/v1/groups.setDescription:
    post:
      tags:
        - Groups
      summary: Set Group Description
      description: |-
        Set the description for the private group.
        
        ### Changelog
        | Version | Description |
        | ------- | ----------- |
        | 0.48.0  | Added       |
      operationId: post-api-v1-groups.setDescription
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                roomId:
                  type: string
                  description: The group id
                description:
                  type: string
                  description: The group description
              required:
                - roomId
                - description
            examples:
              Example:
                value:
                  roomId: ByehQjC44FwMeiLbX
                  description: Test out everything
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  description:
                    type: string
                  success:
                    type: boolean
              examples:
                Success:
                  value:
                    description: Testing out everything.
                    success: true
        '401':
          $ref: '#/components/responses/authorizationError'
  /api/v1/groups.setPurpose:
    post:
      tags:
        - Groups
      summary: Set Group Purpose
      description: |-
        Sets the description for the group/channel (the same as groups.setDescription, obsolete).
        
        ### Changelog
        | Version | Description |
        | ------- | ----------- |
        | 0.48.0  | Added       |
      operationId: post-api-v1-groups.setPurpose
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                roomId:
                  type: string
                  description: The group id
                purpose:
                  type: string
                  description: The group purpose
              required:
                - roomId
                - purpose
            examples:
              Example:
                value:
                  roomId: ByehQjC44FwMeiLbX
                  purpose: Test out everything
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  purpose:
                    type: string
                  success:
                    type: boolean
              examples:
                Success:
                  value:
                    purpose: Testing out everything.
                    success: true

  /api/v1/groups.setReadOnly:
    post:
      tags:
        - Groups
      summary: Set Group as Read Only
      description: |-
        Set group as read-only or not.
        
        ### Changelog
        | Version | Description |
        | ------- | ----------- |
        | 0.49.0  | Added       |
      operationId: post-api-v1-groups.setReadOnly
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                roomId:
                  type: string
                  description: The group id
                readOnly:
                  type: boolean
                  description: Boolean to represent the group read-only status
              required:
                - roomId
                - readOnly
            examples:
              Example:
                value:
                  roomId: ByehQjC44FwMei5LbX
                  readOnly: true
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  group:
                    type: object
                    properties:
                      _id:
                        type: string
                      name:
                        type: string
                      t:
                        type: string
                      msgs:
                        type: integer
                      u:
                        type: object
                        properties:
                          _id:
                            type: string
                          username:
                            type: string
                      ts:
                        type: string
                      ro:
                        type: boolean
                      sysMes:
                        type: boolean
                      _updatedAt:
                        type: string
                      usernames:
                        type: array
                        items:
                          type: string
                      joinCodeRequired:
                        type: boolean
                      muted:
                        type: array
                        items:
                          type: object
                  success:
                    type: boolean
              examples:
                Success:
                  value:
                    group:
                      _id: ByehQjC44FwMei5LbX
                      name: testing-private
                      t: p
                      msgs: 0
                      u:
                        _id: aiPqNoGkjpNDiRx6d
                        username: goose160
                      ts: '2017-01-05T18:02:50.754Z'
                      ro: true
                      sysMes: true
                      _updatedAt: '2017-01-05T19:02:24.429Z'
                      usernames:
                        - goose160
                        - graywolf336
                      joinCodeRequired: true
                      muted: []
                    success: true
        '401':
          $ref: '#/components/responses/authorizationError'
  /api/v1/groups.setTopic:
    post:
      tags:
        - Groups
      summary: Set Group Topic
      description: |-
        Sets the topic for the group/channel.
        
        ### Changelog
        | Version | Description |
        | ------- | ----------- |
        | 0.48.0  | Added       |
      operationId: post-api-v1-groups.setTopic
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                roomId:
                  type: string
                  description: The group id
                topic:
                  type: string
                  description: The group topic
              required:
                - roomId
                - topic
            examples:
              Example:
                value:
                  roomId: ByehQjC44FwMeiLbX
                  topic: Discuss all of the testing
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  topic:
                    type: string
                  success:
                    type: boolean
              examples:
                Success:
                  value:
                    topic: Testing out everything.
                    success: true
        '401':
          $ref: '#/components/responses/authorizationError'
  /api/v1/groups.setType:
    post:
      tags:
        - Groups
      summary: Set Group Type
      description: |-
        Set the group type. The group type can be either `c` (public) or `p` (private).
        
        ### Changelog
        | Version | Description |
        | ------- | ----------- |
        | 0.49.0  | Added       |
      operationId: post-api-v1-groups.setType
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                roomId:
                  type: string
                  description: The group id
                type:
                  type: string
                  description: The group type
              required:
                - roomId
                - type
            examples:
              Example:
                value:
                  roomId: ByehQjC44FwMeiLbX
                  type: c
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  group:
                    type: object
                    properties:
                      _id:
                        type: string
                      name:
                        type: string
                      t:
                        type: string
                      msgs:
                        type: integer
                      u:
                        type: object
                        properties:
                          _id:
                            type: string
                          username:
                            type: string
                      ts:
                        type: string
                      ro:
                        type: boolean
                      sysMes:
                        type: boolean
                      _updatedAt:
                        type: string
                      usernames:
                        type: array
                        items:
                          type: string
                      joinCodeRequired:
                        type: boolean
                      muted:
                        type: array
                        items:
                          type: object
                  success:
                    type: boolean
              examples:
                Example:
                  value:
                    group:
                      _id: ByehQjC44FwMeiLbX
                      name: testing0
                      t: c
                      msgs: 0
                      u:
                        _id: aiPqNoGkjpNDiRx6d
                        username: goose160
                      ts: '2017-01-05T18:02:50.754Z'
                      ro: false
                      sysMes: true
                      _updatedAt: '2017-01-05T19:02:24.429Z'
                      usernames:
                        - goose160
                        - graywolf336
                      joinCodeRequired: true
                      muted: []
                    success: true
        '401':
          $ref: '#/components/responses/authorizationError'
  /api/v1/groups.unarchive:
    post:
      tags:
        - Groups
      summary: Unarchive Group
      description: |-
        Unarchive a group.
        
        ### Changelog
        | Version | Description |
        | ------- | ----------- |
        | 0.48.0  | Added       |
      operationId: post-api-v1-groups.unarchive
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                roomId:
                  type: string
                  example: ByehQjC44FwMeiLbX
                  description: The room ID that you want to unarchive.
      responses:
        '200':
          $ref: '#/components/responses/trueSuccess'
        '401':
          $ref: '#/components/responses/authorizationError'
  /api/v1/groups.files:
    get:
      tags:
        - Groups
      summary: Get Group Files
      description: |-
        Get all files in a group.  
        
        ### Changelog
        | Version | Description |
        | ------- | ----------- |
        | 0.64.0  | Change userId to user object in response       |
        | 0.59.0  | Added                                          |
      operationId: get-api-v1-groups.files
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
        - $ref: '#/components/parameters/Optional-RoomName'
        - $ref: '#/components/parameters/Optional-RoomId'
        - $ref: '#/components/parameters/offset'
        - $ref: '#/components/parameters/count'
        - $ref: '#/components/parameters/sort'
        - $ref: '#/components/parameters/query'
        - $ref: '#/components/parameters/fields'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  files:
                    type: array
                    items:
                      type: object
                      properties:
                        _id:
                          type: string
                        name:
                          type: string
                        size:
                          type: integer
                        type:
                          type: string
                        rid:
                          type: string
                        description:
                          type: string
                        store:
                          type: string
                        complete:
                          type: boolean
                        uploading:
                          type: boolean
                        extension:
                          type: string
                        progress:
                          type: integer
                        user:
                          type: object
                          properties:
                            _id:
                              type: string
                            username:
                              type: string
                            name:
                              type: string
                        _updatedAt:
                          type: string
                        instanceId:
                          type: string
                        etag:
                          type: string
                        path:
                          type: string
                        token:
                          type: string
                        uploadedAt:
                          type: string
                        url:
                          type: string
                  count:
                    type: integer
                  offset:
                    type: integer
                  total:
                    type: integer
                  success:
                    type: boolean
              examples:
                Example:
                  value:
                    files:
                      - _id: S78TNnvaWGwdYRaCD
                        name: images.jpeg
                        size: 9778
                        type: image/jpeg
                        rid: GENERAL
                        description: ''
                        store: 'GridFS:Uploads'
                        complete: true
                        uploading: false
                        extension: jpeg
                        progress: 1
                        user:
                          _id: ksKsKmrjvxzkzxkww
                          username: rocket.cat
                          name: Rocket Cat
                        _updatedAt: '2018-03-08T14:47:37.003Z'
                        instanceId: uZG54xuoKauKHykbQ
                        etag: jPaviS9qG22xC5sDC
                        path: '/ufs/GridFS:Uploads/S78TNnvaWGwdYRaCD/images.jpeg'
                        token: 28cAb868d9
                        uploadedAt: '2018-03-08T14:47:37.295Z'
                        url: '/ufs/GridFS:Uploads/S78TNnvaWGwdYRaCD/images.jpeg'
                    count: 1
                    offset: 0
                    total: 1
                    success: true
        '401':
          $ref: '#/components/responses/authorizationError'
  /api/v1/groups.setEncrypted:
    post:
      tags:
        - Groups
      summary: Set Group as Encrypted
      description: |-
        Set group encryption.
        
        ### Changelog
        | Version | Description |
        | ------- | ----------- |
        | 3.13.0  | Added       |
      operationId: post-api-v1-groups.setEncrypted
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                    encrypted:
                      type: boolean
                      description: Whether or not to encrypt the room.
                    roomId:
                      type: string
                      description: The group ID. Alternatively, use the `roomName` parameter and enter the group name.
              required:
                    - encrypted
                    - roomName
            examples:
              Example:
                value:
                  encrypted: false
                  roomId: JZ8Y2dLfYhsg323Rf
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  group:
                    type: object
                    properties:
                      _id:
                        type: string
                      fname:
                        type: string
                      description:
                        type: string
                      broadcast:
                        type: boolean
                      encrypted:
                        type: boolean
                      teamMain:
                        type: boolean
                      name:
                        type: string
                      t:
                        type: string
                      msgs:
                        type: integer
                      usersCount:
                        type: integer
                      u:
                        type: object
                        properties:
                          _id:
                            type: string
                          username:
                            type: string
                      ts:
                        type: string
                      ro:
                        type: boolean
                      teamId:
                        type: string
                      _updatedAt:
                        type: string
                  success:
                    type: boolean
              examples:
                Success:
                  value:
                    group:
                      _id: JZ8Y2dLfYhsg323Rf
                      fname: test
                      description: ''
                      broadcast: false
                      encrypted: false
                      teamMain: true
                      name: test
                      t: p
                      msgs: 0
                      usersCount: 1
                      u:
                        _id: d26x6zSkaPSe5gCyy
                        username: rodriq
                      ts: '2021-10-22T11:59:17.029Z'
                      ro: false
                      teamId: 6172a795c563fc000acc4629
                      _updatedAt: '2021-10-22T12:00:11.496Z'
                    success: true
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  error:
                    type: string
                  errorType:
                    type: string
              examples:
                Invalid  RoomId or RoomName:
                  value:
                    success: false
                    error: 'The required "roomId" or "roomName" param provided does not match any group [error-room-not-found]'
                    errorType: error-room-not-found
                No RoomId or Roomname:
                  value:
                    success: false
                    error: 'The parameter "roomId" or "roomName" is required [error-room-param-not-provided]'
                    errorType: error-room-param-not-provided
        '401':
          $ref: '#/components/responses/authorizationError'

  /api/v1/groups.convertToTeam:
    post:
      tags:
        - Groups
      summary: Convert a Group to Team
      description: |-
        Convert a group to a team.
        
        ### Changelog
        | Version | Description |
        | ------- | ----------- |
        | 3.13.0  | Added       |
      operationId: post-api-v1-groups.convertToTeam
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                teamName:
                  type: string
                  description: Enter the team name. This parameter is required if `teamId` is not provided.
                teamId:
                  type: string
                  description: Enter the team ID. This parameter is required if `teamName` is not provided.
                roomsToRemove:
                  type: array
                  description: The room IDs to delete along with the team.
                  items:
                    type: string
                    example: "8dugqGhuRvCBLdZft"
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  team:
                    type: object
                    properties:
                      _id:
                        type: string
                      name:
                        type: string
                      type:
                        type: integer
                      createdAt:
                        type: string
                      createdBy:
                        type: object
                        properties:
                          _id:
                            type: string
                          username:
                            type: string
                      _updatedAt:
                        type: string
                      roomId:
                        type: string
                  success:
                    type: boolean
              examples:
                Success             s:
                  value:
                    team:
                      _id: 6172b15bc563fc000acc462e
                      name: ddd
                      type: 1
                      createdAt: '2021-10-22T12:40:59.928Z'
                      createdBy:
                        _id: d26x6zSkaPSe5gCyy
                        username: rodriq
                      _updatedAt: '2021-10-22T12:40:59.928Z'
                      roomId: h3HLZkQdrWCPg2RN7
                    success: true
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  error:
                    type: string
              examples:
                Team name exists:
                  value:
                    success: false
                    error: team-name-already-exists
                Room name is required:
                  value:
                    success: false
                    error: The parameter "roomId" or "roomName" is required
                Room not found:
                  value:
                    success: false
                    error: 'The required "roomId" or "roomName" param provided does not match any group [error-room-not-found]'
                    errorType: error-room-not-found
        '401':
          $ref: '#/components/responses/authorizationError'

  /api/v1/groups.roles:
    get:
      tags:
        - Groups
      summary: List Group Roles
      description: |-
          List all the roles of users in the group.
          
          ### Changelog
          | Version | Description |
          | ------- | ----------- |
          | 0.65.0  | Added       |
      operationId: get-api-v1-groups.roles
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  roles:
                    type: array
                    items:
                      type: object
                      properties:
                        rid:
                          type: string
                        u:
                          type: object
                          properties:
                            _id:
                              type: string
                            username:
                              type: string
                            name:
                              type: string
                        roles:
                          type: array
                          items:
                            type: string
                        _id:
                          type: string
                  success:
                    type: boolean
              examples:
                Example:
                  value:
                    roles:
                      - rid: BaE62jfDLXK3Xo6BA
                        u:
                          _id: BkNkw3iKgNyhMbPyW
                          username: ronnie.dio
                          name: Ronnie James Dio
                        roles:
                          - moderator
                        _id: ehPuGyZBedznJsQHp
                    success: true

  /api/v1/directory:
    get:
      tags:
        - Directory
      summary: Directory
      description: |-
        Search workspace directory for users, channels and teams. 
        
        ### Changelog
        | Version | Description |
        | ------- | ----------- |
        | 1.0.0   | Added workspace query param |
        | 0.65.0  | Added Pagination fields: count, total, offset |
        | 0.64.0  | Added |
      operationId: get-api-v1-directory
      parameters:
        - $ref: '#/components/parameters/Auth-Token'
        - $ref: '#/components/parameters/UserId'
        - name: query
          in: query
          description: 'The query to search the workspace directory. When `type` is users you can send an additional workspace field, that can be local (default) or all. Workspace=all will work only if <a href="https://docs.rocket.chat/use-rocket.chat/rocket.chat-federation" target="_blank">federation</a> is enabled.'
          required: true
          schema:
            example: '{"text": "rocket", "type": "users", "workspace": "local"}'
        - $ref: '#/components/parameters/offset'
        - $ref: '#/components/parameters/count'
        - $ref: '#/components/parameters/sort'
        - $ref: '#/components/parameters/fields'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  result:
                    type: array
                    items:
                      type: object
                      properties:
                        _id:
                          type: string
                        createdAt:
                          type: string
                        emails:
                          type: array
                          items:
                            type: object
                            properties:
                              address:
                                type: string
                              verified:
                                type: boolean
                        name:
                          type: string
                        username:
                          type: string
                        avatarETag:
                          type: string
                  count:
                    type: integer
                  offset:
                    type: integer
                  total:
                    type: integer
                  success:
                    type: boolean
              examples:
                Success:
                  value:
                    result:
                      - _id: jRca8kibJx8NkLJxt
                        createdAt: '2018-04-13T12:46:26.517Z'
                        emails:
                          - address: user.test.1523623548558@rocket.chat
                            verified: false
                        name: EditedRealNameuser.test.1523623548558
                        username: editedusernameuser.test.1523623548558
                        avatarETag: 6YbLtc4v9b4conXon
                    count: 1
                    offset: 0
                    total: 1
                    success: true
        '401':
          $ref: '#/components/responses/authorizationError'
tags:
  - name: Channels
  - name: Directory
  - name: Groups
  - name: Rooms
  - name: Teams

components:
  parameters:
    Optional-RoomId:
      name: roomId
      in: query
      description: The room id. It is required if the `roomName` is not provided.
      schema:
        type: string
      example: dlpfuijw7ej
    Optional-RoomName:
      name: roomName
      in: query
      description: The room name.  It is required if the `roomId` is not provided.
      required: false
      schema:
        type: string
      example: general
    RoomId:
      name: roomId
      in: query
      description: The room id.
      required: true
      schema:
        type: string
      example: jdiue8TGkodp
    Optional-TeamId:
      name: teamId
      in: query
      description: The team id.  It is required if the `teamName` is not provided.
      schema:
        type: string
      example: 63f3efc4b000b6b6d86704b2
    Optional-TeamName:
      name: teamName
      in: query
      description: The team name.  It is required if the `teamId` is not provided.
      required: false
      schema:
        type: string
      example: livestream
    offset:
      name: offset
      in: query
      description: 'Number of items to "skip" in the query, i.e. requests return count items, skipping the first offset items.'
      required: false
      schema:
        type: integer
      example: 50
    count:
      name: count
      in: query
      description: The number of items to return.
      required: false
      schema:
        type: integer
      example: 50
    sort:
      name: sort
      in: query
      description: 'List of fields to order by, and in which direction. This is a JSON object, with properties listed in desired order, with values of 1 for ascending, or -1 for descending. For example, {"value": -1, "_id": 1}'
      required: false
      schema: {}
    query:
      name: query
      in: query
      description: 'This parameter allows you to use MongoDB query operators to search for specific data. For example, to query users with a name that contains the letter "g": query={ "name": { "$regex": "g" } }'
      required: false
      schema: {}
    fields:
      name: fields
      in: query
      description: 'This parameter accepts a JSON object with properties that have a value of 1 or 0 to include or exclude them in the response. For example, to only retrieve the usernames of users: fields={ "username": 1 }'
      required: false
      schema:
        type: string
    Auth-Token:
      name: X-Auth-Token
      in: header
      description: The `authToken` of the authenticated user.
      required: true
      schema:
        type: string
      example: RScctEHSmLGZGywfIhWyRpyofhKOiMoUIpimhvheU3f
    UserId:
      name: X-User-Id
      in: header
      description: The `userId` of the authenticated user.
      required: true
      schema:
        type: string
      example: rbAXPnMktTFbNpwtJ
  responses:
    trueSuccess:
      description: OK
      content:
        application/json:
          schema:
            type: object
            properties:
              success:
                type: boolean
          examples:
            Success:
              value:
                success: true
    authorizationError:
      description: Unauthorized
      content:
        application/json:
          schema:
            type: object
            properties:
              status:
                type: string
              message:
                type: string
          examples:
            Authorization Error:
              value:
                status: error
                message: You must be logged in to do this.
    forbiddenError:
      description: Forbidden
      content:
        application/json:
          schema:
            type: object
            properties:
              success:
                type: boolean
              error:
                type: string
          examples:
            Permission Error:
              value:
                success: false
                error: 'User does not have the permissions required for this action [error-unauthorized]'
